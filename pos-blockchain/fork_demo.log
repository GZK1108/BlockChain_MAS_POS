2025-06-15 19:39:52,019 [DEBUG] Using selector: KqueueSelector
2025-06-15 19:39:52,022 [INFO] 启动 server (pid=17381)
2025-06-15 19:39:52,022 [INFO] 等待服务器 127.0.0.1:5000 …
2025-06-15 19:39:52,101 [DEBUG] [server] [2025-06-15 19:39:52] [INFO] [server:44] Async server started on 127.0.0.1:5000
2025-06-15 19:39:52,325 [INFO] 服务器端口就绪
2025-06-15 19:39:52,330 [DEBUG] [server] [2025-06-15 19:39:52] [INFO] [server:62] New connection from ('127.0.0.1', 62063)
2025-06-15 19:39:52,332 [INFO] 启动 node1 (pid=17382)
2025-06-15 19:39:52,338 [INFO] 启动 node2 (pid=17383)
2025-06-15 19:39:52,338 [INFO] DEBUG 模式：按 Enter 推进 1 秒，输入 q 退出
2025-06-15 19:39:52,339 [INFO] >>> (server) stop
2025-06-15 19:39:52,347 [DEBUG] [server] [2025-06-15 19:39:52] [INFO] [server:252] Stopped sending STEP messages
2025-06-15 19:39:52,436 [DEBUG] [server] [2025-06-15 19:39:52] [INFO] [server:62] New connection from ('127.0.0.1', 62064)
2025-06-15 19:39:52,436 [DEBUG] [server] [2025-06-15 19:39:52] [INFO] [server:62] New connection from ('127.0.0.1', 62065)
2025-06-15 19:39:52,439 [DEBUG] [node1] [2025-06-15 19:39:52] [INFO] [node1:401] Sent SYNC_REQUEST to network
2025-06-15 19:39:52,440 [DEBUG] [server] [2025-06-15 19:39:52] [INFO] [server:84] received message [HELLO]
2025-06-15 19:39:52,440 [DEBUG] [server]   sender   : node1
2025-06-15 19:39:52,440 [DEBUG] [server]   full msg :
2025-06-15 19:39:52,440 [DEBUG] [server] sender_id: "node1"
2025-06-15 19:39:52,440 [DEBUG] [server] 
2025-06-15 19:39:52,440 [DEBUG] [node1] [2025-06-15 19:39:52] [INFO] [node1:79] Node node1 started. Connected to server at 127.0.0.1:5000.
2025-06-15 19:39:52,440 [DEBUG] [node1] [2025-06-15 19:39:52] [INFO] [node1:80] Current chain length: 0 (excluding genesis)
2025-06-15 19:39:52,441 [DEBUG] [node2] [2025-06-15 19:39:52] [INFO] [node2:401] Sent SYNC_REQUEST to network
2025-06-15 19:39:52,441 [DEBUG] [node2] [2025-06-15 19:39:52] [INFO] [node2:79] Node node2 started. Connected to server at 127.0.0.1:5000.
2025-06-15 19:39:52,441 [DEBUG] [node2] [2025-06-15 19:39:52] [INFO] [node2:80] Current chain length: 0 (excluding genesis)
2025-06-15 19:39:52,443 [DEBUG] [server] [2025-06-15 19:39:52] [INFO] [server:84] received message [SYNC_REQUEST]
2025-06-15 19:39:52,443 [DEBUG] [server]   sender   : node1
2025-06-15 19:39:52,443 [DEBUG] [server]   full msg :
2025-06-15 19:39:52,443 [DEBUG] [server] type: SYNC_REQUEST
2025-06-15 19:39:52,443 [DEBUG] [server] sender_id: "node1"
2025-06-15 19:39:52,443 [DEBUG] [server] 
2025-06-15 19:39:52,444 [DEBUG] [server] [2025-06-15 19:39:52] [INFO] [server:84] received message [HELLO]
2025-06-15 19:39:52,444 [DEBUG] [server]   sender   : node2
2025-06-15 19:39:52,444 [DEBUG] [server]   full msg :
2025-06-15 19:39:52,444 [DEBUG] [server] sender_id: "node2"
2025-06-15 19:39:52,444 [DEBUG] [server] 
2025-06-15 19:39:52,444 [DEBUG] [node2] [2025-06-15 19:39:52] [INFO] [node2:97] Received HELLO message from node node1.
2025-06-15 19:39:52,444 [DEBUG] [node2] [2025-06-15 19:39:52] [INFO] [node2:273] Received SYNC_REQUEST from node1, sending SYNC_RESPONSE
2025-06-15 19:39:52,445 [DEBUG] [server] [2025-06-15 19:39:52] [INFO] [server:84] received message [SYNC_REQUEST]
2025-06-15 19:39:52,445 [DEBUG] [server]   sender   : node2
2025-06-15 19:39:52,445 [DEBUG] [server]   full msg :
2025-06-15 19:39:52,445 [DEBUG] [server] type: SYNC_REQUEST
2025-06-15 19:39:52,445 [DEBUG] [server] sender_id: "node2"
2025-06-15 19:39:52,445 [DEBUG] [server] 
2025-06-15 19:39:52,445 [DEBUG] [server] [2025-06-15 19:39:52] [INFO] [server:84] received message [SYNC_RESPONSE]
2025-06-15 19:39:52,445 [DEBUG] [server]   sender   : node2
2025-06-15 19:39:52,445 [DEBUG] [server]   full msg :
2025-06-15 19:39:52,445 [DEBUG] [server] type: SYNC_RESPONSE
2025-06-15 19:39:52,445 [DEBUG] [server] sender_id: "node2"
2025-06-15 19:39:52,445 [DEBUG] [server] sync_response {
2025-06-15 19:39:52,445 [DEBUG] [server]   blocks {
2025-06-15 19:39:52,445 [DEBUG] [server]     prev_hash: "0000000000000000000000000000000000000000000000000000000000000000"
2025-06-15 19:39:52,445 [DEBUG] [server]     hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-15 19:39:52,445 [DEBUG] [server]     validator: "genesis"
2025-06-15 19:39:52,445 [DEBUG] [server]   }
2025-06-15 19:39:52,445 [DEBUG] [server] }
2025-06-15 19:39:52,446 [DEBUG] [server] 
2025-06-15 19:39:52,446 [DEBUG] [node1] [2025-06-15 19:39:52] [INFO] [node1:97] Received HELLO message from node node2.
2025-06-15 19:39:52,446 [DEBUG] [node1] [2025-06-15 19:39:52] [INFO] [node1:273] Received SYNC_REQUEST from node2, sending SYNC_RESPONSE
2025-06-15 19:39:52,446 [DEBUG] [node1] [2025-06-15 19:39:52] [INFO] [node1:296] Received SYNC_RESPONSE from node2, storing response
2025-06-15 19:39:52,446 [DEBUG] [server] [2025-06-15 19:39:52] [INFO] [server:84] received message [SYNC_RESPONSE]
2025-06-15 19:39:52,446 [DEBUG] [server]   sender   : node1
2025-06-15 19:39:52,446 [DEBUG] [server]   full msg :
2025-06-15 19:39:52,446 [DEBUG] [server] type: SYNC_RESPONSE
2025-06-15 19:39:52,446 [DEBUG] [server] sender_id: "node1"
2025-06-15 19:39:52,446 [DEBUG] [server] sync_response {
2025-06-15 19:39:52,446 [DEBUG] [server]   blocks {
2025-06-15 19:39:52,446 [DEBUG] [server]     prev_hash: "0000000000000000000000000000000000000000000000000000000000000000"
2025-06-15 19:39:52,446 [DEBUG] [server]     hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-15 19:39:52,446 [DEBUG] [server]     validator: "genesis"
2025-06-15 19:39:52,446 [DEBUG] [server]   }
2025-06-15 19:39:52,446 [DEBUG] [server] }
2025-06-15 19:39:52,446 [DEBUG] [server] 
2025-06-15 19:39:52,446 [DEBUG] [node2] [2025-06-15 19:39:52] [INFO] [node2:296] Received SYNC_RESPONSE from node1, storing response
2025-06-15 19:39:54,446 [DEBUG] [node1] [2025-06-15 19:39:54] [INFO] [node1:368] SYNC_RESPONSE collection finished. Processing responses.
2025-06-15 19:39:54,446 [DEBUG] [node1] [2025-06-15 19:39:54] [INFO] [node1:358] SYNC_RESPONSE from node2: chain length=1     head=97045df0
2025-06-15 19:39:54,447 [DEBUG] [node1] [2025-06-15 19:39:54] [INFO] [node1:387] no need to sync chain, best chain same with local chain
2025-06-15 19:39:54,448 [DEBUG] [node2] [2025-06-15 19:39:54] [INFO] [node2:368] SYNC_RESPONSE collection finished. Processing responses.
2025-06-15 19:39:54,448 [DEBUG] [node2] [2025-06-15 19:39:54] [INFO] [node2:358] SYNC_RESPONSE from node1: chain length=1     head=97045df0
2025-06-15 19:39:54,448 [DEBUG] [node2] [2025-06-15 19:39:54] [INFO] [node2:387] no need to sync chain, best chain same with local chain
2025-06-15 19:50:18,414 [DEBUG] [DEBUG] 1s 无命令
2025-06-15 19:50:23,586 [INFO] >>> (server) drop node2 on
2025-06-15 19:50:23,592 [DEBUG] [server] [2025-06-15 19:50:23] [INFO] [server:321] [DROP] node2 → ON
2025-06-15 19:50:31,271 [DEBUG] [DEBUG] 3s 无命令
2025-06-15 19:50:32,372 [DEBUG] [DEBUG] 4s 无命令
2025-06-15 19:50:33,136 [INFO] >>> (node1) stake 10
2025-06-15 19:50:33,137 [INFO] >>> (node1) tx node2 10
2025-06-15 19:50:33,137 [INFO] >>> (node2) stake 10
2025-06-15 19:50:33,145 [DEBUG] [node1] [2025-06-15 19:50:33] [INFO] [node1:431] sent STAKE transaction: node1 -> node1 10.0
2025-06-15 19:50:33,146 [DEBUG] [node1] [2025-06-15 19:50:33] [INFO] [node1:573] Want to stake 10.0 tokens.
2025-06-15 19:50:33,146 [DEBUG] [server] [2025-06-15 19:50:33] [INFO] [server:84] received message [TRANSACTION]
2025-06-15 19:50:33,146 [DEBUG] [server]   sender   : node1
2025-06-15 19:50:33,146 [DEBUG] [server]   full msg :
2025-06-15 19:50:33,146 [DEBUG] [server] type: TRANSACTION
2025-06-15 19:50:33,147 [DEBUG] [server] sender_id: "node1"
2025-06-15 19:50:33,147 [DEBUG] [server] tx {
2025-06-15 19:50:33,147 [DEBUG] [server]   sender: "node1"
2025-06-15 19:50:33,147 [DEBUG] [server]   receiver: "node1"
2025-06-15 19:50:33,147 [DEBUG] [server]   amount: 10.0
2025-06-15 19:50:33,147 [DEBUG] [server]   timestamp: 1749988233.1410182
2025-06-15 19:50:33,148 [DEBUG] [server]   type: STAKE
2025-06-15 19:50:33,148 [DEBUG] [server] }
2025-06-15 19:50:33,148 [DEBUG] [server] 
2025-06-15 19:50:33,148 [DEBUG] [node2] [2025-06-15 19:50:33] [INFO] [node2:431] sent STAKE transaction: node2 -> node2 10.0
2025-06-15 19:50:33,149 [DEBUG] [node2] [2025-06-15 19:50:33] [INFO] [node2:573] Want to stake 10.0 tokens.
2025-06-15 19:50:33,150 [DEBUG] [server] [2025-06-15 19:50:33] [INFO] [server:84] received message [TRANSACTION]
2025-06-15 19:50:33,150 [DEBUG] [server]   sender   : node2
2025-06-15 19:50:33,150 [DEBUG] [server]   full msg :
2025-06-15 19:50:33,150 [DEBUG] [server] type: TRANSACTION
2025-06-15 19:50:33,150 [DEBUG] [server] sender_id: "node2"
2025-06-15 19:50:33,150 [DEBUG] [server] tx {
2025-06-15 19:50:33,151 [DEBUG] [server]   sender: "node2"
2025-06-15 19:50:33,151 [DEBUG] [server]   receiver: "node2"
2025-06-15 19:50:33,151 [DEBUG] [server]   amount: 10.0
2025-06-15 19:50:33,151 [DEBUG] [server]   timestamp: 1749988233.141079
2025-06-15 19:50:33,151 [DEBUG] [server]   type: STAKE
2025-06-15 19:50:33,151 [DEBUG] [server] }
2025-06-15 19:50:33,151 [DEBUG] [server] 
2025-06-15 19:50:33,151 [DEBUG] [node1] [2025-06-15 19:50:33] [INFO] [node1:254] received STAKE: node2 stakes 10.0
2025-06-15 19:54:34,601 [DEBUG] [DEBUG] 6s 无命令
2025-06-15 19:55:17,290 [INFO] >>> (node1) forge --force
2025-06-15 19:55:17,299 [DEBUG] [node1] [2025-06-15 19:55:17] [INFO] [node1:431] sent TRANSFER transaction: node1 -> node2 10.0
2025-06-15 19:55:17,299 [DEBUG] [node1] [2025-06-15 19:55:17] [WARNING] [node1:481] FORCING block forge -- skipping validator check!
2025-06-15 19:55:17,303 [DEBUG] [server] [2025-06-15 19:55:17] [INFO] [server:84] received message [TRANSACTION]
2025-06-15 19:55:17,303 [DEBUG] [server]   sender   : node1
2025-06-15 19:55:17,303 [DEBUG] [server]   full msg :
2025-06-15 19:55:17,303 [DEBUG] [server] type: TRANSACTION
2025-06-15 19:55:17,303 [DEBUG] [server] sender_id: "node1"
2025-06-15 19:55:17,304 [DEBUG] [server] tx {
2025-06-15 19:55:17,304 [DEBUG] [server]   sender: "node1"
2025-06-15 19:55:17,304 [DEBUG] [server]   receiver: "node2"
2025-06-15 19:55:17,304 [DEBUG] [server]   amount: 10.0
2025-06-15 19:55:17,305 [DEBUG] [server]   timestamp: 1749988517.2932851
2025-06-15 19:55:17,305 [DEBUG] [server] }
2025-06-15 19:55:17,305 [DEBUG] [server] 
2025-06-15 19:55:17,305 [DEBUG] [node1] [2025-06-15 19:55:17] [INFO] [node1:499] Want to forge block 1 with hash c12ef46a
2025-06-15 19:55:17,305 [DEBUG] [node1] [2025-06-15 19:55:17] [INFO] [node1:512] [No Voting] Directly adding forged Block 1 ...
2025-06-15 19:55:17,305 [DEBUG] [node1] [2025-06-15 19:55:17] [INFO] [blockchain:150] Adding block 1 to main chain
2025-06-15 19:55:17,305 [DEBUG] [node1] [2025-06-15 19:55:17] [INFO] [node1:143] Added new block 1 with hash c12ef46a. Chain length is now 1(excluding genesis).
2025-06-15 19:55:17,306 [DEBUG] [node1] [2025-06-15 19:55:17] [INFO] [node1:514] [No Voting] forged block 1. Chain length is now 1(excluding genesis).
2025-06-15 19:55:17,306 [DEBUG] [server] [2025-06-15 19:55:17] [INFO] [server:84] received message [BLOCK]
2025-06-15 19:55:17,306 [DEBUG] [server]   sender   : node1
2025-06-15 19:55:17,306 [DEBUG] [server]   full msg :
2025-06-15 19:55:17,306 [DEBUG] [server] type: BLOCK
2025-06-15 19:55:17,306 [DEBUG] [server] sender_id: "node1"
2025-06-15 19:55:17,306 [DEBUG] [server] block {
2025-06-15 19:55:17,306 [DEBUG] [server]   index: 1
2025-06-15 19:55:17,306 [DEBUG] [server]   prev_hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-15 19:55:17,307 [DEBUG] [server]   hash: "c12ef46ac7a50f60da010b6fc93ed8a741f939dc17967716bb850eb0974645a1"
2025-06-15 19:55:17,307 [DEBUG] [server]   validator: "node1"
2025-06-15 19:55:17,307 [DEBUG] [server]   transactions {
2025-06-15 19:55:17,307 [DEBUG] [server]     sender: "node1"
2025-06-15 19:55:17,307 [DEBUG] [server]     receiver: "node1"
2025-06-15 19:55:17,307 [DEBUG] [server]     amount: 10.0
2025-06-15 19:55:17,307 [DEBUG] [server]     timestamp: 1749988233.1410182
2025-06-15 19:55:17,307 [DEBUG] [server]     type: STAKE
2025-06-15 19:55:17,307 [DEBUG] [server]   }
2025-06-15 19:55:17,307 [DEBUG] [server]   transactions {
2025-06-15 19:55:17,308 [DEBUG] [server]     sender: "node2"
2025-06-15 19:55:17,308 [DEBUG] [server]     receiver: "node2"
2025-06-15 19:55:17,308 [DEBUG] [server]     amount: 10.0
2025-06-15 19:55:17,308 [DEBUG] [server]     timestamp: 1749988233.141079
2025-06-15 19:55:17,308 [DEBUG] [server]     type: STAKE
2025-06-15 19:55:17,308 [DEBUG] [server]   }
2025-06-15 19:55:17,308 [DEBUG] [server]   transactions {
2025-06-15 19:55:17,308 [DEBUG] [server]     sender: "node1"
2025-06-15 19:55:17,308 [DEBUG] [server]     receiver: "node2"
2025-06-15 19:55:17,308 [DEBUG] [server]     amount: 10.0
2025-06-15 19:55:17,309 [DEBUG] [server]     timestamp: 1749988517.2932851
2025-06-15 19:55:17,309 [DEBUG] [server]   }
2025-06-15 19:55:17,309 [DEBUG] [server]   timestamp: 1749988517.2988129
2025-06-15 19:55:17,309 [DEBUG] [server] }
2025-06-15 19:55:17,309 [DEBUG] [server] 
2025-06-15 19:55:46,191 [INFO] >>> (node2) forge --force
2025-06-15 19:55:46,197 [DEBUG] [node2] [2025-06-15 19:55:46] [WARNING] [node2:481] FORCING block forge -- skipping validator check!
2025-06-15 19:55:46,199 [DEBUG] [node2] [2025-06-15 19:55:46] [INFO] [node2:499] Want to forge block 1 with hash b99a84e0
2025-06-15 19:55:46,199 [DEBUG] [node2] [2025-06-15 19:55:46] [INFO] [node2:512] [No Voting] Directly adding forged Block 1 ...
2025-06-15 19:55:46,200 [DEBUG] [server] [2025-06-15 19:55:46] [INFO] [server:84] received message [BLOCK]
2025-06-15 19:55:46,200 [DEBUG] [server]   sender   : node2
2025-06-15 19:55:46,200 [DEBUG] [server]   full msg :
2025-06-15 19:55:46,200 [DEBUG] [server] type: BLOCK
2025-06-15 19:55:46,200 [DEBUG] [server] sender_id: "node2"
2025-06-15 19:55:46,201 [DEBUG] [server] block {
2025-06-15 19:55:46,201 [DEBUG] [server]   index: 1
2025-06-15 19:55:46,201 [DEBUG] [server]   prev_hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-15 19:55:46,201 [DEBUG] [server]   hash: "b99a84e00e376ba4e86e91d0d59af928d244424e822f9d319e8144c33108786c"
2025-06-15 19:55:46,201 [DEBUG] [server]   validator: "node2"
2025-06-15 19:55:46,201 [DEBUG] [server]   transactions {
2025-06-15 19:55:46,201 [DEBUG] [server]     sender: "node2"
2025-06-15 19:55:46,202 [DEBUG] [server]     receiver: "node2"
2025-06-15 19:55:46,202 [DEBUG] [server]     amount: 10.0
2025-06-15 19:55:46,203 [DEBUG] [server]     timestamp: 1749988233.141079
2025-06-15 19:55:46,203 [DEBUG] [server]     type: STAKE
2025-06-15 19:55:46,203 [DEBUG] [server]   }
2025-06-15 19:55:46,203 [DEBUG] [server]   timestamp: 1749988546.197458
2025-06-15 19:55:46,204 [DEBUG] [server] }
2025-06-15 19:55:46,204 [DEBUG] [server] 
2025-06-15 19:55:46,204 [DEBUG] [node2] [2025-06-15 19:55:46] [INFO] [blockchain:150] Adding block 1 to main chain
2025-06-15 19:55:46,204 [DEBUG] [node2] [2025-06-15 19:55:46] [INFO] [node2:143] Added new block 1 with hash b99a84e0. Chain length is now 1(excluding genesis).
2025-06-15 19:55:46,204 [DEBUG] [node2] [2025-06-15 19:55:46] [INFO] [node2:514] [No Voting] forged block 1. Chain length is now 1(excluding genesis).
2025-06-15 19:55:46,205 [DEBUG] [node1] [2025-06-15 19:55:46] [INFO] [node1:175] [No Voting] Directly adding Block 1 from node2 ...
2025-06-15 19:55:46,205 [DEBUG] [node1] [2025-06-15 19:55:46] [INFO] [blockchain:155] Block 1 is a fork (prev_hash=97045df0)
2025-06-15 19:55:46,205 [DEBUG] [node1] [2025-06-15 19:55:46] [INFO] [blockchain:161] Block 1 is shorter than current head 1, not switching
2025-06-15 19:55:46,205 [DEBUG] [node1] [2025-06-15 19:55:46] [INFO] [node1:143] Added new block 1 with hash b99a84e0. Chain length is now 1(excluding genesis).
2025-06-15 19:55:46,205 [DEBUG] [node1] [2025-06-15 19:55:46] [INFO] [node1:177] [No Voting] added block 1. Chain length is now 1(excluding genesis).
2025-06-15 19:56:19,679 [DEBUG] [DEBUG] 9s 无命令
2025-06-15 19:56:20,943 [INFO] >>> (node2) tx node1 10
2025-06-15 19:56:20,943 [INFO] >>> (node2) forge --force
2025-06-15 19:56:20,946 [DEBUG] [node2] [2025-06-15 19:56:20] [INFO] [node2:431] sent TRANSFER transaction: node2 -> node1 10.0
2025-06-15 19:56:20,947 [DEBUG] [node2] [2025-06-15 19:56:20] [WARNING] [node2:481] FORCING block forge -- skipping validator check!
2025-06-15 19:56:20,947 [DEBUG] [node2] [2025-06-15 19:56:20] [INFO] [node2:499] Want to forge block 2 with hash 089fc993
2025-06-15 19:56:20,947 [DEBUG] [node2] [2025-06-15 19:56:20] [INFO] [node2:512] [No Voting] Directly adding forged Block 2 ...
2025-06-15 19:56:20,948 [DEBUG] [node2] [2025-06-15 19:56:20] [INFO] [blockchain:150] Adding block 2 to main chain
2025-06-15 19:56:20,948 [DEBUG] [node2] [2025-06-15 19:56:20] [INFO] [node2:143] Added new block 2 with hash 089fc993. Chain length is now 2(excluding genesis).
2025-06-15 19:56:20,948 [DEBUG] [node2] [2025-06-15 19:56:20] [INFO] [node2:514] [No Voting] forged block 2. Chain length is now 2(excluding genesis).
2025-06-15 19:56:20,956 [DEBUG] [server] [2025-06-15 19:56:20] [INFO] [server:84] received message [TRANSACTION]
2025-06-15 19:56:20,956 [DEBUG] [server]   sender   : node2
2025-06-15 19:56:20,956 [DEBUG] [server]   full msg :
2025-06-15 19:56:20,957 [DEBUG] [server] type: TRANSACTION
2025-06-15 19:56:20,957 [DEBUG] [server] sender_id: "node2"
2025-06-15 19:56:20,957 [DEBUG] [server] tx {
2025-06-15 19:56:20,957 [DEBUG] [server]   sender: "node2"
2025-06-15 19:56:20,957 [DEBUG] [server]   receiver: "node1"
2025-06-15 19:56:20,958 [DEBUG] [server]   amount: 10.0
2025-06-15 19:56:20,958 [DEBUG] [server]   timestamp: 1749988580.944021
2025-06-15 19:56:20,959 [DEBUG] [server] }
2025-06-15 19:56:20,959 [DEBUG] [server] 
2025-06-15 19:56:20,959 [DEBUG] [server] [2025-06-15 19:56:20] [INFO] [server:84] received message [BLOCK]
2025-06-15 19:56:20,959 [DEBUG] [server]   sender   : node2
2025-06-15 19:56:20,959 [DEBUG] [server]   full msg :
2025-06-15 19:56:20,959 [DEBUG] [server] type: BLOCK
2025-06-15 19:56:20,960 [DEBUG] [server] sender_id: "node2"
2025-06-15 19:56:20,960 [DEBUG] [server] block {
2025-06-15 19:56:20,960 [DEBUG] [server]   index: 2
2025-06-15 19:56:20,960 [DEBUG] [server]   prev_hash: "b99a84e00e376ba4e86e91d0d59af928d244424e822f9d319e8144c33108786c"
2025-06-15 19:56:20,960 [DEBUG] [server]   hash: "089fc9937675a990218caca925bb98b2453f0431476c0581c30eae51676e830c"
2025-06-15 19:56:20,960 [DEBUG] [server]   validator: "node2"
2025-06-15 19:56:20,960 [DEBUG] [server]   transactions {
2025-06-15 19:56:20,960 [DEBUG] [server]     sender: "node2"
2025-06-15 19:56:20,961 [DEBUG] [server]     receiver: "node1"
2025-06-15 19:56:20,961 [DEBUG] [server]     amount: 10.0
2025-06-15 19:56:20,961 [DEBUG] [server]     timestamp: 1749988580.944021
2025-06-15 19:56:20,961 [DEBUG] [server]   }
2025-06-15 19:56:20,961 [DEBUG] [server]   timestamp: 1749988580.9461582
2025-06-15 19:56:20,961 [DEBUG] [server] }
2025-06-15 19:56:20,961 [DEBUG] [server] 
2025-06-15 19:56:20,962 [DEBUG] [node1] [2025-06-15 19:56:20] [INFO] [node1:248] received TRANSFER: node2 → node1, amount 10.0
2025-06-15 19:56:20,962 [DEBUG] [node1] [2025-06-15 19:56:20] [INFO] [node1:175] [No Voting] Directly adding Block 2 from node2 ...
2025-06-15 19:56:20,962 [DEBUG] [node1] [2025-06-15 19:56:20] [INFO] [blockchain:155] Block 2 is a fork (prev_hash=b99a84e0)
2025-06-15 19:56:20,962 [DEBUG] [node1] [2025-06-15 19:56:20] [INFO] [blockchain:157] New block 2 is longer than current head 1, reorganizing chain
2025-06-15 19:56:20,963 [DEBUG] [node1] [2025-06-15 19:56:20] [INFO] [blockchain:211] Reorganized chain: new head 089fc993 height 2
2025-06-15 19:56:20,963 [DEBUG] [node1] [2025-06-15 19:56:20] [INFO] [node1:319] Recovered TX: Transaction(node1 -> node1, 10.0, type=STAKE)
2025-06-15 19:56:20,963 [DEBUG] [node1] [2025-06-15 19:56:20] [INFO] [node1:319] Recovered TX: Transaction(node1 -> node2, 10.0, type=TRANSFER)
2025-06-15 19:56:20,963 [DEBUG] [node1] [2025-06-15 19:56:20] [INFO] [node1:143] Added new block 2 with hash 089fc993. Chain length is now 2(excluding genesis).
2025-06-15 19:56:20,963 [DEBUG] [node1] [2025-06-15 19:56:20] [INFO] [node1:177] [No Voting] added block 2. Chain length is now 2(excluding genesis).
2025-06-15 19:56:59,436 [DEBUG] [DEBUG] 11s 无命令
2025-06-15 19:57:00,333 [INFO] >>> (node1) info
2025-06-15 19:57:00,334 [INFO] >>> (node2) info
2025-06-15 19:57:26,371 [INFO] 结束等待 5.0s…
2025-06-15 19:57:31,374 [INFO] >>> (server) exit
2025-06-15 19:57:31,382 [DEBUG] [server] [2025-06-15 19:57:31] [INFO] [server:268] Shutting down server...
2025-06-15 19:57:31,386 [DEBUG] [server] [2025-06-15 19:57:31] [INFO] [server:287] Closing all client connections...
2025-06-15 19:57:31,387 [DEBUG] [server] [2025-06-15 19:57:31] [INFO] [server:156] Node node2 disconnected.
2025-06-15 19:57:31,388 [DEBUG] [server] [2025-06-15 19:57:31] [INFO] [server:156] Node node1 disconnected.
2025-06-15 19:57:31,388 [DEBUG] [server] [2025-06-15 19:57:31] [INFO] [server:294] Closing server socket...
2025-06-15 19:57:31,389 [DEBUG] [server] [2025-06-15 19:57:31] [INFO] [server:299] Server shutdown complete. Bye!
2025-06-15 19:57:31,392 [DEBUG] [node1] [2025-06-15 19:57:31] [INFO] [node1:103] Received BYE message from node server.
2025-06-15 19:57:31,392 [DEBUG] [node1] [2025-06-15 19:57:31] [INFO] [node1:105] Server is shutting down, exiting.
2025-06-15 19:57:31,393 [DEBUG] [node1] [2025-06-15 19:57:31] [INFO] [node1:555] Exiting.
2025-06-15 19:57:31,393 [DEBUG] [node2] [2025-06-15 19:57:31] [INFO] [node2:103] Received BYE message from node server.
2025-06-15 19:57:31,393 [DEBUG] [node2] [2025-06-15 19:57:31] [INFO] [node2:105] Server is shutting down, exiting.
2025-06-15 19:57:31,393 [DEBUG] [node2] [2025-06-15 19:57:31] [INFO] [node2:555] Exiting.
2025-06-15 19:57:31,395 [DEBUG] [node1] [2025-06-15 19:57:31] [INFO] [blockchain:264] Blockchain saved to data_node_node1
2025-06-15 19:57:31,395 [DEBUG] [node2] [2025-06-15 19:57:31] [INFO] [blockchain:264] Blockchain saved to data_node_node2
2025-06-15 19:57:31,396 [DEBUG] [node1] Node ID: node1
2025-06-15 19:57:31,396 [DEBUG] [node1] Known nodes: {'node2', 'node1'}
2025-06-15 19:57:31,396 [DEBUG] [node1] ========== Blockchain Structure ==========
2025-06-15 19:57:31,396 [DEBUG] [node1] Block 0 | hash=97045df0... | validator=genesis | tx_count=0 (main)
2025-06-15 19:57:31,396 [DEBUG] [node1] └── Block 1 | hash=b99a84e0... | validator=node2 | tx_count=1 (main)
2025-06-15 19:57:31,397 [DEBUG] [node1] └── └── Block 2 | hash=089fc993... | validator=node2 | tx_count=1 (main)
2025-06-15 19:57:31,397 [DEBUG] [node1] ===================================
2025-06-15 19:57:31,397 [DEBUG] [node1] ========== Account State ==========
2025-06-15 19:57:31,397 [DEBUG] [node1]  Account node1 | Balance=110.00 | Stake=0.00
2025-06-15 19:57:31,397 [DEBUG] [node1]  Account node2 | Balance=80.00 | Stake=10.00
2025-06-15 19:57:31,397 [DEBUG] [node1]  Account node3 | Balance=100.00 | Stake=0.00
2025-06-15 19:57:31,397 [DEBUG] [node1] ===================================
2025-06-15 19:57:31,398 [DEBUG] [node1] ========== Pending Transactions ==========
2025-06-15 19:57:31,398 [DEBUG] [node1]   Transaction(node1 -> node1, 10.0, type=STAKE)
2025-06-15 19:57:31,398 [DEBUG] [node1]   Transaction(node1 -> node2, 10.0, type=TRANSFER)
2025-06-15 19:57:31,398 [DEBUG] [node1] ==========================================
2025-06-15 19:57:31,398 [DEBUG] [node2] Node ID: node2
2025-06-15 19:57:31,398 [DEBUG] [node2] Known nodes: {'node1', 'node2'}
2025-06-15 19:57:31,399 [DEBUG] [node2] ========== Blockchain Structure ==========
2025-06-15 19:57:31,399 [DEBUG] [node2] Block 0 | hash=97045df0... | validator=genesis | tx_count=0 (main)
2025-06-15 19:57:31,399 [DEBUG] [node2] └── Block 1 | hash=b99a84e0... | validator=node2 | tx_count=1 (main)
2025-06-15 19:57:31,399 [DEBUG] [node2] └── └── Block 2 | hash=089fc993... | validator=node2 | tx_count=1 (main)
2025-06-15 19:57:31,399 [DEBUG] [node2] ===================================
2025-06-15 19:57:31,399 [DEBUG] [node2] ========== Account State ==========
2025-06-15 19:57:31,400 [DEBUG] [node2]  Account node1 | Balance=110.00 | Stake=0.00
2025-06-15 19:57:31,400 [DEBUG] [node2]  Account node2 | Balance=80.00 | Stake=10.00
2025-06-15 19:57:31,400 [DEBUG] [node2]  Account node3 | Balance=100.00 | Stake=0.00
2025-06-15 19:57:31,400 [DEBUG] [node2] ===================================
2025-06-15 19:57:31,400 [DEBUG] [node2] ========== Pending Transactions ==========
2025-06-15 19:57:31,401 [DEBUG] [node2] ==========================================
2025-06-15 19:57:31,420 [INFO] server 已优雅退出
2025-06-15 19:57:31,420 [INFO] 等待节点自动下线 5.0s…
2025-06-15 20:50:18,771 [DEBUG] Using selector: KqueueSelector
2025-06-15 20:50:18,773 [INFO] 启动 server (pid=21604)
2025-06-15 20:50:18,774 [INFO] 等待服务器 127.0.0.1:5000 …
2025-06-15 20:50:18,851 [DEBUG] [server] [2025-06-15 20:50:18] [INFO] [server:44] Async server started on 127.0.0.1:5000
2025-06-15 20:50:19,077 [INFO] 服务器端口就绪
2025-06-15 20:50:19,083 [DEBUG] [server] [2025-06-15 20:50:19] [INFO] [server:62] New connection from ('127.0.0.1', 63181)
2025-06-15 20:50:19,084 [INFO] 启动 node1 (pid=21605)
2025-06-15 20:50:19,089 [INFO] 启动 node2 (pid=21606)
2025-06-15 20:50:19,090 [INFO] DEBUG 模式：按 Enter 推进 1 秒，输入 q 退出
2025-06-15 20:50:19,090 [INFO] >>> (server) stop
2025-06-15 20:50:19,094 [DEBUG] [server] [2025-06-15 20:50:19] [INFO] [server:252] Stopped sending STEP messages
2025-06-15 20:50:19,188 [DEBUG] [node1] [2025-06-15 20:50:19] [INFO] [blockchain:288] Blockchain loaded successfully from data_node_node1. Chain length=2
2025-06-15 20:50:19,188 [DEBUG] [node2] [2025-06-15 20:50:19] [INFO] [blockchain:288] Blockchain loaded successfully from data_node_node2. Chain length=2
2025-06-15 20:50:19,189 [DEBUG] [server] [2025-06-15 20:50:19] [INFO] [server:62] New connection from ('127.0.0.1', 63182)
2025-06-15 20:50:19,190 [DEBUG] [server] [2025-06-15 20:50:19] [INFO] [server:62] New connection from ('127.0.0.1', 63183)
2025-06-15 20:50:19,193 [DEBUG] [server] [2025-06-15 20:50:19] [INFO] [server:84] received message [HELLO]
2025-06-15 20:50:19,193 [DEBUG] [server]   sender   : node2
2025-06-15 20:50:19,193 [DEBUG] [server]   full msg :
2025-06-15 20:50:19,193 [DEBUG] [server] sender_id: "node2"
2025-06-15 20:50:19,193 [DEBUG] [server] 
2025-06-15 20:50:19,194 [DEBUG] [node2] [2025-06-15 20:50:19] [INFO] [node2:401] Sent SYNC_REQUEST to network
2025-06-15 20:50:19,194 [DEBUG] [node1] [2025-06-15 20:50:19] [INFO] [node1:401] Sent SYNC_REQUEST to network
2025-06-15 20:50:19,194 [DEBUG] [node1] [2025-06-15 20:50:19] [INFO] [node1:79] Node node1 started. Connected to server at 127.0.0.1:5000.
2025-06-15 20:50:19,195 [DEBUG] [node1] [2025-06-15 20:50:19] [INFO] [node1:80] Current chain length: 2 (excluding genesis)
2025-06-15 20:50:19,195 [DEBUG] [node2] [2025-06-15 20:50:19] [INFO] [node2:79] Node node2 started. Connected to server at 127.0.0.1:5000.
2025-06-15 20:50:19,195 [DEBUG] [node2] [2025-06-15 20:50:19] [INFO] [node2:80] Current chain length: 2 (excluding genesis)
2025-06-15 20:50:19,197 [DEBUG] [server] [2025-06-15 20:50:19] [INFO] [server:84] received message [HELLO]
2025-06-15 20:50:19,197 [DEBUG] [server]   sender   : node1
2025-06-15 20:50:19,197 [DEBUG] [server]   full msg :
2025-06-15 20:50:19,197 [DEBUG] [server] sender_id: "node1"
2025-06-15 20:50:19,197 [DEBUG] [server] 
2025-06-15 20:50:19,197 [DEBUG] [node1] [2025-06-15 20:50:19] [INFO] [node1:97] Received HELLO message from node node2.
2025-06-15 20:50:19,197 [DEBUG] [node2] [2025-06-15 20:50:19] [INFO] [node2:97] Received HELLO message from node node1.
2025-06-15 20:50:19,197 [DEBUG] [node2] [2025-06-15 20:50:19] [INFO] [node2:273] Received SYNC_REQUEST from node1, sending SYNC_RESPONSE
2025-06-15 20:50:19,197 [DEBUG] [server] [2025-06-15 20:50:19] [INFO] [server:84] received message [SYNC_REQUEST]
2025-06-15 20:50:19,197 [DEBUG] [server]   sender   : node2
2025-06-15 20:50:19,197 [DEBUG] [server]   full msg :
2025-06-15 20:50:19,197 [DEBUG] [server] type: SYNC_REQUEST
2025-06-15 20:50:19,197 [DEBUG] [server] sender_id: "node2"
2025-06-15 20:50:19,197 [DEBUG] [server] 
2025-06-15 20:50:19,197 [DEBUG] [server] [2025-06-15 20:50:19] [INFO] [server:84] received message [SYNC_REQUEST]
2025-06-15 20:50:19,197 [DEBUG] [server]   sender   : node1
2025-06-15 20:50:19,198 [DEBUG] [server]   full msg :
2025-06-15 20:50:19,198 [DEBUG] [server] type: SYNC_REQUEST
2025-06-15 20:50:19,198 [DEBUG] [server] sender_id: "node1"
2025-06-15 20:50:19,198 [DEBUG] [server] 
2025-06-15 20:50:19,198 [DEBUG] [node1] [2025-06-15 20:50:19] [INFO] [node1:273] Received SYNC_REQUEST from node2, sending SYNC_RESPONSE
2025-06-15 20:50:19,198 [DEBUG] [server] [2025-06-15 20:50:19] [INFO] [server:84] received message [SYNC_RESPONSE]
2025-06-15 20:50:19,198 [DEBUG] [server]   sender   : node1
2025-06-15 20:50:19,198 [DEBUG] [server]   full msg :
2025-06-15 20:50:19,198 [DEBUG] [server] type: SYNC_RESPONSE
2025-06-15 20:50:19,198 [DEBUG] [server] sender_id: "node1"
2025-06-15 20:50:19,198 [DEBUG] [server] sync_response {
2025-06-15 20:50:19,198 [DEBUG] [server]   blocks {
2025-06-15 20:50:19,198 [DEBUG] [server]     prev_hash: "0000000000000000000000000000000000000000000000000000000000000000"
2025-06-15 20:50:19,198 [DEBUG] [server]     hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-15 20:50:19,198 [DEBUG] [server]     validator: "genesis"
2025-06-15 20:50:19,198 [DEBUG] [server]   }
2025-06-15 20:50:19,198 [DEBUG] [server]   blocks {
2025-06-15 20:50:19,198 [DEBUG] [server]     index: 1
2025-06-15 20:50:19,198 [DEBUG] [server]     prev_hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-15 20:50:19,198 [DEBUG] [server]     hash: "b99a84e00e376ba4e86e91d0d59af928d244424e822f9d319e8144c33108786c"
2025-06-15 20:50:19,199 [DEBUG] [server]     validator: "node2"
2025-06-15 20:50:19,199 [DEBUG] [server]     transactions {
2025-06-15 20:50:19,199 [DEBUG] [server]       sender: "node2"
2025-06-15 20:50:19,199 [DEBUG] [server]       receiver: "node2"
2025-06-15 20:50:19,199 [DEBUG] [server]       amount: 10.0
2025-06-15 20:50:19,199 [DEBUG] [server]       timestamp: 1749988233.141079
2025-06-15 20:50:19,199 [DEBUG] [server]       type: STAKE
2025-06-15 20:50:19,199 [DEBUG] [server]     }
2025-06-15 20:50:19,199 [DEBUG] [server]     timestamp: 1749988546.197458
2025-06-15 20:50:19,199 [DEBUG] [server]   }
2025-06-15 20:50:19,199 [DEBUG] [server]   blocks {
2025-06-15 20:50:19,199 [DEBUG] [server]     index: 2
2025-06-15 20:50:19,199 [DEBUG] [server]     prev_hash: "b99a84e00e376ba4e86e91d0d59af928d244424e822f9d319e8144c33108786c"
2025-06-15 20:50:19,199 [DEBUG] [server]     hash: "089fc9937675a990218caca925bb98b2453f0431476c0581c30eae51676e830c"
2025-06-15 20:50:19,199 [DEBUG] [server]     validator: "node2"
2025-06-15 20:50:19,199 [DEBUG] [server]     transactions {
2025-06-15 20:50:19,199 [DEBUG] [server]       sender: "node2"
2025-06-15 20:50:19,199 [DEBUG] [server]       receiver: "node1"
2025-06-15 20:50:19,199 [DEBUG] [server]       amount: 10.0
2025-06-15 20:50:19,199 [DEBUG] [server]       timestamp: 1749988580.944021
2025-06-15 20:50:19,199 [DEBUG] [server]     }
2025-06-15 20:50:19,199 [DEBUG] [server]     timestamp: 1749988580.9461582
2025-06-15 20:50:19,199 [DEBUG] [server]   }
2025-06-15 20:50:19,199 [DEBUG] [server] }
2025-06-15 20:50:19,199 [DEBUG] [server] 
2025-06-15 20:50:19,200 [DEBUG] [node2] [2025-06-15 20:50:19] [INFO] [node2:296] Received SYNC_RESPONSE from node1, storing response
2025-06-15 20:50:19,200 [DEBUG] [server] [2025-06-15 20:50:19] [INFO] [server:84] received message [SYNC_RESPONSE]
2025-06-15 20:50:19,200 [DEBUG] [server]   sender   : node2
2025-06-15 20:50:19,200 [DEBUG] [server]   full msg :
2025-06-15 20:50:19,200 [DEBUG] [server] type: SYNC_RESPONSE
2025-06-15 20:50:19,200 [DEBUG] [server] sender_id: "node2"
2025-06-15 20:50:19,200 [DEBUG] [server] sync_response {
2025-06-15 20:50:19,200 [DEBUG] [server]   blocks {
2025-06-15 20:50:19,200 [DEBUG] [server]     prev_hash: "0000000000000000000000000000000000000000000000000000000000000000"
2025-06-15 20:50:19,200 [DEBUG] [server]     hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-15 20:50:19,200 [DEBUG] [server]     validator: "genesis"
2025-06-15 20:50:19,200 [DEBUG] [server]   }
2025-06-15 20:50:19,200 [DEBUG] [server]   blocks {
2025-06-15 20:50:19,200 [DEBUG] [server]     index: 1
2025-06-15 20:50:19,200 [DEBUG] [server]     prev_hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-15 20:50:19,200 [DEBUG] [server]     hash: "b99a84e00e376ba4e86e91d0d59af928d244424e822f9d319e8144c33108786c"
2025-06-15 20:50:19,200 [DEBUG] [server]     validator: "node2"
2025-06-15 20:50:19,200 [DEBUG] [server]     transactions {
2025-06-15 20:50:19,200 [DEBUG] [server]       sender: "node2"
2025-06-15 20:50:19,200 [DEBUG] [server]       receiver: "node2"
2025-06-15 20:50:19,200 [DEBUG] [server]       amount: 10.0
2025-06-15 20:50:19,200 [DEBUG] [server]       timestamp: 1749988233.141079
2025-06-15 20:50:19,200 [DEBUG] [server]       type: STAKE
2025-06-15 20:50:19,200 [DEBUG] [server]     }
2025-06-15 20:50:19,201 [DEBUG] [server]     timestamp: 1749988546.197458
2025-06-15 20:50:19,201 [DEBUG] [server]   }
2025-06-15 20:50:19,201 [DEBUG] [server]   blocks {
2025-06-15 20:50:19,201 [DEBUG] [server]     index: 2
2025-06-15 20:50:19,201 [DEBUG] [server]     prev_hash: "b99a84e00e376ba4e86e91d0d59af928d244424e822f9d319e8144c33108786c"
2025-06-15 20:50:19,201 [DEBUG] [server]     hash: "089fc9937675a990218caca925bb98b2453f0431476c0581c30eae51676e830c"
2025-06-15 20:50:19,201 [DEBUG] [server]     validator: "node2"
2025-06-15 20:50:19,201 [DEBUG] [server]     transactions {
2025-06-15 20:50:19,201 [DEBUG] [server]       sender: "node2"
2025-06-15 20:50:19,201 [DEBUG] [server]       receiver: "node1"
2025-06-15 20:50:19,201 [DEBUG] [server]       amount: 10.0
2025-06-15 20:50:19,201 [DEBUG] [server]       timestamp: 1749988580.944021
2025-06-15 20:50:19,201 [DEBUG] [server]     }
2025-06-15 20:50:19,201 [DEBUG] [server]     timestamp: 1749988580.9461582
2025-06-15 20:50:19,201 [DEBUG] [server]   }
2025-06-15 20:50:19,201 [DEBUG] [server] }
2025-06-15 20:50:19,201 [DEBUG] [server] 
2025-06-15 20:50:19,201 [DEBUG] [node1] [2025-06-15 20:50:19] [INFO] [node1:296] Received SYNC_RESPONSE from node2, storing response
2025-06-15 20:50:21,200 [DEBUG] [node2] [2025-06-15 20:50:21] [INFO] [node2:368] SYNC_RESPONSE collection finished. Processing responses.
2025-06-15 20:50:21,200 [DEBUG] [node2] [2025-06-15 20:50:21] [INFO] [node2:358] SYNC_RESPONSE from node1: chain length=3     head=089fc993
2025-06-15 20:50:21,200 [DEBUG] [node1] [2025-06-15 20:50:21] [INFO] [node1:368] SYNC_RESPONSE collection finished. Processing responses.
2025-06-15 20:50:21,201 [DEBUG] [node1] [2025-06-15 20:50:21] [INFO] [node1:358] SYNC_RESPONSE from node2: chain length=3     head=089fc993
2025-06-15 20:50:21,201 [DEBUG] [node1] [2025-06-15 20:50:21] [INFO] [node1:387] no need to sync chain, best chain same with local chain
2025-06-15 20:50:21,201 [DEBUG] [node2] [2025-06-15 20:50:21] [INFO] [node2:387] no need to sync chain, best chain same with local chain
2025-06-15 20:50:55,199 [DEBUG] [DEBUG] 1s 无命令
2025-06-15 20:50:56,806 [INFO] >>> (server) drop node2 on
2025-06-15 20:50:56,811 [DEBUG] [server] [2025-06-15 20:50:56] [INFO] [server:321] [DROP] node2 → ON
2025-06-15 20:52:32,955 [WARNING] 捕获终止信号，正在优雅收尾…
2025-06-15 20:52:33,041 [WARNING] Loop <_UnixSelectorEventLoop running=False closed=True debug=False> that handles pid 21606 is closed
2025-06-15 20:52:33,042 [WARNING] Loop <_UnixSelectorEventLoop running=False closed=True debug=False> that handles pid 21605 is closed
2025-06-15 20:52:33,044 [WARNING] Loop <_UnixSelectorEventLoop running=False closed=True debug=False> that handles pid 21604 is closed
2025-06-15 20:52:43,358 [DEBUG] Using selector: KqueueSelector
2025-06-15 20:52:43,360 [INFO] 启动 server (pid=21916)
2025-06-15 20:52:43,360 [INFO] 等待服务器 127.0.0.1:5000 …
2025-06-15 20:52:43,436 [DEBUG] [server] [2025-06-15 20:52:43] [INFO] [server:44] Async server started on 127.0.0.1:5000
2025-06-15 20:52:43,663 [INFO] 服务器端口就绪
2025-06-15 20:52:43,670 [DEBUG] [server] [2025-06-15 20:52:43] [INFO] [server:62] New connection from ('127.0.0.1', 63219)
2025-06-15 20:52:43,671 [INFO] 启动 node1 (pid=21917)
2025-06-15 20:52:43,676 [INFO] 启动 node2 (pid=21918)
2025-06-15 20:52:43,677 [INFO] DEBUG 模式：按 Enter 推进 1 秒，输入 q 退出
2025-06-15 20:52:43,677 [INFO] >>> (server) stop
2025-06-15 20:52:43,681 [DEBUG] [server] [2025-06-15 20:52:43] [INFO] [server:252] Stopped sending STEP messages
2025-06-15 20:52:43,772 [DEBUG] [node2] [2025-06-15 20:52:43] [INFO] [blockchain:288] Blockchain loaded successfully from data_node_node2. Chain length=2
2025-06-15 20:52:43,773 [DEBUG] [node1] [2025-06-15 20:52:43] [INFO] [blockchain:288] Blockchain loaded successfully from data_node_node1. Chain length=2
2025-06-15 20:52:43,774 [DEBUG] [server] [2025-06-15 20:52:43] [INFO] [server:62] New connection from ('127.0.0.1', 63220)
2025-06-15 20:52:43,774 [DEBUG] [server] [2025-06-15 20:52:43] [INFO] [server:62] New connection from ('127.0.0.1', 63221)
2025-06-15 20:52:43,777 [DEBUG] [node1] [2025-06-15 20:52:43] [INFO] [node1:401] Sent SYNC_REQUEST to network
2025-06-15 20:52:43,778 [DEBUG] [node2] [2025-06-15 20:52:43] [INFO] [node2:401] Sent SYNC_REQUEST to network
2025-06-15 20:52:43,778 [DEBUG] [server] [2025-06-15 20:52:43] [INFO] [server:84] received message [HELLO]
2025-06-15 20:52:43,778 [DEBUG] [server]   sender   : node1
2025-06-15 20:52:43,778 [DEBUG] [server]   full msg :
2025-06-15 20:52:43,778 [DEBUG] [server] sender_id: "node1"
2025-06-15 20:52:43,778 [DEBUG] [server] 
2025-06-15 20:52:43,778 [DEBUG] [node1] [2025-06-15 20:52:43] [INFO] [node1:79] Node node1 started. Connected to server at 127.0.0.1:5000.
2025-06-15 20:52:43,778 [DEBUG] [node1] [2025-06-15 20:52:43] [INFO] [node1:80] Current chain length: 2 (excluding genesis)
2025-06-15 20:52:43,778 [DEBUG] [node2] [2025-06-15 20:52:43] [INFO] [node2:79] Node node2 started. Connected to server at 127.0.0.1:5000.
2025-06-15 20:52:43,778 [DEBUG] [node2] [2025-06-15 20:52:43] [INFO] [node2:80] Current chain length: 2 (excluding genesis)
2025-06-15 20:52:43,782 [DEBUG] [server] [2025-06-15 20:52:43] [INFO] [server:84] received message [HELLO]
2025-06-15 20:52:43,782 [DEBUG] [server]   sender   : node2
2025-06-15 20:52:43,782 [DEBUG] [server]   full msg :
2025-06-15 20:52:43,782 [DEBUG] [server] sender_id: "node2"
2025-06-15 20:52:43,782 [DEBUG] [server] 
2025-06-15 20:52:43,782 [DEBUG] [node2] [2025-06-15 20:52:43] [INFO] [node2:97] Received HELLO message from node node1.
2025-06-15 20:52:43,782 [DEBUG] [node2] [2025-06-15 20:52:43] [INFO] [node2:273] Received SYNC_REQUEST from node1, sending SYNC_RESPONSE
2025-06-15 20:52:43,782 [DEBUG] [server] [2025-06-15 20:52:43] [INFO] [server:84] received message [SYNC_REQUEST]
2025-06-15 20:52:43,782 [DEBUG] [server]   sender   : node1
2025-06-15 20:52:43,782 [DEBUG] [server]   full msg :
2025-06-15 20:52:43,783 [DEBUG] [server] type: SYNC_REQUEST
2025-06-15 20:52:43,783 [DEBUG] [server] sender_id: "node1"
2025-06-15 20:52:43,783 [DEBUG] [server] 
2025-06-15 20:52:43,783 [DEBUG] [server] [2025-06-15 20:52:43] [INFO] [server:84] received message [SYNC_REQUEST]
2025-06-15 20:52:43,783 [DEBUG] [server]   sender   : node2
2025-06-15 20:52:43,783 [DEBUG] [server]   full msg :
2025-06-15 20:52:43,783 [DEBUG] [server] type: SYNC_REQUEST
2025-06-15 20:52:43,783 [DEBUG] [server] sender_id: "node2"
2025-06-15 20:52:43,783 [DEBUG] [server] 
2025-06-15 20:52:43,783 [DEBUG] [node1] [2025-06-15 20:52:43] [INFO] [node1:97] Received HELLO message from node node2.
2025-06-15 20:52:43,783 [DEBUG] [node1] [2025-06-15 20:52:43] [INFO] [node1:273] Received SYNC_REQUEST from node2, sending SYNC_RESPONSE
2025-06-15 20:52:43,783 [DEBUG] [node1] [2025-06-15 20:52:43] [INFO] [node1:296] Received SYNC_RESPONSE from node2, storing response
2025-06-15 20:52:43,783 [DEBUG] [server] [2025-06-15 20:52:43] [INFO] [server:84] received message [SYNC_RESPONSE]
2025-06-15 20:52:43,784 [DEBUG] [server]   sender   : node2
2025-06-15 20:52:43,784 [DEBUG] [server]   full msg :
2025-06-15 20:52:43,784 [DEBUG] [server] type: SYNC_RESPONSE
2025-06-15 20:52:43,784 [DEBUG] [server] sender_id: "node2"
2025-06-15 20:52:43,784 [DEBUG] [server] sync_response {
2025-06-15 20:52:43,784 [DEBUG] [server]   blocks {
2025-06-15 20:52:43,784 [DEBUG] [server]     prev_hash: "0000000000000000000000000000000000000000000000000000000000000000"
2025-06-15 20:52:43,784 [DEBUG] [server]     hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-15 20:52:43,784 [DEBUG] [server]     validator: "genesis"
2025-06-15 20:52:43,784 [DEBUG] [server]   }
2025-06-15 20:52:43,784 [DEBUG] [server]   blocks {
2025-06-15 20:52:43,784 [DEBUG] [server]     index: 1
2025-06-15 20:52:43,784 [DEBUG] [server]     prev_hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-15 20:52:43,784 [DEBUG] [server]     hash: "b99a84e00e376ba4e86e91d0d59af928d244424e822f9d319e8144c33108786c"
2025-06-15 20:52:43,784 [DEBUG] [server]     validator: "node2"
2025-06-15 20:52:43,784 [DEBUG] [server]     transactions {
2025-06-15 20:52:43,784 [DEBUG] [server]       sender: "node2"
2025-06-15 20:52:43,784 [DEBUG] [server]       receiver: "node2"
2025-06-15 20:52:43,784 [DEBUG] [server]       amount: 10.0
2025-06-15 20:52:43,784 [DEBUG] [server]       timestamp: 1749988233.141079
2025-06-15 20:52:43,784 [DEBUG] [server]       type: STAKE
2025-06-15 20:52:43,784 [DEBUG] [server]     }
2025-06-15 20:52:43,784 [DEBUG] [server]     timestamp: 1749988546.197458
2025-06-15 20:52:43,784 [DEBUG] [server]   }
2025-06-15 20:52:43,785 [DEBUG] [server]   blocks {
2025-06-15 20:52:43,785 [DEBUG] [server]     index: 2
2025-06-15 20:52:43,785 [DEBUG] [server]     prev_hash: "b99a84e00e376ba4e86e91d0d59af928d244424e822f9d319e8144c33108786c"
2025-06-15 20:52:43,785 [DEBUG] [server]     hash: "089fc9937675a990218caca925bb98b2453f0431476c0581c30eae51676e830c"
2025-06-15 20:52:43,785 [DEBUG] [server]     validator: "node2"
2025-06-15 20:52:43,785 [DEBUG] [server]     transactions {
2025-06-15 20:52:43,785 [DEBUG] [server]       sender: "node2"
2025-06-15 20:52:43,785 [DEBUG] [server]       receiver: "node1"
2025-06-15 20:52:43,785 [DEBUG] [server]       amount: 10.0
2025-06-15 20:52:43,785 [DEBUG] [server]       timestamp: 1749988580.944021
2025-06-15 20:52:43,785 [DEBUG] [server]     }
2025-06-15 20:52:43,785 [DEBUG] [server]     timestamp: 1749988580.9461582
2025-06-15 20:52:43,785 [DEBUG] [server]   }
2025-06-15 20:52:43,785 [DEBUG] [server] }
2025-06-15 20:52:43,785 [DEBUG] [server] 
2025-06-15 20:52:43,785 [DEBUG] [server] [2025-06-15 20:52:43] [INFO] [server:84] received message [SYNC_RESPONSE]
2025-06-15 20:52:43,785 [DEBUG] [server]   sender   : node1
2025-06-15 20:52:43,785 [DEBUG] [server]   full msg :
2025-06-15 20:52:43,785 [DEBUG] [server] type: SYNC_RESPONSE
2025-06-15 20:52:43,785 [DEBUG] [server] sender_id: "node1"
2025-06-15 20:52:43,785 [DEBUG] [server] sync_response {
2025-06-15 20:52:43,785 [DEBUG] [server]   blocks {
2025-06-15 20:52:43,785 [DEBUG] [server]     prev_hash: "0000000000000000000000000000000000000000000000000000000000000000"
2025-06-15 20:52:43,785 [DEBUG] [server]     hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-15 20:52:43,785 [DEBUG] [server]     validator: "genesis"
2025-06-15 20:52:43,786 [DEBUG] [server]   }
2025-06-15 20:52:43,786 [DEBUG] [server]   blocks {
2025-06-15 20:52:43,786 [DEBUG] [server]     index: 1
2025-06-15 20:52:43,786 [DEBUG] [server]     prev_hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-15 20:52:43,786 [DEBUG] [server]     hash: "b99a84e00e376ba4e86e91d0d59af928d244424e822f9d319e8144c33108786c"
2025-06-15 20:52:43,786 [DEBUG] [server]     validator: "node2"
2025-06-15 20:52:43,786 [DEBUG] [server]     transactions {
2025-06-15 20:52:43,786 [DEBUG] [server]       sender: "node2"
2025-06-15 20:52:43,786 [DEBUG] [server]       receiver: "node2"
2025-06-15 20:52:43,786 [DEBUG] [server]       amount: 10.0
2025-06-15 20:52:43,786 [DEBUG] [server]       timestamp: 1749988233.141079
2025-06-15 20:52:43,786 [DEBUG] [server]       type: STAKE
2025-06-15 20:52:43,786 [DEBUG] [server]     }
2025-06-15 20:52:43,786 [DEBUG] [server]     timestamp: 1749988546.197458
2025-06-15 20:52:43,786 [DEBUG] [server]   }
2025-06-15 20:52:43,786 [DEBUG] [server]   blocks {
2025-06-15 20:52:43,786 [DEBUG] [server]     index: 2
2025-06-15 20:52:43,786 [DEBUG] [server]     prev_hash: "b99a84e00e376ba4e86e91d0d59af928d244424e822f9d319e8144c33108786c"
2025-06-15 20:52:43,786 [DEBUG] [server]     hash: "089fc9937675a990218caca925bb98b2453f0431476c0581c30eae51676e830c"
2025-06-15 20:52:43,786 [DEBUG] [server]     validator: "node2"
2025-06-15 20:52:43,786 [DEBUG] [server]     transactions {
2025-06-15 20:52:43,786 [DEBUG] [server]       sender: "node2"
2025-06-15 20:52:43,786 [DEBUG] [server]       receiver: "node1"
2025-06-15 20:52:43,786 [DEBUG] [server]       amount: 10.0
2025-06-15 20:52:43,786 [DEBUG] [server]       timestamp: 1749988580.944021
2025-06-15 20:52:43,787 [DEBUG] [server]     }
2025-06-15 20:52:43,787 [DEBUG] [server]     timestamp: 1749988580.9461582
2025-06-15 20:52:43,787 [DEBUG] [server]   }
2025-06-15 20:52:43,787 [DEBUG] [server] }
2025-06-15 20:52:43,787 [DEBUG] [server] 
2025-06-15 20:52:43,787 [DEBUG] [node2] [2025-06-15 20:52:43] [INFO] [node2:296] Received SYNC_RESPONSE from node1, storing response
2025-06-15 20:52:45,784 [DEBUG] [node2] [2025-06-15 20:52:45] [INFO] [node2:368] SYNC_RESPONSE collection finished. Processing responses.
2025-06-15 20:52:45,784 [DEBUG] [node1] [2025-06-15 20:52:45] [INFO] [node1:368] SYNC_RESPONSE collection finished. Processing responses.
2025-06-15 20:52:45,785 [DEBUG] [node1] [2025-06-15 20:52:45] [INFO] [node1:358] SYNC_RESPONSE from node2: chain length=3     head=089fc993
2025-06-15 20:52:45,785 [DEBUG] [node2] [2025-06-15 20:52:45] [INFO] [node2:358] SYNC_RESPONSE from node1: chain length=3     head=089fc993
2025-06-15 20:52:45,785 [DEBUG] [node1] [2025-06-15 20:52:45] [INFO] [node1:387] no need to sync chain, best chain same with local chain
2025-06-15 20:52:45,786 [DEBUG] [node2] [2025-06-15 20:52:45] [INFO] [node2:387] no need to sync chain, best chain same with local chain
2025-06-15 20:53:51,408 [DEBUG] [DEBUG] 1s 无命令
2025-06-15 20:53:52,884 [INFO] >>> (server) drop node2 on
2025-06-15 20:53:52,890 [DEBUG] [server] [2025-06-15 20:53:52] [INFO] [server:321] [DROP] node2 → ON
2025-06-15 20:55:45,229 [WARNING] 捕获终止信号，正在优雅收尾…
2025-06-15 20:55:45,277 [WARNING] Loop <_UnixSelectorEventLoop running=False closed=True debug=False> that handles pid 21918 is closed
2025-06-15 20:55:45,278 [WARNING] Loop <_UnixSelectorEventLoop running=False closed=True debug=False> that handles pid 21917 is closed
2025-06-15 20:55:45,282 [WARNING] Loop <_UnixSelectorEventLoop running=False closed=True debug=False> that handles pid 21916 is closed
2025-06-15 20:56:35,775 [DEBUG] Using selector: KqueueSelector
2025-06-15 20:56:35,777 [INFO] 启动 server (pid=22305)
2025-06-15 20:56:35,777 [INFO] 等待服务器 127.0.0.1:5000 …
2025-06-15 20:56:35,956 [DEBUG] [server] [2025-06-15 20:56:35] [INFO] [server:44] Async server started on 127.0.0.1:5000
2025-06-15 20:56:36,079 [INFO] 服务器端口就绪
2025-06-15 20:56:36,082 [DEBUG] [server] [2025-06-15 20:56:36] [INFO] [server:62] New connection from ('127.0.0.1', 63300)
2025-06-15 20:56:36,082 [INFO] 启动 node1 (pid=22306)
2025-06-15 20:56:36,092 [INFO] 启动 node2 (pid=22307)
2025-06-15 20:56:36,092 [INFO] DEBUG 模式：按 Enter 推进 1 秒，输入 q 退出
2025-06-15 20:56:36,092 [INFO] >>> (server) stop
2025-06-15 20:56:36,096 [DEBUG] [server] [2025-06-15 20:56:36] [INFO] [server:252] Stopped sending STEP messages
2025-06-15 20:56:36,225 [DEBUG] [server] [2025-06-15 20:56:36] [INFO] [server:62] New connection from ('127.0.0.1', 63301)
2025-06-15 20:56:36,226 [DEBUG] [server] [2025-06-15 20:56:36] [INFO] [server:62] New connection from ('127.0.0.1', 63302)
2025-06-15 20:56:36,229 [DEBUG] [server] [2025-06-15 20:56:36] [INFO] [server:84] received message [HELLO]
2025-06-15 20:56:36,229 [DEBUG] [server]   sender   : node2
2025-06-15 20:56:36,229 [DEBUG] [server]   full msg :
2025-06-15 20:56:36,229 [DEBUG] [server] sender_id: "node2"
2025-06-15 20:56:36,229 [DEBUG] [server] 
2025-06-15 20:56:36,231 [DEBUG] [node2] [2025-06-15 20:56:36] [INFO] [node2:401] Sent SYNC_REQUEST to network
2025-06-15 20:56:36,231 [DEBUG] [node2] [2025-06-15 20:56:36] [INFO] [node2:79] Node node2 started. Connected to server at 127.0.0.1:5000.
2025-06-15 20:56:36,231 [DEBUG] [node2] [2025-06-15 20:56:36] [INFO] [node2:80] Current chain length: 0 (excluding genesis)
2025-06-15 20:56:36,232 [DEBUG] [node1] [2025-06-15 20:56:36] [INFO] [node1:401] Sent SYNC_REQUEST to network
2025-06-15 20:56:36,233 [DEBUG] [node1] [2025-06-15 20:56:36] [INFO] [node1:79] Node node1 started. Connected to server at 127.0.0.1:5000.
2025-06-15 20:56:36,233 [DEBUG] [node1] [2025-06-15 20:56:36] [INFO] [node1:80] Current chain length: 0 (excluding genesis)
2025-06-15 20:56:36,234 [DEBUG] [server] [2025-06-15 20:56:36] [INFO] [server:84] received message [SYNC_REQUEST]
2025-06-15 20:56:36,234 [DEBUG] [server]   sender   : node2
2025-06-15 20:56:36,234 [DEBUG] [server]   full msg :
2025-06-15 20:56:36,234 [DEBUG] [server] type: SYNC_REQUEST
2025-06-15 20:56:36,234 [DEBUG] [server] sender_id: "node2"
2025-06-15 20:56:36,234 [DEBUG] [server] 
2025-06-15 20:56:36,234 [DEBUG] [node1] [2025-06-15 20:56:36] [INFO] [node1:97] Received HELLO message from node node2.
2025-06-15 20:56:36,234 [DEBUG] [node1] [2025-06-15 20:56:36] [INFO] [node1:273] Received SYNC_REQUEST from node2, sending SYNC_RESPONSE
2025-06-15 20:56:36,234 [DEBUG] [server] [2025-06-15 20:56:36] [INFO] [server:84] received message [HELLO]
2025-06-15 20:56:36,234 [DEBUG] [server]   sender   : node1
2025-06-15 20:56:36,234 [DEBUG] [server]   full msg :
2025-06-15 20:56:36,234 [DEBUG] [server] sender_id: "node1"
2025-06-15 20:56:36,234 [DEBUG] [server] 
2025-06-15 20:56:36,235 [DEBUG] [server] [2025-06-15 20:56:36] [INFO] [server:84] received message [SYNC_REQUEST]
2025-06-15 20:56:36,235 [DEBUG] [server]   sender   : node1
2025-06-15 20:56:36,235 [DEBUG] [server]   full msg :
2025-06-15 20:56:36,235 [DEBUG] [server] type: SYNC_REQUEST
2025-06-15 20:56:36,235 [DEBUG] [server] sender_id: "node1"
2025-06-15 20:56:36,235 [DEBUG] [server] 
2025-06-15 20:56:36,235 [DEBUG] [node2] [2025-06-15 20:56:36] [INFO] [node2:97] Received HELLO message from node node1.
2025-06-15 20:56:36,235 [DEBUG] [node2] [2025-06-15 20:56:36] [INFO] [node2:273] Received SYNC_REQUEST from node1, sending SYNC_RESPONSE
2025-06-15 20:56:36,235 [DEBUG] [server] [2025-06-15 20:56:36] [INFO] [server:84] received message [SYNC_RESPONSE]
2025-06-15 20:56:36,235 [DEBUG] [server]   sender   : node1
2025-06-15 20:56:36,235 [DEBUG] [server]   full msg :
2025-06-15 20:56:36,235 [DEBUG] [server] type: SYNC_RESPONSE
2025-06-15 20:56:36,235 [DEBUG] [server] sender_id: "node1"
2025-06-15 20:56:36,235 [DEBUG] [server] sync_response {
2025-06-15 20:56:36,235 [DEBUG] [server]   blocks {
2025-06-15 20:56:36,235 [DEBUG] [server]     prev_hash: "0000000000000000000000000000000000000000000000000000000000000000"
2025-06-15 20:56:36,235 [DEBUG] [server]     hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-15 20:56:36,235 [DEBUG] [server]     validator: "genesis"
2025-06-15 20:56:36,235 [DEBUG] [server]   }
2025-06-15 20:56:36,235 [DEBUG] [server] }
2025-06-15 20:56:36,235 [DEBUG] [server] 
2025-06-15 20:56:36,235 [DEBUG] [node2] [2025-06-15 20:56:36] [INFO] [node2:296] Received SYNC_RESPONSE from node1, storing response
2025-06-15 20:56:36,236 [DEBUG] [server] [2025-06-15 20:56:36] [INFO] [server:84] received message [SYNC_RESPONSE]
2025-06-15 20:56:36,236 [DEBUG] [server]   sender   : node2
2025-06-15 20:56:36,236 [DEBUG] [server]   full msg :
2025-06-15 20:56:36,236 [DEBUG] [server] type: SYNC_RESPONSE
2025-06-15 20:56:36,236 [DEBUG] [server] sender_id: "node2"
2025-06-15 20:56:36,236 [DEBUG] [server] sync_response {
2025-06-15 20:56:36,236 [DEBUG] [server]   blocks {
2025-06-15 20:56:36,236 [DEBUG] [server]     prev_hash: "0000000000000000000000000000000000000000000000000000000000000000"
2025-06-15 20:56:36,236 [DEBUG] [server]     hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-15 20:56:36,236 [DEBUG] [server]     validator: "genesis"
2025-06-15 20:56:36,236 [DEBUG] [server]   }
2025-06-15 20:56:36,236 [DEBUG] [server] }
2025-06-15 20:56:36,236 [DEBUG] [server] 
2025-06-15 20:56:36,236 [DEBUG] [node1] [2025-06-15 20:56:36] [INFO] [node1:296] Received SYNC_RESPONSE from node2, storing response
2025-06-15 20:56:38,236 [DEBUG] [node2] [2025-06-15 20:56:38] [INFO] [node2:368] SYNC_RESPONSE collection finished. Processing responses.
2025-06-15 20:56:38,237 [DEBUG] [node2] [2025-06-15 20:56:38] [INFO] [node2:358] SYNC_RESPONSE from node1: chain length=1     head=97045df0
2025-06-15 20:56:38,237 [DEBUG] [node2] [2025-06-15 20:56:38] [INFO] [node2:387] no need to sync chain, best chain same with local chain
2025-06-15 20:56:38,238 [DEBUG] [node1] [2025-06-15 20:56:38] [INFO] [node1:368] SYNC_RESPONSE collection finished. Processing responses.
2025-06-15 20:56:38,239 [DEBUG] [node1] [2025-06-15 20:56:38] [INFO] [node1:358] SYNC_RESPONSE from node2: chain length=1     head=97045df0
2025-06-15 20:56:38,239 [DEBUG] [node1] [2025-06-15 20:56:38] [INFO] [node1:387] no need to sync chain, best chain same with local chain
2025-06-15 20:56:56,318 [DEBUG] [DEBUG] 1s 无命令
2025-06-15 20:56:57,265 [INFO] >>> (server) drop node2 on
2025-06-15 20:56:57,269 [DEBUG] [server] [2025-06-15 20:56:57] [INFO] [server:321] [DROP] node2 → ON
2025-06-15 20:56:57,533 [DEBUG] [DEBUG] 3s 无命令
2025-06-15 20:56:57,689 [DEBUG] [DEBUG] 4s 无命令
2025-06-15 20:56:57,814 [INFO] >>> (node1) stake 10
2025-06-15 20:56:57,814 [INFO] >>> (node1) tx node2 10
2025-06-15 20:56:57,814 [INFO] >>> (node2) stake 10
2025-06-15 20:56:57,828 [DEBUG] [server] [2025-06-15 20:56:57] [INFO] [server:84] received message [TRANSACTION]
2025-06-15 20:56:57,828 [DEBUG] [server]   sender   : node2
2025-06-15 20:56:57,828 [DEBUG] [server]   full msg :
2025-06-15 20:56:57,828 [DEBUG] [server] type: TRANSACTION
2025-06-15 20:56:57,829 [DEBUG] [server] sender_id: "node2"
2025-06-15 20:56:57,829 [DEBUG] [server] tx {
2025-06-15 20:56:57,829 [DEBUG] [server]   sender: "node2"
2025-06-15 20:56:57,829 [DEBUG] [server]   receiver: "node2"
2025-06-15 20:56:57,829 [DEBUG] [server]   amount: 10.0
2025-06-15 20:56:57,829 [DEBUG] [server]   timestamp: 1749992217.820145
2025-06-15 20:56:57,830 [DEBUG] [server]   type: STAKE
2025-06-15 20:56:57,830 [DEBUG] [server] }
2025-06-15 20:56:57,830 [DEBUG] [server] 
2025-06-15 20:56:57,830 [DEBUG] [node1] [2025-06-15 20:56:57] [INFO] [node1:431] sent STAKE transaction: node1 -> node1 10.0
2025-06-15 20:56:57,830 [DEBUG] [node1] [2025-06-15 20:56:57] [INFO] [node1:573] Want to stake 10.0 tokens.
2025-06-15 20:56:57,830 [DEBUG] [node1] [2025-06-15 20:56:57] [INFO] [node1:254] received STAKE: node2 stakes 10.0
2025-06-15 20:56:57,831 [DEBUG] [node2] [2025-06-15 20:56:57] [INFO] [node2:431] sent STAKE transaction: node2 -> node2 10.0
2025-06-15 20:56:57,831 [DEBUG] [node2] [2025-06-15 20:56:57] [INFO] [node2:573] Want to stake 10.0 tokens.
2025-06-15 20:56:57,831 [DEBUG] [server] [2025-06-15 20:56:57] [INFO] [server:84] received message [TRANSACTION]
2025-06-15 20:56:57,831 [DEBUG] [server]   sender   : node1
2025-06-15 20:56:57,831 [DEBUG] [server]   full msg :
2025-06-15 20:56:57,831 [DEBUG] [server] type: TRANSACTION
2025-06-15 20:56:57,831 [DEBUG] [server] sender_id: "node1"
2025-06-15 20:56:57,832 [DEBUG] [server] tx {
2025-06-15 20:56:57,832 [DEBUG] [server]   sender: "node1"
2025-06-15 20:56:57,832 [DEBUG] [server]   receiver: "node1"
2025-06-15 20:56:57,832 [DEBUG] [server]   amount: 10.0
2025-06-15 20:56:57,832 [DEBUG] [server]   timestamp: 1749992217.817463
2025-06-15 20:56:57,832 [DEBUG] [server]   type: STAKE
2025-06-15 20:56:57,832 [DEBUG] [server] }
2025-06-15 20:56:57,832 [DEBUG] [server] 
2025-06-15 20:56:57,952 [DEBUG] [DEBUG] 6s 无命令
2025-06-15 20:56:58,089 [INFO] >>> (node1) forge --force
2025-06-15 20:56:58,091 [DEBUG] [node1] [2025-06-15 20:56:58] [INFO] [node1:431] sent TRANSFER transaction: node1 -> node2 10.0
2025-06-15 20:56:58,092 [DEBUG] [node1] [2025-06-15 20:56:58] [WARNING] [node1:481] FORCING block forge -- skipping validator check!
2025-06-15 20:56:58,092 [DEBUG] [server] [2025-06-15 20:56:58] [INFO] [server:84] received message [TRANSACTION]
2025-06-15 20:56:58,092 [DEBUG] [server]   sender   : node1
2025-06-15 20:56:58,092 [DEBUG] [server]   full msg :
2025-06-15 20:56:58,093 [DEBUG] [server] type: TRANSACTION
2025-06-15 20:56:58,093 [DEBUG] [server] sender_id: "node1"
2025-06-15 20:56:58,093 [DEBUG] [server] tx {
2025-06-15 20:56:58,093 [DEBUG] [server]   sender: "node1"
2025-06-15 20:56:58,093 [DEBUG] [server]   receiver: "node2"
2025-06-15 20:56:58,094 [DEBUG] [server]   amount: 10.0
2025-06-15 20:56:58,094 [DEBUG] [server]   timestamp: 1749992218.090629
2025-06-15 20:56:58,094 [DEBUG] [server] }
2025-06-15 20:56:58,095 [DEBUG] [server] 
2025-06-15 20:56:58,095 [DEBUG] [node1] [2025-06-15 20:56:58] [INFO] [node1:499] Want to forge block 1 with hash d2738d41
2025-06-15 20:56:58,095 [DEBUG] [node1] [2025-06-15 20:56:58] [INFO] [node1:127] Voted to accept Block 1, hash=d2738d41
2025-06-15 20:56:58,095 [DEBUG] [server] [2025-06-15 20:56:58] [INFO] [server:84] received message [BLOCK]
2025-06-15 20:56:58,096 [DEBUG] [server]   sender   : node1
2025-06-15 20:56:58,096 [DEBUG] [server]   full msg :
2025-06-15 20:56:58,096 [DEBUG] [server] type: BLOCK
2025-06-15 20:56:58,096 [DEBUG] [server] sender_id: "node1"
2025-06-15 20:56:58,096 [DEBUG] [server] block {
2025-06-15 20:56:58,096 [DEBUG] [server]   index: 1
2025-06-15 20:56:58,096 [DEBUG] [server]   prev_hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-15 20:56:58,096 [DEBUG] [server]   hash: "d2738d416f0cb11244b38c7798b36ba8c2b232c3fc34ec5b1174e0fcbf315780"
2025-06-15 20:56:58,097 [DEBUG] [server]   validator: "node1"
2025-06-15 20:56:58,097 [DEBUG] [server]   transactions {
2025-06-15 20:56:58,097 [DEBUG] [server]     sender: "node1"
2025-06-15 20:56:58,097 [DEBUG] [server]     receiver: "node1"
2025-06-15 20:56:58,097 [DEBUG] [server]     amount: 10.0
2025-06-15 20:56:58,097 [DEBUG] [server]     timestamp: 1749992217.817463
2025-06-15 20:56:58,097 [DEBUG] [server]     type: STAKE
2025-06-15 20:56:58,097 [DEBUG] [server]   }
2025-06-15 20:56:58,098 [DEBUG] [server]   transactions {
2025-06-15 20:56:58,098 [DEBUG] [server]     sender: "node2"
2025-06-15 20:56:58,098 [DEBUG] [server]     receiver: "node2"
2025-06-15 20:56:58,098 [DEBUG] [server]     amount: 10.0
2025-06-15 20:56:58,098 [DEBUG] [server]     timestamp: 1749992217.820145
2025-06-15 20:56:58,098 [DEBUG] [server]     type: STAKE
2025-06-15 20:56:58,098 [DEBUG] [server]   }
2025-06-15 20:56:58,099 [DEBUG] [server]   transactions {
2025-06-15 20:56:58,099 [DEBUG] [server]     sender: "node1"
2025-06-15 20:56:58,099 [DEBUG] [server]     receiver: "node2"
2025-06-15 20:56:58,099 [DEBUG] [server]     amount: 10.0
2025-06-15 20:56:58,099 [DEBUG] [server]     timestamp: 1749992218.090629
2025-06-15 20:56:58,099 [DEBUG] [server]   }
2025-06-15 20:56:58,099 [DEBUG] [server]   timestamp: 1749992218.0918772
2025-06-15 20:56:58,100 [DEBUG] [server] }
2025-06-15 20:56:58,100 [DEBUG] [server] 
2025-06-15 20:56:58,100 [DEBUG] [server] [2025-06-15 20:56:58] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-15 20:56:58,100 [DEBUG] [server]   sender   : node1
2025-06-15 20:56:58,100 [DEBUG] [server]   full msg :
2025-06-15 20:56:58,101 [DEBUG] [server] type: BLOCK_VOTE
2025-06-15 20:56:58,101 [DEBUG] [server] sender_id: "node1"
2025-06-15 20:56:58,102 [DEBUG] [server] block_vote {
2025-06-15 20:56:58,102 [DEBUG] [server]   voter_id: "node1"
2025-06-15 20:56:58,102 [DEBUG] [server]   block_hash: "d2738d416f0cb11244b38c7798b36ba8c2b232c3fc34ec5b1174e0fcbf315780"
2025-06-15 20:56:58,102 [DEBUG] [server] }
2025-06-15 20:56:58,102 [DEBUG] [server] 
2025-06-15 20:56:58,211 [INFO] >>> (node2) forge --force
2025-06-15 20:56:58,212 [DEBUG] [node2] [2025-06-15 20:56:58] [WARNING] [node2:481] FORCING block forge -- skipping validator check!
2025-06-15 20:56:58,213 [DEBUG] [node2] [2025-06-15 20:56:58] [INFO] [node2:499] Want to forge block 1 with hash 954500be
2025-06-15 20:56:58,214 [DEBUG] [node2] [2025-06-15 20:56:58] [INFO] [node2:127] Voted to accept Block 1, hash=954500be
2025-06-15 20:56:58,216 [DEBUG] [server] [2025-06-15 20:56:58] [INFO] [server:84] received message [BLOCK]
2025-06-15 20:56:58,216 [DEBUG] [server]   sender   : node2
2025-06-15 20:56:58,216 [DEBUG] [server]   full msg :
2025-06-15 20:56:58,217 [DEBUG] [server] type: BLOCK
2025-06-15 20:56:58,217 [DEBUG] [server] sender_id: "node2"
2025-06-15 20:56:58,217 [DEBUG] [server] block {
2025-06-15 20:56:58,217 [DEBUG] [server]   index: 1
2025-06-15 20:56:58,217 [DEBUG] [server]   prev_hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-15 20:56:58,218 [DEBUG] [server]   hash: "954500be1471476e7660f052b4108a3e3a5744346b1251b4cfb631c14ba58950"
2025-06-15 20:56:58,218 [DEBUG] [server]   validator: "node2"
2025-06-15 20:56:58,218 [DEBUG] [server]   transactions {
2025-06-15 20:56:58,218 [DEBUG] [server]     sender: "node2"
2025-06-15 20:56:58,218 [DEBUG] [server]     receiver: "node2"
2025-06-15 20:56:58,218 [DEBUG] [server]     amount: 10.0
2025-06-15 20:56:58,218 [DEBUG] [server]     timestamp: 1749992217.820145
2025-06-15 20:56:58,219 [DEBUG] [server]     type: STAKE
2025-06-15 20:56:58,219 [DEBUG] [server]   }
2025-06-15 20:56:58,219 [DEBUG] [server]   timestamp: 1749992218.212408
2025-06-15 20:56:58,219 [DEBUG] [server] }
2025-06-15 20:56:58,220 [DEBUG] [server] 
2025-06-15 20:56:58,220 [DEBUG] [server] [2025-06-15 20:56:58] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-15 20:56:58,220 [DEBUG] [server]   sender   : node2
2025-06-15 20:56:58,220 [DEBUG] [server]   full msg :
2025-06-15 20:56:58,220 [DEBUG] [server] type: BLOCK_VOTE
2025-06-15 20:56:58,221 [DEBUG] [server] sender_id: "node2"
2025-06-15 20:56:58,221 [DEBUG] [server] block_vote {
2025-06-15 20:56:58,221 [DEBUG] [server]   voter_id: "node2"
2025-06-15 20:56:58,221 [DEBUG] [server]   block_hash: "954500be1471476e7660f052b4108a3e3a5744346b1251b4cfb631c14ba58950"
2025-06-15 20:56:58,221 [DEBUG] [server] }
2025-06-15 20:56:58,221 [DEBUG] [server] 
2025-06-15 20:56:58,221 [DEBUG] [server] [2025-06-15 20:56:58] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-15 20:56:58,221 [DEBUG] [server]   sender   : node1
2025-06-15 20:56:58,222 [DEBUG] [server]   full msg :
2025-06-15 20:56:58,222 [DEBUG] [server] type: BLOCK_VOTE
2025-06-15 20:56:58,222 [DEBUG] [server] sender_id: "node1"
2025-06-15 20:56:58,222 [DEBUG] [server] block_vote {
2025-06-15 20:56:58,222 [DEBUG] [server]   voter_id: "node1"
2025-06-15 20:56:58,222 [DEBUG] [server]   block_hash: "954500be1471476e7660f052b4108a3e3a5744346b1251b4cfb631c14ba58950"
2025-06-15 20:56:58,222 [DEBUG] [server] }
2025-06-15 20:56:58,223 [DEBUG] [server] 
2025-06-15 20:56:58,223 [DEBUG] [node1] [2025-06-15 20:56:58] [INFO] [node1:127] Voted to accept Block 1, hash=954500be
2025-06-15 20:56:58,223 [DEBUG] [node1] [2025-06-15 20:56:58] [WARNING] [node1:189] Received BLOCK VOTE from node2 on block 954500be. Not validator node, Ignoring
2025-06-15 20:56:58,351 [DEBUG] [DEBUG] 9s 无命令
2025-06-15 20:56:58,494 [INFO] >>> (node2) tx node1 10
2025-06-15 20:56:58,495 [INFO] >>> (node2) forge --force
2025-06-15 20:56:58,495 [DEBUG] [node2] [2025-06-15 20:56:58] [INFO] [node2:431] sent TRANSFER transaction: node2 -> node1 10.0
2025-06-15 20:56:58,496 [DEBUG] [node2] [2025-06-15 20:56:58] [WARNING] [node2:481] FORCING block forge -- skipping validator check!
2025-06-15 20:56:58,496 [DEBUG] [server] [2025-06-15 20:56:58] [INFO] [server:84] received message [TRANSACTION]
2025-06-15 20:56:58,497 [DEBUG] [server]   sender   : node2
2025-06-15 20:56:58,497 [DEBUG] [server]   full msg :
2025-06-15 20:56:58,497 [DEBUG] [server] type: TRANSACTION
2025-06-15 20:56:58,497 [DEBUG] [server] sender_id: "node2"
2025-06-15 20:56:58,497 [DEBUG] [server] tx {
2025-06-15 20:56:58,497 [DEBUG] [server]   sender: "node2"
2025-06-15 20:56:58,497 [DEBUG] [server]   receiver: "node1"
2025-06-15 20:56:58,497 [DEBUG] [server]   amount: 10.0
2025-06-15 20:56:58,498 [DEBUG] [server]   timestamp: 1749992218.4951649
2025-06-15 20:56:58,498 [DEBUG] [server] }
2025-06-15 20:56:58,498 [DEBUG] [server] 
2025-06-15 20:56:58,498 [DEBUG] [node2] [2025-06-15 20:56:58] [INFO] [node2:499] Want to forge block 1 with hash 35c3c5fe
2025-06-15 20:56:58,498 [DEBUG] [node1] [2025-06-15 20:56:58] [INFO] [node1:248] received TRANSFER: node2 → node1, amount 10.0
2025-06-15 20:56:58,499 [DEBUG] [node1] [2025-06-15 20:56:58] [INFO] [node1:127] Voted to accept Block 1, hash=35c3c5fe
2025-06-15 20:56:58,499 [DEBUG] [node1] [2025-06-15 20:56:58] [WARNING] [node1:189] Received BLOCK VOTE from node2 on block 35c3c5fe. Not validator node, Ignoring
2025-06-15 20:56:58,499 [DEBUG] [server] [2025-06-15 20:56:58] [INFO] [server:84] received message [BLOCK]
2025-06-15 20:56:58,499 [DEBUG] [server]   sender   : node2
2025-06-15 20:56:58,499 [DEBUG] [server]   full msg :
2025-06-15 20:56:58,499 [DEBUG] [server] type: BLOCK
2025-06-15 20:56:58,499 [DEBUG] [server] sender_id: "node2"
2025-06-15 20:56:58,500 [DEBUG] [server] block {
2025-06-15 20:56:58,500 [DEBUG] [server]   index: 1
2025-06-15 20:56:58,500 [DEBUG] [server]   prev_hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-15 20:56:58,500 [DEBUG] [server]   hash: "35c3c5fe0e8860a1c9dfaeafe684f7c4ba6f92da834470c46ba7ec481ffbfa4c"
2025-06-15 20:56:58,500 [DEBUG] [server]   validator: "node2"
2025-06-15 20:56:58,500 [DEBUG] [server]   transactions {
2025-06-15 20:56:58,500 [DEBUG] [server]     sender: "node2"
2025-06-15 20:56:58,501 [DEBUG] [server]     receiver: "node2"
2025-06-15 20:56:58,501 [DEBUG] [server]     amount: 10.0
2025-06-15 20:56:58,501 [DEBUG] [server]     timestamp: 1749992217.820145
2025-06-15 20:56:58,501 [DEBUG] [server]     type: STAKE
2025-06-15 20:56:58,501 [DEBUG] [server]   }
2025-06-15 20:56:58,501 [DEBUG] [server]   transactions {
2025-06-15 20:56:58,501 [DEBUG] [server]     sender: "node2"
2025-06-15 20:56:58,501 [DEBUG] [server]     receiver: "node1"
2025-06-15 20:56:58,502 [DEBUG] [server]     amount: 10.0
2025-06-15 20:56:58,502 [DEBUG] [server]     timestamp: 1749992218.4951649
2025-06-15 20:56:58,502 [DEBUG] [server]   }
2025-06-15 20:56:58,502 [DEBUG] [server]   timestamp: 1749992218.4958742
2025-06-15 20:56:58,502 [DEBUG] [server] }
2025-06-15 20:56:58,502 [DEBUG] [server] 
2025-06-15 20:56:58,502 [DEBUG] [server] [2025-06-15 20:56:58] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-15 20:56:58,502 [DEBUG] [server]   sender   : node2
2025-06-15 20:56:58,502 [DEBUG] [server]   full msg :
2025-06-15 20:56:58,503 [DEBUG] [server] type: BLOCK_VOTE
2025-06-15 20:56:58,503 [DEBUG] [server] sender_id: "node2"
2025-06-15 20:56:58,503 [DEBUG] [server] block_vote {
2025-06-15 20:56:58,503 [DEBUG] [server]   voter_id: "node2"
2025-06-15 20:56:58,503 [DEBUG] [server]   block_hash: "35c3c5fe0e8860a1c9dfaeafe684f7c4ba6f92da834470c46ba7ec481ffbfa4c"
2025-06-15 20:56:58,503 [DEBUG] [server] }
2025-06-15 20:56:58,504 [DEBUG] [server] 
2025-06-15 20:56:58,504 [DEBUG] [server] [2025-06-15 20:56:58] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-15 20:56:58,504 [DEBUG] [server]   sender   : node1
2025-06-15 20:56:58,504 [DEBUG] [server]   full msg :
2025-06-15 20:56:58,504 [DEBUG] [server] type: BLOCK_VOTE
2025-06-15 20:56:58,504 [DEBUG] [server] sender_id: "node1"
2025-06-15 20:56:58,504 [DEBUG] [server] block_vote {
2025-06-15 20:56:58,504 [DEBUG] [server]   voter_id: "node1"
2025-06-15 20:56:58,505 [DEBUG] [server]   block_hash: "35c3c5fe0e8860a1c9dfaeafe684f7c4ba6f92da834470c46ba7ec481ffbfa4c"
2025-06-15 20:56:58,505 [DEBUG] [server] }
2025-06-15 20:56:58,505 [DEBUG] [server] 
2025-06-15 20:56:58,505 [DEBUG] [node2] [2025-06-15 20:56:58] [INFO] [node2:127] Voted to accept Block 1, hash=35c3c5fe
2025-06-15 20:56:58,655 [DEBUG] [DEBUG] 11s 无命令
2025-06-15 20:56:58,778 [INFO] >>> (node1) info
2025-06-15 20:56:58,779 [INFO] >>> (node2) info
2025-06-15 20:56:58,910 [INFO] 结束等待 5.0s…
2025-06-15 20:57:03,100 [DEBUG] [node1] [2025-06-15 20:57:03] [WARNING] [node1:342] Vote timeout for block d2738d41, discarding pending         state.
2025-06-15 20:57:03,218 [DEBUG] [node2] [2025-06-15 20:57:03] [WARNING] [node2:342] Vote timeout for block 954500be, discarding pending         state.
2025-06-15 20:57:03,223 [DEBUG] [node1] [2025-06-15 20:57:03] [WARNING] [node1:342] Vote timeout for block 954500be, discarding pending         state.
2025-06-15 20:57:03,502 [DEBUG] [node2] [2025-06-15 20:57:03] [WARNING] [node2:342] Vote timeout for block 35c3c5fe, discarding pending         state.
2025-06-15 20:57:03,503 [DEBUG] [node1] [2025-06-15 20:57:03] [WARNING] [node1:342] Vote timeout for block 35c3c5fe, discarding pending         state.
2025-06-15 20:57:03,911 [INFO] >>> (server) exit
2025-06-15 20:57:03,914 [DEBUG] [server] [2025-06-15 20:57:03] [INFO] [server:268] Shutting down server...
2025-06-15 20:57:03,915 [DEBUG] [server] [2025-06-15 20:57:03] [INFO] [server:287] Closing all client connections...
2025-06-15 20:57:03,915 [DEBUG] [server] [2025-06-15 20:57:03] [INFO] [server:156] Node node2 disconnected.
2025-06-15 20:57:03,915 [DEBUG] [node2] [2025-06-15 20:57:03] [INFO] [node2:103] Received BYE message from node server.
2025-06-15 20:57:03,915 [DEBUG] [node2] [2025-06-15 20:57:03] [INFO] [node2:105] Server is shutting down, exiting.
2025-06-15 20:57:03,916 [DEBUG] [node2] [2025-06-15 20:57:03] [INFO] [node2:555] Exiting.
2025-06-15 20:57:03,916 [DEBUG] [node1] [2025-06-15 20:57:03] [INFO] [node1:103] Received BYE message from node server.
2025-06-15 20:57:03,917 [DEBUG] [node1] [2025-06-15 20:57:03] [INFO] [node1:105] Server is shutting down, exiting.
2025-06-15 20:57:03,917 [DEBUG] [node1] [2025-06-15 20:57:03] [INFO] [node1:555] Exiting.
2025-06-15 20:57:03,918 [DEBUG] [server] [2025-06-15 20:57:03] [INFO] [server:156] Node node1 disconnected.
2025-06-15 20:57:03,918 [DEBUG] [server] [2025-06-15 20:57:03] [INFO] [server:294] Closing server socket...
2025-06-15 20:57:03,919 [DEBUG] [server] [2025-06-15 20:57:03] [INFO] [server:299] Server shutdown complete. Bye!
2025-06-15 20:57:03,919 [DEBUG] [node1] [2025-06-15 20:57:03] [INFO] [blockchain:264] Blockchain saved to data_node_node1
2025-06-15 20:57:03,919 [DEBUG] [node2] [2025-06-15 20:57:03] [INFO] [blockchain:264] Blockchain saved to data_node_node2
2025-06-15 20:57:03,920 [DEBUG] [node1] Node ID: node1
2025-06-15 20:57:03,920 [DEBUG] [node1] Known nodes: {'node1', 'node2'}
2025-06-15 20:57:03,920 [DEBUG] [node1] ========== Blockchain Structure ==========
2025-06-15 20:57:03,921 [DEBUG] [node1] Block 0 | hash=97045df0... | validator=genesis | tx_count=0 (main)
2025-06-15 20:57:03,921 [DEBUG] [node1] ===================================
2025-06-15 20:57:03,921 [DEBUG] [node1] ========== Account State ==========
2025-06-15 20:57:03,921 [DEBUG] [node1]  Account node1 | Balance=100.00 | Stake=0.00
2025-06-15 20:57:03,921 [DEBUG] [node1]  Account node2 | Balance=100.00 | Stake=0.00
2025-06-15 20:57:03,921 [DEBUG] [node1]  Account node3 | Balance=100.00 | Stake=0.00
2025-06-15 20:57:03,921 [DEBUG] [node1] ===================================
2025-06-15 20:57:03,921 [DEBUG] [node1] ========== Pending Transactions ==========
2025-06-15 20:57:03,922 [DEBUG] [node1]   Transaction(node1 -> node1, 10.0, type=STAKE)
2025-06-15 20:57:03,922 [DEBUG] [node1]   Transaction(node2 -> node2, 10.0, type=STAKE)
2025-06-15 20:57:03,922 [DEBUG] [node1]   Transaction(node1 -> node2, 10.0, type=TRANSFER)
2025-06-15 20:57:03,922 [DEBUG] [node1]   Transaction(node2 -> node1, 10.0, type=TRANSFER)
2025-06-15 20:57:03,923 [DEBUG] [node1] ==========================================
2025-06-15 20:57:03,923 [DEBUG] [node2] Node ID: node2
2025-06-15 20:57:03,923 [DEBUG] [node2] Known nodes: {'node1', 'node2'}
2025-06-15 20:57:03,923 [DEBUG] [node2] ========== Blockchain Structure ==========
2025-06-15 20:57:03,924 [DEBUG] [node2] Block 0 | hash=97045df0... | validator=genesis | tx_count=0 (main)
2025-06-15 20:57:03,924 [DEBUG] [node2] ===================================
2025-06-15 20:57:03,924 [DEBUG] [node2] ========== Account State ==========
2025-06-15 20:57:03,924 [DEBUG] [node2]  Account node1 | Balance=100.00 | Stake=0.00
2025-06-15 20:57:03,924 [DEBUG] [node2]  Account node2 | Balance=100.00 | Stake=0.00
2025-06-15 20:57:03,925 [DEBUG] [node2]  Account node3 | Balance=100.00 | Stake=0.00
2025-06-15 20:57:03,926 [DEBUG] [node2] ===================================
2025-06-15 20:57:03,926 [DEBUG] [node2] ========== Pending Transactions ==========
2025-06-15 20:57:03,926 [DEBUG] [node2]   Transaction(node2 -> node2, 10.0, type=STAKE)
2025-06-15 20:57:03,926 [DEBUG] [node2]   Transaction(node2 -> node1, 10.0, type=TRANSFER)
2025-06-15 20:57:03,926 [DEBUG] [node2] ==========================================
2025-06-15 20:57:03,946 [INFO] server 已优雅退出
2025-06-15 20:57:03,947 [INFO] 等待节点自动下线 5.0s…
2025-06-15 23:13:00,201 [DEBUG] Using selector: KqueueSelector
2025-06-15 23:13:00,203 [INFO] 启动 server (pid=32341)
2025-06-15 23:13:00,203 [INFO] 等待服务器 127.0.0.1:5000 …
2025-06-15 23:13:00,280 [DEBUG] [server] [2025-06-15 23:13:00] [INFO] [server:44] Async server started on 127.0.0.1:5000
2025-06-15 23:13:00,505 [INFO] 服务器端口就绪
2025-06-15 23:13:00,511 [DEBUG] [server] [2025-06-15 23:13:00] [INFO] [server:62] New connection from ('127.0.0.1', 49189)
2025-06-15 23:13:00,512 [INFO] 启动 node1 (pid=32342)
2025-06-15 23:13:00,517 [INFO] 启动 node2 (pid=32343)
2025-06-15 23:13:00,517 [INFO] DEBUG 模式：按 Enter 推进 1 秒，输入 q 退出
2025-06-15 23:13:00,517 [INFO] >>> (server) stop
2025-06-15 23:13:00,521 [DEBUG] [server] [2025-06-15 23:13:00] [INFO] [server:252] Stopped sending STEP messages
2025-06-15 23:13:00,607 [DEBUG] [server] [2025-06-15 23:13:00] [INFO] [server:62] New connection from ('127.0.0.1', 49190)
2025-06-15 23:13:00,607 [DEBUG] [server] [2025-06-15 23:13:00] [INFO] [server:62] New connection from ('127.0.0.1', 49191)
2025-06-15 23:13:00,610 [DEBUG] [server] [2025-06-15 23:13:00] [INFO] [server:84] received message [HELLO]
2025-06-15 23:13:00,610 [DEBUG] [server]   sender   : node1
2025-06-15 23:13:00,610 [DEBUG] [server]   full msg :
2025-06-15 23:13:00,610 [DEBUG] [server] sender_id: "node1"
2025-06-15 23:13:00,610 [DEBUG] [server] 
2025-06-15 23:13:00,612 [DEBUG] [node2] [2025-06-15 23:13:00] [INFO] [node2:401] Sent SYNC_REQUEST to network
2025-06-15 23:13:00,612 [DEBUG] [node1] [2025-06-15 23:13:00] [INFO] [node1:401] Sent SYNC_REQUEST to network
2025-06-15 23:13:00,612 [DEBUG] [node2] [2025-06-15 23:13:00] [INFO] [node2:79] Node node2 started. Connected to server at 127.0.0.1:5000.
2025-06-15 23:13:00,612 [DEBUG] [node2] [2025-06-15 23:13:00] [INFO] [node2:80] Current chain length: 0 (excluding genesis)
2025-06-15 23:13:00,612 [DEBUG] [node1] [2025-06-15 23:13:00] [INFO] [node1:79] Node node1 started. Connected to server at 127.0.0.1:5000.
2025-06-15 23:13:00,612 [DEBUG] [node1] [2025-06-15 23:13:00] [INFO] [node1:80] Current chain length: 0 (excluding genesis)
2025-06-15 23:13:00,614 [DEBUG] [server] [2025-06-15 23:13:00] [INFO] [server:84] received message [SYNC_REQUEST]
2025-06-15 23:13:00,614 [DEBUG] [server]   sender   : node1
2025-06-15 23:13:00,614 [DEBUG] [server]   full msg :
2025-06-15 23:13:00,614 [DEBUG] [server] type: SYNC_REQUEST
2025-06-15 23:13:00,614 [DEBUG] [server] sender_id: "node1"
2025-06-15 23:13:00,614 [DEBUG] [server] 
2025-06-15 23:13:00,614 [DEBUG] [node2] [2025-06-15 23:13:00] [INFO] [node2:97] Received HELLO message from node node1.
2025-06-15 23:13:00,614 [DEBUG] [node2] [2025-06-15 23:13:00] [INFO] [node2:273] Received SYNC_REQUEST from node1, sending SYNC_RESPONSE
2025-06-15 23:13:00,614 [DEBUG] [server] [2025-06-15 23:13:00] [INFO] [server:84] received message [HELLO]
2025-06-15 23:13:00,614 [DEBUG] [server]   sender   : node2
2025-06-15 23:13:00,614 [DEBUG] [server]   full msg :
2025-06-15 23:13:00,614 [DEBUG] [server] sender_id: "node2"
2025-06-15 23:13:00,614 [DEBUG] [server] 
2025-06-15 23:13:00,614 [DEBUG] [server] [2025-06-15 23:13:00] [INFO] [server:84] received message [SYNC_REQUEST]
2025-06-15 23:13:00,615 [DEBUG] [server]   sender   : node2
2025-06-15 23:13:00,615 [DEBUG] [server]   full msg :
2025-06-15 23:13:00,615 [DEBUG] [server] type: SYNC_REQUEST
2025-06-15 23:13:00,615 [DEBUG] [server] sender_id: "node2"
2025-06-15 23:13:00,615 [DEBUG] [server] 
2025-06-15 23:13:00,615 [DEBUG] [node1] [2025-06-15 23:13:00] [INFO] [node1:97] Received HELLO message from node node2.
2025-06-15 23:13:00,615 [DEBUG] [node1] [2025-06-15 23:13:00] [INFO] [node1:273] Received SYNC_REQUEST from node2, sending SYNC_RESPONSE
2025-06-15 23:13:00,615 [DEBUG] [server] [2025-06-15 23:13:00] [INFO] [server:84] received message [SYNC_RESPONSE]
2025-06-15 23:13:00,615 [DEBUG] [server]   sender   : node2
2025-06-15 23:13:00,615 [DEBUG] [server]   full msg :
2025-06-15 23:13:00,615 [DEBUG] [server] type: SYNC_RESPONSE
2025-06-15 23:13:00,615 [DEBUG] [server] sender_id: "node2"
2025-06-15 23:13:00,615 [DEBUG] [server] sync_response {
2025-06-15 23:13:00,615 [DEBUG] [server]   blocks {
2025-06-15 23:13:00,615 [DEBUG] [server]     prev_hash: "0000000000000000000000000000000000000000000000000000000000000000"
2025-06-15 23:13:00,615 [DEBUG] [server]     hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-15 23:13:00,615 [DEBUG] [server]     validator: "genesis"
2025-06-15 23:13:00,615 [DEBUG] [server]   }
2025-06-15 23:13:00,615 [DEBUG] [server] }
2025-06-15 23:13:00,615 [DEBUG] [server] 
2025-06-15 23:13:00,615 [DEBUG] [server] [2025-06-15 23:13:00] [INFO] [server:84] received message [SYNC_RESPONSE]
2025-06-15 23:13:00,616 [DEBUG] [server]   sender   : node1
2025-06-15 23:13:00,616 [DEBUG] [server]   full msg :
2025-06-15 23:13:00,616 [DEBUG] [server] type: SYNC_RESPONSE
2025-06-15 23:13:00,616 [DEBUG] [server] sender_id: "node1"
2025-06-15 23:13:00,616 [DEBUG] [server] sync_response {
2025-06-15 23:13:00,616 [DEBUG] [server]   blocks {
2025-06-15 23:13:00,616 [DEBUG] [server]     prev_hash: "0000000000000000000000000000000000000000000000000000000000000000"
2025-06-15 23:13:00,616 [DEBUG] [server]     hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-15 23:13:00,616 [DEBUG] [server]     validator: "genesis"
2025-06-15 23:13:00,616 [DEBUG] [server]   }
2025-06-15 23:13:00,616 [DEBUG] [server] }
2025-06-15 23:13:00,616 [DEBUG] [server] 
2025-06-15 23:13:00,616 [DEBUG] [node1] [2025-06-15 23:13:00] [INFO] [node1:296] Received SYNC_RESPONSE from node2, storing response
2025-06-15 23:13:00,616 [DEBUG] [node2] [2025-06-15 23:13:00] [INFO] [node2:296] Received SYNC_RESPONSE from node1, storing response
2025-06-15 23:13:02,619 [DEBUG] [node1] [2025-06-15 23:13:02] [INFO] [node1:368] SYNC_RESPONSE collection finished. Processing responses.
2025-06-15 23:13:02,619 [DEBUG] [node1] [2025-06-15 23:13:02] [INFO] [node1:358] SYNC_RESPONSE from node2: chain length=1     head=97045df0
2025-06-15 23:13:02,620 [DEBUG] [node1] [2025-06-15 23:13:02] [INFO] [node1:387] no need to sync chain, best chain same with local chain
2025-06-15 23:13:02,621 [DEBUG] [node2] [2025-06-15 23:13:02] [INFO] [node2:368] SYNC_RESPONSE collection finished. Processing responses.
2025-06-15 23:13:02,621 [DEBUG] [node2] [2025-06-15 23:13:02] [INFO] [node2:358] SYNC_RESPONSE from node1: chain length=1     head=97045df0
2025-06-15 23:13:02,621 [DEBUG] [node2] [2025-06-15 23:13:02] [INFO] [node2:387] no need to sync chain, best chain same with local chain
2025-06-15 23:15:15,850 [DEBUG] [DEBUG] 1s 无命令
2025-06-15 23:15:17,470 [INFO] >>> (server) drop node2 on
2025-06-15 23:15:17,473 [DEBUG] [server] [2025-06-15 23:15:17] [INFO] [server:321] [DROP] node2 → ON
2025-06-15 23:15:25,290 [DEBUG] [DEBUG] 3s 无命令
2025-06-15 23:15:27,967 [DEBUG] [DEBUG] 4s 无命令
2025-06-15 23:15:28,604 [INFO] >>> (node1) stake 10
2025-06-15 23:15:28,604 [INFO] >>> (node1) tx node2 10
2025-06-15 23:15:28,604 [INFO] >>> (node2) stake 10
2025-06-15 23:15:28,611 [DEBUG] [server] [2025-06-15 23:15:28] [INFO] [server:84] received message [TRANSACTION]
2025-06-15 23:15:28,611 [DEBUG] [server]   sender   : node1
2025-06-15 23:15:28,611 [DEBUG] [server]   full msg :
2025-06-15 23:15:28,612 [DEBUG] [server] type: TRANSACTION
2025-06-15 23:15:28,612 [DEBUG] [server] sender_id: "node1"
2025-06-15 23:15:28,612 [DEBUG] [server] tx {
2025-06-15 23:15:28,612 [DEBUG] [server]   sender: "node1"
2025-06-15 23:15:28,612 [DEBUG] [server]   receiver: "node1"
2025-06-15 23:15:28,612 [DEBUG] [server]   amount: 10.0
2025-06-15 23:15:28,612 [DEBUG] [server]   timestamp: 1750000528.606727
2025-06-15 23:15:28,612 [DEBUG] [server]   type: STAKE
2025-06-15 23:15:28,613 [DEBUG] [server] }
2025-06-15 23:15:28,613 [DEBUG] [server] 
2025-06-15 23:15:28,613 [DEBUG] [server] [2025-06-15 23:15:28] [INFO] [server:84] received message [TRANSACTION]
2025-06-15 23:15:28,613 [DEBUG] [server]   sender   : node2
2025-06-15 23:15:28,613 [DEBUG] [server]   full msg :
2025-06-15 23:15:28,613 [DEBUG] [server] type: TRANSACTION
2025-06-15 23:15:28,614 [DEBUG] [server] sender_id: "node2"
2025-06-15 23:15:28,614 [DEBUG] [server] tx {
2025-06-15 23:15:28,614 [DEBUG] [server]   sender: "node2"
2025-06-15 23:15:28,614 [DEBUG] [server]   receiver: "node2"
2025-06-15 23:15:28,614 [DEBUG] [server]   amount: 10.0
2025-06-15 23:15:28,614 [DEBUG] [server]   timestamp: 1750000528.606814
2025-06-15 23:15:28,614 [DEBUG] [server]   type: STAKE
2025-06-15 23:15:28,614 [DEBUG] [server] }
2025-06-15 23:15:28,614 [DEBUG] [server] 
2025-06-15 23:15:28,615 [DEBUG] [node1] [2025-06-15 23:15:28] [INFO] [node1:431] sent STAKE transaction: node1 -> node1 10.0
2025-06-15 23:15:28,615 [DEBUG] [node1] [2025-06-15 23:15:28] [INFO] [node1:573] Want to stake 10.0 tokens.
2025-06-15 23:15:28,615 [DEBUG] [node1] [2025-06-15 23:15:28] [INFO] [node1:254] received STAKE: node2 stakes 10.0
2025-06-15 23:15:28,616 [DEBUG] [node2] [2025-06-15 23:15:28] [INFO] [node2:431] sent STAKE transaction: node2 -> node2 10.0
2025-06-15 23:15:28,616 [DEBUG] [node2] [2025-06-15 23:15:28] [INFO] [node2:573] Want to stake 10.0 tokens.
2025-06-15 23:16:32,087 [DEBUG] [DEBUG] 6s 无命令
2025-06-15 23:16:33,551 [INFO] >>> (node1) forge --force
2025-06-15 23:16:33,559 [DEBUG] [node1] [2025-06-15 23:16:33] [INFO] [node1:431] sent TRANSFER transaction: node1 -> node2 10.0
2025-06-15 23:16:33,560 [DEBUG] [node1] [2025-06-15 23:16:33] [WARNING] [node1:481] FORCING block forge -- skipping validator check!
2025-06-15 23:16:33,563 [DEBUG] [node1] [2025-06-15 23:16:33] [INFO] [node1:499] Want to forge block 1 with hash 3865d7e2
2025-06-15 23:16:33,566 [DEBUG] [node1] [2025-06-15 23:16:33] [INFO] [node1:127] Voted to accept Block 1, hash=3865d7e2
2025-06-15 23:16:33,566 [DEBUG] [server] [2025-06-15 23:16:33] [INFO] [server:84] received message [TRANSACTION]
2025-06-15 23:16:33,566 [DEBUG] [server]   sender   : node1
2025-06-15 23:16:33,567 [DEBUG] [server]   full msg :
2025-06-15 23:16:33,567 [DEBUG] [server] type: TRANSACTION
2025-06-15 23:16:33,567 [DEBUG] [server] sender_id: "node1"
2025-06-15 23:16:33,567 [DEBUG] [server] tx {
2025-06-15 23:16:33,567 [DEBUG] [server]   sender: "node1"
2025-06-15 23:16:33,567 [DEBUG] [server]   receiver: "node2"
2025-06-15 23:16:33,567 [DEBUG] [server]   amount: 10.0
2025-06-15 23:16:33,568 [DEBUG] [server]   timestamp: 1750000593.553355
2025-06-15 23:16:33,568 [DEBUG] [server] }
2025-06-15 23:16:33,568 [DEBUG] [server] 
2025-06-15 23:16:33,568 [DEBUG] [server] [2025-06-15 23:16:33] [INFO] [server:84] received message [BLOCK]
2025-06-15 23:16:33,568 [DEBUG] [server]   sender   : node1
2025-06-15 23:16:33,568 [DEBUG] [server]   full msg :
2025-06-15 23:16:33,568 [DEBUG] [server] type: BLOCK
2025-06-15 23:16:33,568 [DEBUG] [server] sender_id: "node1"
2025-06-15 23:16:33,568 [DEBUG] [server] block {
2025-06-15 23:16:33,569 [DEBUG] [server]   index: 1
2025-06-15 23:16:33,569 [DEBUG] [server]   prev_hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-15 23:16:33,569 [DEBUG] [server]   hash: "3865d7e2ba1df2ebec4d9f4466289f3e47f417186e5f3a82fba9a0ac680c9e14"
2025-06-15 23:16:33,569 [DEBUG] [server]   validator: "node1"
2025-06-15 23:16:33,569 [DEBUG] [server]   transactions {
2025-06-15 23:16:33,569 [DEBUG] [server]     sender: "node1"
2025-06-15 23:16:33,569 [DEBUG] [server]     receiver: "node1"
2025-06-15 23:16:33,569 [DEBUG] [server]     amount: 10.0
2025-06-15 23:16:33,569 [DEBUG] [server]     timestamp: 1750000528.606727
2025-06-15 23:16:33,569 [DEBUG] [server]     type: STAKE
2025-06-15 23:16:33,570 [DEBUG] [server]   }
2025-06-15 23:16:33,570 [DEBUG] [server]   transactions {
2025-06-15 23:16:33,570 [DEBUG] [server]     sender: "node2"
2025-06-15 23:16:33,570 [DEBUG] [server]     receiver: "node2"
2025-06-15 23:16:33,570 [DEBUG] [server]     amount: 10.0
2025-06-15 23:16:33,570 [DEBUG] [server]     timestamp: 1750000528.606814
2025-06-15 23:16:33,570 [DEBUG] [server]     type: STAKE
2025-06-15 23:16:33,570 [DEBUG] [server]   }
2025-06-15 23:16:33,570 [DEBUG] [server]   transactions {
2025-06-15 23:16:33,570 [DEBUG] [server]     sender: "node1"
2025-06-15 23:16:33,571 [DEBUG] [server]     receiver: "node2"
2025-06-15 23:16:33,571 [DEBUG] [server]     amount: 10.0
2025-06-15 23:16:33,571 [DEBUG] [server]     timestamp: 1750000593.553355
2025-06-15 23:16:33,572 [DEBUG] [server]   }
2025-06-15 23:16:33,572 [DEBUG] [server]   timestamp: 1750000593.5606558
2025-06-15 23:16:33,572 [DEBUG] [server] }
2025-06-15 23:16:33,572 [DEBUG] [server] 
2025-06-15 23:16:33,572 [DEBUG] [server] [2025-06-15 23:16:33] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-15 23:16:33,572 [DEBUG] [server]   sender   : node1
2025-06-15 23:16:33,573 [DEBUG] [server]   full msg :
2025-06-15 23:16:33,573 [DEBUG] [server] type: BLOCK_VOTE
2025-06-15 23:16:33,573 [DEBUG] [server] sender_id: "node1"
2025-06-15 23:16:33,573 [DEBUG] [server] block_vote {
2025-06-15 23:16:33,573 [DEBUG] [server]   voter_id: "node1"
2025-06-15 23:16:33,573 [DEBUG] [server]   block_hash: "3865d7e2ba1df2ebec4d9f4466289f3e47f417186e5f3a82fba9a0ac680c9e14"
2025-06-15 23:16:33,573 [DEBUG] [server] }
2025-06-15 23:16:33,573 [DEBUG] [server] 
2025-06-15 23:16:38,572 [DEBUG] [node1] [2025-06-15 23:16:38] [WARNING] [node1:342] Vote timeout for block 3865d7e2, discarding pending         state.
2025-06-15 23:29:39,215 [INFO] >>> (node2) forge --force
2025-06-15 23:29:39,234 [DEBUG] [node2] [2025-06-15 23:29:39] [WARNING] [node2:481] FORCING block forge -- skipping validator check!
2025-06-15 23:29:39,239 [DEBUG] [node2] [2025-06-15 23:29:39] [INFO] [node2:499] Want to forge block 1 with hash 09b06c2b
2025-06-15 23:29:39,239 [DEBUG] [node2] [2025-06-15 23:29:39] [INFO] [node2:127] Voted to accept Block 1, hash=09b06c2b
2025-06-15 23:29:39,258 [DEBUG] [server] [2025-06-15 23:29:39] [INFO] [server:84] received message [BLOCK]
2025-06-15 23:29:39,259 [DEBUG] [server]   sender   : node2
2025-06-15 23:29:39,261 [DEBUG] [server]   full msg :
2025-06-15 23:29:39,261 [DEBUG] [server] type: BLOCK
2025-06-15 23:29:39,261 [DEBUG] [server] sender_id: "node2"
2025-06-15 23:29:39,261 [DEBUG] [server] block {
2025-06-15 23:29:39,261 [DEBUG] [server]   index: 1
2025-06-15 23:29:39,261 [DEBUG] [server]   prev_hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-15 23:29:39,261 [DEBUG] [server]   hash: "09b06c2b5292376f0a4d67a12e8cc34401e1851ace8768672654633ce28e677a"
2025-06-15 23:29:39,261 [DEBUG] [server]   validator: "node2"
2025-06-15 23:29:39,261 [DEBUG] [server]   transactions {
2025-06-15 23:29:39,261 [DEBUG] [server]     sender: "node2"
2025-06-15 23:29:39,261 [DEBUG] [server]     receiver: "node2"
2025-06-15 23:29:39,262 [DEBUG] [server]     amount: 10.0
2025-06-15 23:29:39,262 [DEBUG] [server]     timestamp: 1750000528.606814
2025-06-15 23:29:39,262 [DEBUG] [server]     type: STAKE
2025-06-15 23:29:39,262 [DEBUG] [server]   }
2025-06-15 23:29:39,262 [DEBUG] [server]   timestamp: 1750001379.234535
2025-06-15 23:29:39,262 [DEBUG] [server] }
2025-06-15 23:29:39,262 [DEBUG] [server] 
2025-06-15 23:29:39,262 [DEBUG] [server] [2025-06-15 23:29:39] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-15 23:29:39,262 [DEBUG] [server]   sender   : node2
2025-06-15 23:29:39,262 [DEBUG] [server]   full msg :
2025-06-15 23:29:39,262 [DEBUG] [server] type: BLOCK_VOTE
2025-06-15 23:29:39,262 [DEBUG] [server] sender_id: "node2"
2025-06-15 23:29:39,262 [DEBUG] [server] block_vote {
2025-06-15 23:29:39,262 [DEBUG] [server]   voter_id: "node2"
2025-06-15 23:29:39,262 [DEBUG] [server]   block_hash: "09b06c2b5292376f0a4d67a12e8cc34401e1851ace8768672654633ce28e677a"
2025-06-15 23:29:39,263 [DEBUG] [server] }
2025-06-15 23:29:39,263 [DEBUG] [server] 
2025-06-15 23:29:39,267 [DEBUG] [server] [2025-06-15 23:29:39] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-15 23:29:39,268 [DEBUG] [server]   sender   : node1
2025-06-15 23:29:39,268 [DEBUG] [server]   full msg :
2025-06-15 23:29:39,268 [DEBUG] [server] type: BLOCK_VOTE
2025-06-15 23:29:39,268 [DEBUG] [server] sender_id: "node1"
2025-06-15 23:29:39,268 [DEBUG] [server] block_vote {
2025-06-15 23:29:39,268 [DEBUG] [server]   voter_id: "node1"
2025-06-15 23:29:39,268 [DEBUG] [server]   block_hash: "09b06c2b5292376f0a4d67a12e8cc34401e1851ace8768672654633ce28e677a"
2025-06-15 23:29:39,268 [DEBUG] [server] }
2025-06-15 23:29:39,268 [DEBUG] [server] 
2025-06-15 23:29:39,268 [DEBUG] [node1] [2025-06-15 23:29:39] [INFO] [node1:127] Voted to accept Block 1, hash=09b06c2b
2025-06-15 23:29:39,269 [DEBUG] [node1] [2025-06-15 23:29:39] [WARNING] [node1:189] Received BLOCK VOTE from node2 on block 09b06c2b. Not validator node, Ignoring
2025-06-15 23:29:44,248 [DEBUG] [node2] [2025-06-15 23:29:44] [WARNING] [node2:342] Vote timeout for block 09b06c2b, discarding pending         state.
2025-06-15 23:29:44,274 [DEBUG] [node1] [2025-06-15 23:29:44] [WARNING] [node1:342] Vote timeout for block 09b06c2b, discarding pending         state.
2025-06-15 23:35:47,846 [DEBUG] [DEBUG] 9s 无命令
2025-06-15 23:35:49,683 [INFO] >>> (node2) tx node1 10
2025-06-15 23:35:49,684 [INFO] >>> (node2) forge --force
2025-06-15 23:35:49,691 [DEBUG] [node2] [2025-06-15 23:35:49] [INFO] [node2:431] sent TRANSFER transaction: node2 -> node1 10.0
2025-06-15 23:35:49,695 [DEBUG] [server] [2025-06-15 23:35:49] [INFO] [server:84] received message [TRANSACTION]
2025-06-15 23:35:49,695 [DEBUG] [server]   sender   : node2
2025-06-15 23:35:49,696 [DEBUG] [server]   full msg :
2025-06-15 23:35:49,696 [DEBUG] [server] type: TRANSACTION
2025-06-15 23:35:49,696 [DEBUG] [server] sender_id: "node2"
2025-06-15 23:35:49,696 [DEBUG] [server] tx {
2025-06-15 23:35:49,696 [DEBUG] [server]   sender: "node2"
2025-06-15 23:35:49,697 [DEBUG] [server]   receiver: "node1"
2025-06-15 23:35:49,697 [DEBUG] [server]   amount: 10.0
2025-06-15 23:35:49,697 [DEBUG] [server]   timestamp: 1750001749.6869829
2025-06-15 23:35:49,697 [DEBUG] [server] }
2025-06-15 23:35:49,697 [DEBUG] [server] 
2025-06-15 23:35:49,699 [DEBUG] [node1] [2025-06-15 23:35:49] [INFO] [node1:248] received TRANSFER: node2 → node1, amount 10.0
2025-06-15 23:36:10,236 [DEBUG] [DEBUG] 11s 无命令
2025-06-15 23:36:12,099 [INFO] >>> (node1) info
2025-06-15 23:36:12,099 [INFO] >>> (node2) info
2025-06-15 23:36:12,102 [DEBUG] [node2] [2025-06-15 23:36:12] [WARNING] [node2:481] FORCING block forge -- skipping validator check!
2025-06-15 23:36:12,107 [DEBUG] [node2] [2025-06-15 23:36:12] [INFO] [node2:499] Want to forge block 1 with hash 69ff3fb6
2025-06-15 23:36:12,108 [DEBUG] [server] [2025-06-15 23:36:12] [INFO] [server:84] received message [BLOCK]
2025-06-15 23:36:12,109 [DEBUG] [server]   sender   : node2
2025-06-15 23:36:12,109 [DEBUG] [server]   full msg :
2025-06-15 23:36:12,109 [DEBUG] [server] type: BLOCK
2025-06-15 23:36:12,109 [DEBUG] [server] sender_id: "node2"
2025-06-15 23:36:12,109 [DEBUG] [server] block {
2025-06-15 23:36:12,109 [DEBUG] [server]   index: 1
2025-06-15 23:36:12,109 [DEBUG] [server]   prev_hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-15 23:36:12,109 [DEBUG] [server]   hash: "69ff3fb6098c96a50180385d1f8758d04c1b65c41caf6477b961abe725e596c3"
2025-06-15 23:36:12,110 [DEBUG] [server]   validator: "node2"
2025-06-15 23:36:12,110 [DEBUG] [server]   transactions {
2025-06-15 23:36:12,110 [DEBUG] [server]     sender: "node2"
2025-06-15 23:36:12,110 [DEBUG] [server]     receiver: "node2"
2025-06-15 23:36:12,110 [DEBUG] [server]     amount: 10.0
2025-06-15 23:36:12,110 [DEBUG] [server]     timestamp: 1750000528.606814
2025-06-15 23:36:12,110 [DEBUG] [server]     type: STAKE
2025-06-15 23:36:12,110 [DEBUG] [server]   }
2025-06-15 23:36:12,111 [DEBUG] [server]   transactions {
2025-06-15 23:36:12,111 [DEBUG] [server]     sender: "node2"
2025-06-15 23:36:12,111 [DEBUG] [server]     receiver: "node1"
2025-06-15 23:36:12,111 [DEBUG] [server]     amount: 10.0
2025-06-15 23:36:12,111 [DEBUG] [server]     timestamp: 1750001749.6869829
2025-06-15 23:36:12,111 [DEBUG] [server]   }
2025-06-15 23:36:12,111 [DEBUG] [server]   timestamp: 1750001772.101759
2025-06-15 23:36:12,111 [DEBUG] [server] }
2025-06-15 23:36:12,112 [DEBUG] [server] 
2025-06-15 23:36:12,112 [DEBUG] [node2] [2025-06-15 23:36:12] [INFO] [node2:127] Voted to accept Block 1, hash=69ff3fb6
2025-06-15 23:36:12,112 [DEBUG] [server] [2025-06-15 23:36:12] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-15 23:36:12,112 [DEBUG] [server]   sender   : node2
2025-06-15 23:36:12,113 [DEBUG] [server]   full msg :
2025-06-15 23:36:12,113 [DEBUG] [server] type: BLOCK_VOTE
2025-06-15 23:36:12,113 [DEBUG] [server] sender_id: "node2"
2025-06-15 23:36:12,113 [DEBUG] [server] block_vote {
2025-06-15 23:36:12,113 [DEBUG] [server]   voter_id: "node2"
2025-06-15 23:36:12,113 [DEBUG] [server]   block_hash: "69ff3fb6098c96a50180385d1f8758d04c1b65c41caf6477b961abe725e596c3"
2025-06-15 23:36:12,113 [DEBUG] [server] }
2025-06-15 23:36:12,114 [DEBUG] [server] 
2025-06-15 23:36:12,114 [DEBUG] [server] [2025-06-15 23:36:12] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-15 23:36:12,114 [DEBUG] [server]   sender   : node1
2025-06-15 23:36:12,114 [DEBUG] [server]   full msg :
2025-06-15 23:36:12,114 [DEBUG] [server] type: BLOCK_VOTE
2025-06-15 23:36:12,114 [DEBUG] [server] sender_id: "node1"
2025-06-15 23:36:12,114 [DEBUG] [server] block_vote {
2025-06-15 23:36:12,115 [DEBUG] [server]   voter_id: "node1"
2025-06-15 23:36:12,115 [DEBUG] [server]   block_hash: "69ff3fb6098c96a50180385d1f8758d04c1b65c41caf6477b961abe725e596c3"
2025-06-15 23:36:12,115 [DEBUG] [server] }
2025-06-15 23:36:12,115 [DEBUG] [server] 
2025-06-15 23:36:12,115 [DEBUG] [node1] [2025-06-15 23:36:12] [INFO] [node1:127] Voted to accept Block 1, hash=69ff3fb6
2025-06-15 23:36:12,115 [DEBUG] [node1] [2025-06-15 23:36:12] [WARNING] [node1:189] Received BLOCK VOTE from node2 on block 69ff3fb6. Not validator node, Ignoring
2025-06-15 23:36:17,115 [DEBUG] [node1] [2025-06-15 23:36:17] [WARNING] [node1:342] Vote timeout for block 69ff3fb6, discarding pending         state.
2025-06-15 23:36:17,115 [DEBUG] [node2] [2025-06-15 23:36:17] [WARNING] [node2:342] Vote timeout for block 69ff3fb6, discarding pending         state.
2025-06-15 23:40:10,339 [INFO] 结束等待 5.0s…
2025-06-15 23:40:15,341 [INFO] >>> (server) exit
2025-06-15 23:40:15,349 [DEBUG] [server] [2025-06-15 23:40:15] [INFO] [server:268] Shutting down server...
2025-06-15 23:40:15,350 [DEBUG] [server] [2025-06-15 23:40:15] [INFO] [server:287] Closing all client connections...
2025-06-15 23:40:15,351 [DEBUG] [server] [2025-06-15 23:40:15] [INFO] [server:156] Node node2 disconnected.
2025-06-15 23:40:15,352 [DEBUG] [server] [2025-06-15 23:40:15] [INFO] [server:156] Node node1 disconnected.
2025-06-15 23:40:15,353 [DEBUG] [server] [2025-06-15 23:40:15] [INFO] [server:294] Closing server socket...
2025-06-15 23:40:15,354 [DEBUG] [server] [2025-06-15 23:40:15] [INFO] [server:299] Server shutdown complete. Bye!
2025-06-15 23:40:15,355 [DEBUG] [node2] [2025-06-15 23:40:15] [INFO] [node2:103] Received BYE message from node server.
2025-06-15 23:40:15,355 [DEBUG] [node1] [2025-06-15 23:40:15] [INFO] [node1:103] Received BYE message from node server.
2025-06-15 23:40:15,356 [DEBUG] [node2] [2025-06-15 23:40:15] [INFO] [node2:105] Server is shutting down, exiting.
2025-06-15 23:40:15,356 [DEBUG] [node2] [2025-06-15 23:40:15] [INFO] [node2:555] Exiting.
2025-06-15 23:40:15,356 [DEBUG] [node1] [2025-06-15 23:40:15] [INFO] [node1:105] Server is shutting down, exiting.
2025-06-15 23:40:15,356 [DEBUG] [node1] [2025-06-15 23:40:15] [INFO] [node1:555] Exiting.
2025-06-15 23:40:15,362 [DEBUG] [node2] [2025-06-15 23:40:15] [INFO] [blockchain:264] Blockchain saved to data_node_node2
2025-06-15 23:40:15,363 [DEBUG] [node1] [2025-06-15 23:40:15] [INFO] [blockchain:264] Blockchain saved to data_node_node1
2025-06-15 23:40:15,366 [DEBUG] [node2] Node ID: node2
2025-06-15 23:40:15,366 [DEBUG] [node2] Known nodes: {'node2', 'node1'}
2025-06-15 23:40:15,366 [DEBUG] [node2] ========== Blockchain Structure ==========
2025-06-15 23:40:15,367 [DEBUG] [node2] Block 0 | hash=97045df0... | validator=genesis | tx_count=0 (main)
2025-06-15 23:40:15,367 [DEBUG] [node2] ===================================
2025-06-15 23:40:15,368 [DEBUG] [node2] ========== Account State ==========
2025-06-15 23:40:15,368 [DEBUG] [node2]  Account node1 | Balance=100.00 | Stake=0.00
2025-06-15 23:40:15,368 [DEBUG] [node2]  Account node2 | Balance=100.00 | Stake=0.00
2025-06-15 23:40:15,368 [DEBUG] [node2]  Account node3 | Balance=100.00 | Stake=0.00
2025-06-15 23:40:15,369 [DEBUG] [node2] ===================================
2025-06-15 23:40:15,369 [DEBUG] [node2] ========== Pending Transactions ==========
2025-06-15 23:40:15,369 [DEBUG] [node2]   Transaction(node2 -> node2, 10.0, type=STAKE)
2025-06-15 23:40:15,369 [DEBUG] [node2]   Transaction(node2 -> node1, 10.0, type=TRANSFER)
2025-06-15 23:40:15,369 [DEBUG] [node2] ==========================================
2025-06-15 23:40:15,370 [DEBUG] [node1] Node ID: node1
2025-06-15 23:40:15,370 [DEBUG] [node1] Known nodes: {'node1', 'node2'}
2025-06-15 23:40:15,370 [DEBUG] [node1] ========== Blockchain Structure ==========
2025-06-15 23:40:15,370 [DEBUG] [node1] Block 0 | hash=97045df0... | validator=genesis | tx_count=0 (main)
2025-06-15 23:40:15,370 [DEBUG] [node1] ===================================
2025-06-15 23:40:15,371 [DEBUG] [node1] ========== Account State ==========
2025-06-15 23:40:15,371 [DEBUG] [node1]  Account node1 | Balance=100.00 | Stake=0.00
2025-06-15 23:40:15,371 [DEBUG] [node1]  Account node2 | Balance=100.00 | Stake=0.00
2025-06-15 23:40:15,371 [DEBUG] [node1]  Account node3 | Balance=100.00 | Stake=0.00
2025-06-15 23:40:15,371 [DEBUG] [node1] ===================================
2025-06-15 23:40:15,371 [DEBUG] [node1] ========== Pending Transactions ==========
2025-06-15 23:40:15,371 [DEBUG] [node1]   Transaction(node1 -> node1, 10.0, type=STAKE)
2025-06-15 23:40:15,372 [DEBUG] [node1]   Transaction(node2 -> node2, 10.0, type=STAKE)
2025-06-15 23:40:15,372 [DEBUG] [node1]   Transaction(node1 -> node2, 10.0, type=TRANSFER)
2025-06-15 23:40:15,372 [DEBUG] [node1]   Transaction(node2 -> node1, 10.0, type=TRANSFER)
2025-06-15 23:40:15,373 [DEBUG] [node1] ==========================================
2025-06-15 23:40:15,398 [INFO] server 已优雅退出
2025-06-15 23:40:15,398 [INFO] 等待节点自动下线 5.0s…
2025-06-15 23:40:56,562 [DEBUG] Using selector: KqueueSelector
2025-06-15 23:40:56,564 [INFO] 启动 server (pid=36098)
2025-06-15 23:40:56,565 [INFO] 等待服务器 127.0.0.1:5000 …
2025-06-15 23:40:56,641 [DEBUG] [server] [2025-06-15 23:40:56] [INFO] [server:44] Async server started on 127.0.0.1:5000
2025-06-15 23:40:56,868 [INFO] 服务器端口就绪
2025-06-15 23:40:56,872 [DEBUG] [server] [2025-06-15 23:40:56] [INFO] [server:62] New connection from ('127.0.0.1', 50089)
2025-06-15 23:40:56,872 [INFO] 启动 node1 (pid=36099)
2025-06-15 23:40:56,876 [INFO] 启动 node2 (pid=36100)
2025-06-15 23:40:56,877 [INFO] >>> (server) stop
2025-06-15 23:40:56,877 [DEBUG] [server] [2025-06-15 23:40:56] [INFO] [server:252] Stopped sending STEP messages
2025-06-15 23:40:56,967 [DEBUG] [node2] [2025-06-15 23:40:56] [INFO] [blockchain:288] Blockchain loaded successfully from data_node_node2. Chain length=0
2025-06-15 23:40:56,967 [DEBUG] [node1] [2025-06-15 23:40:56] [INFO] [blockchain:288] Blockchain loaded successfully from data_node_node1. Chain length=0
2025-06-15 23:40:56,968 [DEBUG] [server] [2025-06-15 23:40:56] [INFO] [server:62] New connection from ('127.0.0.1', 50090)
2025-06-15 23:40:56,968 [DEBUG] [server] [2025-06-15 23:40:56] [INFO] [server:62] New connection from ('127.0.0.1', 50091)
2025-06-15 23:40:56,971 [DEBUG] [node2] [2025-06-15 23:40:56] [INFO] [node2:401] Sent SYNC_REQUEST to network
2025-06-15 23:40:56,972 [DEBUG] [server] [2025-06-15 23:40:56] [INFO] [server:84] received message [HELLO]
2025-06-15 23:40:56,972 [DEBUG] [server]   sender   : node1
2025-06-15 23:40:56,972 [DEBUG] [server]   full msg :
2025-06-15 23:40:56,972 [DEBUG] [server] sender_id: "node1"
2025-06-15 23:40:56,972 [DEBUG] [server] 
2025-06-15 23:40:56,972 [DEBUG] [node1] [2025-06-15 23:40:56] [INFO] [node1:401] Sent SYNC_REQUEST to network
2025-06-15 23:40:56,972 [DEBUG] [node1] [2025-06-15 23:40:56] [INFO] [node1:79] Node node1 started. Connected to server at 127.0.0.1:5000.
2025-06-15 23:40:56,972 [DEBUG] [node1] [2025-06-15 23:40:56] [INFO] [node1:80] Current chain length: 0 (excluding genesis)
2025-06-15 23:40:56,972 [DEBUG] [node2] [2025-06-15 23:40:56] [INFO] [node2:79] Node node2 started. Connected to server at 127.0.0.1:5000.
2025-06-15 23:40:56,972 [DEBUG] [node2] [2025-06-15 23:40:56] [INFO] [node2:80] Current chain length: 0 (excluding genesis)
2025-06-15 23:40:56,975 [DEBUG] [server] [2025-06-15 23:40:56] [INFO] [server:84] received message [HELLO]
2025-06-15 23:40:56,975 [DEBUG] [server]   sender   : node2
2025-06-15 23:40:56,975 [DEBUG] [server]   full msg :
2025-06-15 23:40:56,975 [DEBUG] [server] sender_id: "node2"
2025-06-15 23:40:56,975 [DEBUG] [server] 
2025-06-15 23:40:56,975 [DEBUG] [node2] [2025-06-15 23:40:56] [INFO] [node2:97] Received HELLO message from node node1.
2025-06-15 23:40:56,975 [DEBUG] [server] [2025-06-15 23:40:56] [INFO] [server:84] received message [SYNC_REQUEST]
2025-06-15 23:40:56,975 [DEBUG] [server]   sender   : node2
2025-06-15 23:40:56,975 [DEBUG] [server]   full msg :
2025-06-15 23:40:56,976 [DEBUG] [server] type: SYNC_REQUEST
2025-06-15 23:40:56,976 [DEBUG] [server] sender_id: "node2"
2025-06-15 23:40:56,976 [DEBUG] [server] 
2025-06-15 23:40:56,976 [DEBUG] [server] [2025-06-15 23:40:56] [INFO] [server:84] received message [SYNC_REQUEST]
2025-06-15 23:40:56,976 [DEBUG] [server]   sender   : node1
2025-06-15 23:40:56,976 [DEBUG] [server]   full msg :
2025-06-15 23:40:56,976 [DEBUG] [server] type: SYNC_REQUEST
2025-06-15 23:40:56,976 [DEBUG] [server] sender_id: "node1"
2025-06-15 23:40:56,976 [DEBUG] [server] 
2025-06-15 23:40:56,976 [DEBUG] [node1] [2025-06-15 23:40:56] [INFO] [node1:97] Received HELLO message from node node2.
2025-06-15 23:40:56,976 [DEBUG] [node1] [2025-06-15 23:40:56] [INFO] [node1:273] Received SYNC_REQUEST from node2, sending SYNC_RESPONSE
2025-06-15 23:40:56,976 [DEBUG] [node2] [2025-06-15 23:40:56] [INFO] [node2:273] Received SYNC_REQUEST from node1, sending SYNC_RESPONSE
2025-06-15 23:40:56,976 [DEBUG] [server] [2025-06-15 23:40:56] [INFO] [server:84] received message [SYNC_RESPONSE]
2025-06-15 23:40:56,976 [DEBUG] [server]   sender   : node1
2025-06-15 23:40:56,976 [DEBUG] [server]   full msg :
2025-06-15 23:40:56,976 [DEBUG] [server] type: SYNC_RESPONSE
2025-06-15 23:40:56,976 [DEBUG] [server] sender_id: "node1"
2025-06-15 23:40:56,976 [DEBUG] [server] sync_response {
2025-06-15 23:40:56,976 [DEBUG] [server]   blocks {
2025-06-15 23:40:56,976 [DEBUG] [server]     prev_hash: "0000000000000000000000000000000000000000000000000000000000000000"
2025-06-15 23:40:56,976 [DEBUG] [server]     hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-15 23:40:56,977 [DEBUG] [server]     validator: "genesis"
2025-06-15 23:40:56,977 [DEBUG] [server]   }
2025-06-15 23:40:56,977 [DEBUG] [server] }
2025-06-15 23:40:56,977 [DEBUG] [server] 
2025-06-15 23:40:56,977 [DEBUG] [server] [2025-06-15 23:40:56] [INFO] [server:84] received message [SYNC_RESPONSE]
2025-06-15 23:40:56,977 [DEBUG] [server]   sender   : node2
2025-06-15 23:40:56,977 [DEBUG] [server]   full msg :
2025-06-15 23:40:56,977 [DEBUG] [server] type: SYNC_RESPONSE
2025-06-15 23:40:56,977 [DEBUG] [server] sender_id: "node2"
2025-06-15 23:40:56,977 [DEBUG] [server] sync_response {
2025-06-15 23:40:56,977 [DEBUG] [server]   blocks {
2025-06-15 23:40:56,977 [DEBUG] [server]     prev_hash: "0000000000000000000000000000000000000000000000000000000000000000"
2025-06-15 23:40:56,977 [DEBUG] [server]     hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-15 23:40:56,977 [DEBUG] [server]     validator: "genesis"
2025-06-15 23:40:56,977 [DEBUG] [server]   }
2025-06-15 23:40:56,977 [DEBUG] [server] }
2025-06-15 23:40:56,977 [DEBUG] [server] 
2025-06-15 23:40:56,977 [DEBUG] [node2] [2025-06-15 23:40:56] [INFO] [node2:296] Received SYNC_RESPONSE from node1, storing response
2025-06-15 23:40:56,977 [DEBUG] [node1] [2025-06-15 23:40:56] [INFO] [node1:296] Received SYNC_RESPONSE from node2, storing response
2025-06-15 23:40:58,878 [INFO] >>> (server) drop node2 on
2025-06-15 23:40:58,880 [DEBUG] [server] [2025-06-15 23:40:58] [INFO] [server:321] [DROP] node2 → ON
2025-06-15 23:40:58,978 [DEBUG] [node1] [2025-06-15 23:40:58] [INFO] [node1:368] SYNC_RESPONSE collection finished. Processing responses.
2025-06-15 23:40:58,978 [DEBUG] [node1] [2025-06-15 23:40:58] [INFO] [node1:358] SYNC_RESPONSE from node2: chain length=1     head=97045df0
2025-06-15 23:40:58,978 [DEBUG] [node2] [2025-06-15 23:40:58] [INFO] [node2:368] SYNC_RESPONSE collection finished. Processing responses.
2025-06-15 23:40:58,979 [DEBUG] [node2] [2025-06-15 23:40:58] [INFO] [node2:358] SYNC_RESPONSE from node1: chain length=1     head=97045df0
2025-06-15 23:40:58,979 [DEBUG] [node2] [2025-06-15 23:40:58] [INFO] [node2:387] no need to sync chain, best chain same with local chain
2025-06-15 23:40:58,979 [DEBUG] [node1] [2025-06-15 23:40:58] [INFO] [node1:387] no need to sync chain, best chain same with local chain
2025-06-15 23:41:01,878 [INFO] >>> (node1) stake 10
2025-06-15 23:41:01,879 [INFO] >>> (node1) tx node2 10
2025-06-15 23:41:01,879 [INFO] >>> (node2) stake 10
2025-06-15 23:41:01,881 [DEBUG] [node1] [2025-06-15 23:41:01] [INFO] [node1:431] sent STAKE transaction: node1 -> node1 10.0
2025-06-15 23:41:01,881 [DEBUG] [node1] [2025-06-15 23:41:01] [INFO] [node1:573] Want to stake 10.0 tokens.
2025-06-15 23:41:01,881 [DEBUG] [node2] [2025-06-15 23:41:01] [INFO] [node2:431] sent STAKE transaction: node2 -> node2 10.0
2025-06-15 23:41:01,881 [DEBUG] [node2] [2025-06-15 23:41:01] [INFO] [node2:573] Want to stake 10.0 tokens.
2025-06-15 23:41:01,882 [DEBUG] [node1] [2025-06-15 23:41:01] [INFO] [node1:431] sent TRANSFER transaction: node1 -> node2 10.0
2025-06-15 23:41:01,882 [DEBUG] [server] [2025-06-15 23:41:01] [INFO] [server:84] received message [TRANSACTION]
2025-06-15 23:41:01,882 [DEBUG] [server]   sender   : node1
2025-06-15 23:41:01,882 [DEBUG] [server]   full msg :
2025-06-15 23:41:01,883 [DEBUG] [server] type: TRANSACTION
2025-06-15 23:41:01,883 [DEBUG] [server] sender_id: "node1"
2025-06-15 23:41:01,883 [DEBUG] [server] tx {
2025-06-15 23:41:01,883 [DEBUG] [server]   sender: "node1"
2025-06-15 23:41:01,884 [DEBUG] [server]   receiver: "node1"
2025-06-15 23:41:01,884 [DEBUG] [server]   amount: 10.0
2025-06-15 23:41:01,884 [DEBUG] [server]   timestamp: 1750002061.8798249
2025-06-15 23:41:01,884 [DEBUG] [server]   type: STAKE
2025-06-15 23:41:01,884 [DEBUG] [server] }
2025-06-15 23:41:01,884 [DEBUG] [server] 
2025-06-15 23:41:01,885 [DEBUG] [server] [2025-06-15 23:41:01] [INFO] [server:84] received message [TRANSACTION]
2025-06-15 23:41:01,885 [DEBUG] [server]   sender   : node2
2025-06-15 23:41:01,885 [DEBUG] [server]   full msg :
2025-06-15 23:41:01,885 [DEBUG] [server] type: TRANSACTION
2025-06-15 23:41:01,885 [DEBUG] [server] sender_id: "node2"
2025-06-15 23:41:01,885 [DEBUG] [server] tx {
2025-06-15 23:41:01,885 [DEBUG] [server]   sender: "node2"
2025-06-15 23:41:01,885 [DEBUG] [server]   receiver: "node2"
2025-06-15 23:41:01,886 [DEBUG] [server]   amount: 10.0
2025-06-15 23:41:01,886 [DEBUG] [server]   timestamp: 1750002061.8803
2025-06-15 23:41:01,886 [DEBUG] [server]   type: STAKE
2025-06-15 23:41:01,886 [DEBUG] [server] }
2025-06-15 23:41:01,887 [DEBUG] [server] 
2025-06-15 23:41:01,887 [DEBUG] [server] [2025-06-15 23:41:01] [INFO] [server:84] received message [TRANSACTION]
2025-06-15 23:41:01,887 [DEBUG] [server]   sender   : node1
2025-06-15 23:41:01,887 [DEBUG] [server]   full msg :
2025-06-15 23:41:01,887 [DEBUG] [server] type: TRANSACTION
2025-06-15 23:41:01,887 [DEBUG] [server] sender_id: "node1"
2025-06-15 23:41:01,887 [DEBUG] [server] tx {
2025-06-15 23:41:01,888 [DEBUG] [server]   sender: "node1"
2025-06-15 23:41:01,888 [DEBUG] [server]   receiver: "node2"
2025-06-15 23:41:01,888 [DEBUG] [server]   amount: 10.0
2025-06-15 23:41:01,888 [DEBUG] [server]   timestamp: 1750002061.880964
2025-06-15 23:41:01,888 [DEBUG] [server] }
2025-06-15 23:41:01,888 [DEBUG] [server] 
2025-06-15 23:41:01,888 [DEBUG] [node1] [2025-06-15 23:41:01] [INFO] [node1:254] received STAKE: node2 stakes 10.0
2025-06-15 23:41:03,878 [INFO] >>> (node1) forge --force
2025-06-15 23:41:03,879 [DEBUG] [node1] [2025-06-15 23:41:03] [WARNING] [node1:481] FORCING block forge -- skipping validator check!
2025-06-15 23:41:03,880 [DEBUG] [node1] [2025-06-15 23:41:03] [INFO] [node1:499] Want to forge block 1 with hash 60d000dd
2025-06-15 23:41:03,880 [DEBUG] [node1] [2025-06-15 23:41:03] [INFO] [node1:127] Voted to accept Block 1, hash=60d000dd
2025-06-15 23:41:03,881 [DEBUG] [server] [2025-06-15 23:41:03] [INFO] [server:84] received message [BLOCK]
2025-06-15 23:41:03,881 [DEBUG] [server]   sender   : node1
2025-06-15 23:41:03,881 [DEBUG] [server]   full msg :
2025-06-15 23:41:03,881 [DEBUG] [server] type: BLOCK
2025-06-15 23:41:03,881 [DEBUG] [server] sender_id: "node1"
2025-06-15 23:41:03,881 [DEBUG] [server] block {
2025-06-15 23:41:03,881 [DEBUG] [server]   index: 1
2025-06-15 23:41:03,881 [DEBUG] [server]   prev_hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-15 23:41:03,882 [DEBUG] [server]   hash: "60d000dd17b2e7e4ee7973e81b04dfcde0fb50e2d79569e0418d566acff6adcd"
2025-06-15 23:41:03,882 [DEBUG] [server]   validator: "node1"
2025-06-15 23:41:03,882 [DEBUG] [server]   transactions {
2025-06-15 23:41:03,882 [DEBUG] [server]     sender: "node1"
2025-06-15 23:41:03,882 [DEBUG] [server]     receiver: "node1"
2025-06-15 23:41:03,882 [DEBUG] [server]     amount: 10.0
2025-06-15 23:41:03,882 [DEBUG] [server]     timestamp: 1750002061.8798249
2025-06-15 23:41:03,882 [DEBUG] [server]     type: STAKE
2025-06-15 23:41:03,882 [DEBUG] [server]   }
2025-06-15 23:41:03,882 [DEBUG] [server]   transactions {
2025-06-15 23:41:03,883 [DEBUG] [server]     sender: "node1"
2025-06-15 23:41:03,883 [DEBUG] [server]     receiver: "node2"
2025-06-15 23:41:03,883 [DEBUG] [server]     amount: 10.0
2025-06-15 23:41:03,883 [DEBUG] [server]     timestamp: 1750002061.880964
2025-06-15 23:41:03,883 [DEBUG] [server]   }
2025-06-15 23:41:03,883 [DEBUG] [server]   transactions {
2025-06-15 23:41:03,884 [DEBUG] [server]     sender: "node2"
2025-06-15 23:41:03,884 [DEBUG] [server]     receiver: "node2"
2025-06-15 23:41:03,884 [DEBUG] [server]     amount: 10.0
2025-06-15 23:41:03,884 [DEBUG] [server]     timestamp: 1750002061.8803
2025-06-15 23:41:03,884 [DEBUG] [server]     type: STAKE
2025-06-15 23:41:03,884 [DEBUG] [server]   }
2025-06-15 23:41:03,884 [DEBUG] [server]   timestamp: 1750002063.879402
2025-06-15 23:41:03,884 [DEBUG] [server] }
2025-06-15 23:41:03,885 [DEBUG] [server] 
2025-06-15 23:41:03,885 [DEBUG] [server] [2025-06-15 23:41:03] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-15 23:41:03,885 [DEBUG] [server]   sender   : node1
2025-06-15 23:41:03,885 [DEBUG] [server]   full msg :
2025-06-15 23:41:03,885 [DEBUG] [server] type: BLOCK_VOTE
2025-06-15 23:41:03,885 [DEBUG] [server] sender_id: "node1"
2025-06-15 23:41:03,885 [DEBUG] [server] block_vote {
2025-06-15 23:41:03,885 [DEBUG] [server]   voter_id: "node1"
2025-06-15 23:41:03,885 [DEBUG] [server]   block_hash: "60d000dd17b2e7e4ee7973e81b04dfcde0fb50e2d79569e0418d566acff6adcd"
2025-06-15 23:41:03,885 [DEBUG] [server] }
2025-06-15 23:41:03,886 [DEBUG] [server] 
2025-06-15 23:41:04,878 [INFO] >>> (node2) forge --force
2025-06-15 23:41:04,881 [DEBUG] [node2] [2025-06-15 23:41:04] [WARNING] [node2:481] FORCING block forge -- skipping validator check!
2025-06-15 23:41:04,882 [DEBUG] [node2] [2025-06-15 23:41:04] [INFO] [node2:499] Want to forge block 1 with hash 531fb003
2025-06-15 23:41:04,882 [DEBUG] [node2] [2025-06-15 23:41:04] [INFO] [node2:127] Voted to accept Block 1, hash=531fb003
2025-06-15 23:41:04,883 [DEBUG] [server] [2025-06-15 23:41:04] [INFO] [server:84] received message [BLOCK]
2025-06-15 23:41:04,883 [DEBUG] [server]   sender   : node2
2025-06-15 23:41:04,883 [DEBUG] [server]   full msg :
2025-06-15 23:41:04,883 [DEBUG] [server] type: BLOCK
2025-06-15 23:41:04,884 [DEBUG] [server] sender_id: "node2"
2025-06-15 23:41:04,884 [DEBUG] [server] block {
2025-06-15 23:41:04,884 [DEBUG] [server]   index: 1
2025-06-15 23:41:04,884 [DEBUG] [server]   prev_hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-15 23:41:04,884 [DEBUG] [server]   hash: "531fb00330f43d0857509917fea2ea861cd96e2bb19162b7e03dc8805878d380"
2025-06-15 23:41:04,884 [DEBUG] [server]   validator: "node2"
2025-06-15 23:41:04,885 [DEBUG] [server]   transactions {
2025-06-15 23:41:04,885 [DEBUG] [server]     sender: "node2"
2025-06-15 23:41:04,885 [DEBUG] [server]     receiver: "node2"
2025-06-15 23:41:04,885 [DEBUG] [server]     amount: 10.0
2025-06-15 23:41:04,885 [DEBUG] [server]     timestamp: 1750002061.8803
2025-06-15 23:41:04,885 [DEBUG] [server]     type: STAKE
2025-06-15 23:41:04,886 [DEBUG] [server]   }
2025-06-15 23:41:04,886 [DEBUG] [server]   timestamp: 1750002064.8807878
2025-06-15 23:41:04,886 [DEBUG] [server] }
2025-06-15 23:41:04,886 [DEBUG] [server] 
2025-06-15 23:41:04,886 [DEBUG] [server] [2025-06-15 23:41:04] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-15 23:41:04,886 [DEBUG] [server]   sender   : node2
2025-06-15 23:41:04,887 [DEBUG] [server]   full msg :
2025-06-15 23:41:04,887 [DEBUG] [server] type: BLOCK_VOTE
2025-06-15 23:41:04,887 [DEBUG] [server] sender_id: "node2"
2025-06-15 23:41:04,887 [DEBUG] [server] block_vote {
2025-06-15 23:41:04,888 [DEBUG] [server]   voter_id: "node2"
2025-06-15 23:41:04,888 [DEBUG] [server]   block_hash: "531fb00330f43d0857509917fea2ea861cd96e2bb19162b7e03dc8805878d380"
2025-06-15 23:41:04,888 [DEBUG] [server] }
2025-06-15 23:41:04,888 [DEBUG] [server] 
2025-06-15 23:41:04,888 [DEBUG] [server] [2025-06-15 23:41:04] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-15 23:41:04,888 [DEBUG] [server]   sender   : node1
2025-06-15 23:41:04,889 [DEBUG] [server]   full msg :
2025-06-15 23:41:04,889 [DEBUG] [server] type: BLOCK_VOTE
2025-06-15 23:41:04,889 [DEBUG] [server] sender_id: "node1"
2025-06-15 23:41:04,889 [DEBUG] [server] block_vote {
2025-06-15 23:41:04,890 [DEBUG] [server]   voter_id: "node1"
2025-06-15 23:41:04,890 [DEBUG] [server]   block_hash: "531fb00330f43d0857509917fea2ea861cd96e2bb19162b7e03dc8805878d380"
2025-06-15 23:41:04,890 [DEBUG] [server] }
2025-06-15 23:41:04,890 [DEBUG] [server] 
2025-06-15 23:41:04,890 [DEBUG] [node1] [2025-06-15 23:41:04] [INFO] [node1:127] Voted to accept Block 1, hash=531fb003
2025-06-15 23:41:04,890 [DEBUG] [node1] [2025-06-15 23:41:04] [WARNING] [node1:189] Received BLOCK VOTE from node2 on block 531fb003. Not validator node, Ignoring
2025-06-15 23:41:06,878 [INFO] >>> (node2) tx node1 10
2025-06-15 23:41:06,879 [INFO] >>> (node2) forge --force
2025-06-15 23:41:06,881 [DEBUG] [node2] [2025-06-15 23:41:06] [INFO] [node2:431] sent TRANSFER transaction: node2 -> node1 10.0
2025-06-15 23:41:06,881 [DEBUG] [node2] [2025-06-15 23:41:06] [WARNING] [node2:481] FORCING block forge -- skipping validator check!
2025-06-15 23:41:06,882 [DEBUG] [server] [2025-06-15 23:41:06] [INFO] [server:84] received message [TRANSACTION]
2025-06-15 23:41:06,882 [DEBUG] [server]   sender   : node2
2025-06-15 23:41:06,882 [DEBUG] [server]   full msg :
2025-06-15 23:41:06,882 [DEBUG] [server] type: TRANSACTION
2025-06-15 23:41:06,882 [DEBUG] [server] sender_id: "node2"
2025-06-15 23:41:06,883 [DEBUG] [server] tx {
2025-06-15 23:41:06,883 [DEBUG] [server]   sender: "node2"
2025-06-15 23:41:06,883 [DEBUG] [server]   receiver: "node1"
2025-06-15 23:41:06,883 [DEBUG] [server]   amount: 10.0
2025-06-15 23:41:06,883 [DEBUG] [server]   timestamp: 1750002066.879594
2025-06-15 23:41:06,883 [DEBUG] [server] }
2025-06-15 23:41:06,884 [DEBUG] [server] 
2025-06-15 23:41:06,884 [DEBUG] [node2] [2025-06-15 23:41:06] [INFO] [node2:499] Want to forge block 1 with hash d3966a82
2025-06-15 23:41:06,884 [DEBUG] [node2] [2025-06-15 23:41:06] [INFO] [node2:127] Voted to accept Block 1, hash=d3966a82
2025-06-15 23:41:06,885 [DEBUG] [node1] [2025-06-15 23:41:06] [INFO] [node1:248] received TRANSFER: node2 → node1, amount 10.0
2025-06-15 23:41:06,885 [DEBUG] [node1] [2025-06-15 23:41:06] [INFO] [node1:127] Voted to accept Block 1, hash=d3966a82
2025-06-15 23:41:06,885 [DEBUG] [server] [2025-06-15 23:41:06] [INFO] [server:84] received message [BLOCK]
2025-06-15 23:41:06,885 [DEBUG] [server]   sender   : node2
2025-06-15 23:41:06,886 [DEBUG] [server]   full msg :
2025-06-15 23:41:06,886 [DEBUG] [server] type: BLOCK
2025-06-15 23:41:06,886 [DEBUG] [server] sender_id: "node2"
2025-06-15 23:41:06,886 [DEBUG] [server] block {
2025-06-15 23:41:06,886 [DEBUG] [server]   index: 1
2025-06-15 23:41:06,886 [DEBUG] [server]   prev_hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-15 23:41:06,887 [DEBUG] [server]   hash: "d3966a8230460d6eeea64f93cda73d19358f6c4a26439d21fa882d6c3a1a71d8"
2025-06-15 23:41:06,887 [DEBUG] [server]   validator: "node2"
2025-06-15 23:41:06,887 [DEBUG] [server]   transactions {
2025-06-15 23:41:06,887 [DEBUG] [server]     sender: "node2"
2025-06-15 23:41:06,887 [DEBUG] [server]     receiver: "node2"
2025-06-15 23:41:06,887 [DEBUG] [server]     amount: 10.0
2025-06-15 23:41:06,887 [DEBUG] [server]     timestamp: 1750002061.8803
2025-06-15 23:41:06,888 [DEBUG] [server]     type: STAKE
2025-06-15 23:41:06,888 [DEBUG] [server]   }
2025-06-15 23:41:06,888 [DEBUG] [server]   transactions {
2025-06-15 23:41:06,888 [DEBUG] [server]     sender: "node2"
2025-06-15 23:41:06,888 [DEBUG] [server]     receiver: "node1"
2025-06-15 23:41:06,888 [DEBUG] [server]     amount: 10.0
2025-06-15 23:41:06,889 [DEBUG] [server]     timestamp: 1750002066.879594
2025-06-15 23:41:06,889 [DEBUG] [server]   }
2025-06-15 23:41:06,889 [DEBUG] [server]   timestamp: 1750002066.880822
2025-06-15 23:41:06,889 [DEBUG] [server] }
2025-06-15 23:41:06,889 [DEBUG] [server] 
2025-06-15 23:41:06,889 [DEBUG] [server] [2025-06-15 23:41:06] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-15 23:41:06,890 [DEBUG] [server]   sender   : node2
2025-06-15 23:41:06,890 [DEBUG] [server]   full msg :
2025-06-15 23:41:06,890 [DEBUG] [server] type: BLOCK_VOTE
2025-06-15 23:41:06,890 [DEBUG] [server] sender_id: "node2"
2025-06-15 23:41:06,890 [DEBUG] [server] block_vote {
2025-06-15 23:41:06,890 [DEBUG] [server]   voter_id: "node2"
2025-06-15 23:41:06,890 [DEBUG] [server]   block_hash: "d3966a8230460d6eeea64f93cda73d19358f6c4a26439d21fa882d6c3a1a71d8"
2025-06-15 23:41:06,890 [DEBUG] [server] }
2025-06-15 23:41:06,891 [DEBUG] [server] 
2025-06-15 23:41:06,891 [DEBUG] [node1] [2025-06-15 23:41:06] [WARNING] [node1:189] Received BLOCK VOTE from node2 on block d3966a82. Not validator node, Ignoring
2025-06-15 23:41:06,891 [DEBUG] [server] [2025-06-15 23:41:06] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-15 23:41:06,891 [DEBUG] [server]   sender   : node1
2025-06-15 23:41:06,891 [DEBUG] [server]   full msg :
2025-06-15 23:41:06,892 [DEBUG] [server] type: BLOCK_VOTE
2025-06-15 23:41:06,892 [DEBUG] [server] sender_id: "node1"
2025-06-15 23:41:06,892 [DEBUG] [server] block_vote {
2025-06-15 23:41:06,892 [DEBUG] [server]   voter_id: "node1"
2025-06-15 23:41:06,892 [DEBUG] [server]   block_hash: "d3966a8230460d6eeea64f93cda73d19358f6c4a26439d21fa882d6c3a1a71d8"
2025-06-15 23:41:06,893 [DEBUG] [server] }
2025-06-15 23:41:06,893 [DEBUG] [server] 
2025-06-15 23:41:08,878 [INFO] >>> (node1) info
2025-06-15 23:41:08,878 [INFO] >>> (node2) info
2025-06-15 23:41:08,879 [INFO] 结束等待 5.0s…
2025-06-15 23:41:08,887 [DEBUG] [node1] [2025-06-15 23:41:08] [WARNING] [node1:342] Vote timeout for block 60d000dd, discarding pending         state.
2025-06-15 23:41:09,887 [DEBUG] [node2] [2025-06-15 23:41:09] [WARNING] [node2:342] Vote timeout for block 531fb003, discarding pending         state.
2025-06-15 23:41:09,888 [DEBUG] [node1] [2025-06-15 23:41:09] [WARNING] [node1:342] Vote timeout for block 531fb003, discarding pending         state.
2025-06-15 23:41:11,886 [DEBUG] [node1] [2025-06-15 23:41:11] [WARNING] [node1:342] Vote timeout for block d3966a82, discarding pending         state.
2025-06-15 23:41:11,888 [DEBUG] [node2] [2025-06-15 23:41:11] [WARNING] [node2:342] Vote timeout for block d3966a82, discarding pending         state.
2025-06-15 23:41:13,880 [INFO] >>> (server) exit
2025-06-15 23:41:13,885 [DEBUG] [server] [2025-06-15 23:41:13] [INFO] [server:268] Shutting down server...
2025-06-15 23:41:13,888 [DEBUG] [server] [2025-06-15 23:41:13] [INFO] [server:287] Closing all client connections...
2025-06-15 23:41:13,889 [DEBUG] [node1] [2025-06-15 23:41:13] [INFO] [node1:103] Received BYE message from node server.
2025-06-15 23:41:13,889 [DEBUG] [node1] [2025-06-15 23:41:13] [INFO] [node1:105] Server is shutting down, exiting.
2025-06-15 23:41:13,889 [DEBUG] [node1] [2025-06-15 23:41:13] [INFO] [node1:555] Exiting.
2025-06-15 23:41:13,889 [DEBUG] [node2] [2025-06-15 23:41:13] [INFO] [node2:103] Received BYE message from node server.
2025-06-15 23:41:13,890 [DEBUG] [node2] [2025-06-15 23:41:13] [INFO] [node2:105] Server is shutting down, exiting.
2025-06-15 23:41:13,890 [DEBUG] [server] [2025-06-15 23:41:13] [INFO] [server:156] Node node2 disconnected.
2025-06-15 23:41:13,890 [DEBUG] [node2] [2025-06-15 23:41:13] [INFO] [node2:555] Exiting.
2025-06-15 23:41:13,891 [DEBUG] [node2] [2025-06-15 23:41:13] [INFO] [blockchain:264] Blockchain saved to data_node_node2
2025-06-15 23:41:13,891 [DEBUG] [node1] [2025-06-15 23:41:13] [INFO] [blockchain:264] Blockchain saved to data_node_node1
2025-06-15 23:41:13,891 [DEBUG] [server] [2025-06-15 23:41:13] [INFO] [server:156] Node node1 disconnected.
2025-06-15 23:41:13,891 [DEBUG] [server] [2025-06-15 23:41:13] [INFO] [server:294] Closing server socket...
2025-06-15 23:41:13,891 [DEBUG] [server] [2025-06-15 23:41:13] [INFO] [server:299] Server shutdown complete. Bye!
2025-06-15 23:41:13,894 [DEBUG] [node2] Node ID: node2
2025-06-15 23:41:13,894 [DEBUG] [node2] Known nodes: {'node2', 'node1'}
2025-06-15 23:41:13,895 [DEBUG] [node2] ========== Blockchain Structure ==========
2025-06-15 23:41:13,895 [DEBUG] [node2] Block 0 | hash=97045df0... | validator=genesis | tx_count=0 (main)
2025-06-15 23:41:13,895 [DEBUG] [node2] ===================================
2025-06-15 23:41:13,895 [DEBUG] [node2] ========== Account State ==========
2025-06-15 23:41:13,896 [DEBUG] [node2]  Account node1 | Balance=100.00 | Stake=0.00
2025-06-15 23:41:13,896 [DEBUG] [node2]  Account node2 | Balance=100.00 | Stake=0.00
2025-06-15 23:41:13,896 [DEBUG] [node2]  Account node3 | Balance=100.00 | Stake=0.00
2025-06-15 23:41:13,896 [DEBUG] [node2] ===================================
2025-06-15 23:41:13,896 [DEBUG] [node2] ========== Pending Transactions ==========
2025-06-15 23:41:13,896 [DEBUG] [node2]   Transaction(node2 -> node2, 10.0, type=STAKE)
2025-06-15 23:41:13,897 [DEBUG] [node2]   Transaction(node2 -> node1, 10.0, type=TRANSFER)
2025-06-15 23:41:13,897 [DEBUG] [node2] ==========================================
2025-06-15 23:41:13,898 [DEBUG] [node1] Node ID: node1
2025-06-15 23:41:13,898 [DEBUG] [node1] Known nodes: {'node2', 'node1'}
2025-06-15 23:41:13,899 [DEBUG] [node1] ========== Blockchain Structure ==========
2025-06-15 23:41:13,899 [DEBUG] [node1] Block 0 | hash=97045df0... | validator=genesis | tx_count=0 (main)
2025-06-15 23:41:13,899 [DEBUG] [node1] ===================================
2025-06-15 23:41:13,900 [DEBUG] [node1] ========== Account State ==========
2025-06-15 23:41:13,900 [DEBUG] [node1]  Account node1 | Balance=100.00 | Stake=0.00
2025-06-15 23:41:13,900 [DEBUG] [node1]  Account node2 | Balance=100.00 | Stake=0.00
2025-06-15 23:41:13,900 [DEBUG] [node1]  Account node3 | Balance=100.00 | Stake=0.00
2025-06-15 23:41:13,901 [DEBUG] [node1] ===================================
2025-06-15 23:41:13,901 [DEBUG] [node1] ========== Pending Transactions ==========
2025-06-15 23:41:13,901 [DEBUG] [node1]   Transaction(node1 -> node1, 10.0, type=STAKE)
2025-06-15 23:41:13,901 [DEBUG] [node1]   Transaction(node1 -> node2, 10.0, type=TRANSFER)
2025-06-15 23:41:13,901 [DEBUG] [node1]   Transaction(node2 -> node2, 10.0, type=STAKE)
2025-06-15 23:41:13,901 [DEBUG] [node1]   Transaction(node2 -> node1, 10.0, type=TRANSFER)
2025-06-15 23:41:13,902 [DEBUG] [node1] ==========================================
2025-06-15 23:41:13,924 [INFO] server 已优雅退出
2025-06-15 23:41:13,924 [INFO] 等待节点自动下线 5.0s…
2025-06-15 23:48:52,796 [DEBUG] Using selector: KqueueSelector
2025-06-15 23:48:52,799 [INFO] 启动 server (pid=37392)
2025-06-15 23:48:52,799 [INFO] 等待服务器 127.0.0.1:5000 …
2025-06-15 23:48:52,882 [DEBUG] [server] [2025-06-15 23:48:52] [INFO] [server:44] Async server started on 127.0.0.1:5000
2025-06-15 23:48:53,101 [INFO] 服务器端口就绪
2025-06-15 23:48:53,105 [DEBUG] [server] [2025-06-15 23:48:53] [INFO] [server:62] New connection from ('127.0.0.1', 50324)
2025-06-15 23:48:53,106 [INFO] 启动 node1 (pid=37393)
2025-06-15 23:48:53,109 [INFO] 启动 node2 (pid=37394)
2025-06-15 23:48:53,109 [INFO] DEBUG 模式：按 Enter 推进 1 秒，输入 q 退出
2025-06-15 23:48:53,109 [INFO] >>> (server) stop
2025-06-15 23:48:53,111 [DEBUG] [server] [2025-06-15 23:48:53] [INFO] [server:252] Stopped sending STEP messages
2025-06-15 23:48:53,198 [DEBUG] [node1] [2025-06-15 23:48:53] [INFO] [blockchain:288] Blockchain loaded successfully from data_node_node1. Chain length=0
2025-06-15 23:48:53,199 [DEBUG] [node2] [2025-06-15 23:48:53] [INFO] [blockchain:288] Blockchain loaded successfully from data_node_node2. Chain length=0
2025-06-15 23:48:53,200 [DEBUG] [server] [2025-06-15 23:48:53] [INFO] [server:62] New connection from ('127.0.0.1', 50325)
2025-06-15 23:48:53,200 [DEBUG] [server] [2025-06-15 23:48:53] [INFO] [server:62] New connection from ('127.0.0.1', 50326)
2025-06-15 23:48:53,204 [DEBUG] [node2] [2025-06-15 23:48:53] [INFO] [node2:401] Sent SYNC_REQUEST to network
2025-06-15 23:48:53,204 [DEBUG] [node1] [2025-06-15 23:48:53] [INFO] [node1:401] Sent SYNC_REQUEST to network
2025-06-15 23:48:53,204 [DEBUG] [server] [2025-06-15 23:48:53] [INFO] [server:84] received message [HELLO]
2025-06-15 23:48:53,204 [DEBUG] [server]   sender   : node1
2025-06-15 23:48:53,204 [DEBUG] [server]   full msg :
2025-06-15 23:48:53,204 [DEBUG] [server] sender_id: "node1"
2025-06-15 23:48:53,204 [DEBUG] [server] 
2025-06-15 23:48:53,204 [DEBUG] [node1] [2025-06-15 23:48:53] [INFO] [node1:79] Node node1 started. Connected to server at 127.0.0.1:5000.
2025-06-15 23:48:53,204 [DEBUG] [node2] [2025-06-15 23:48:53] [INFO] [node2:79] Node node2 started. Connected to server at 127.0.0.1:5000.
2025-06-15 23:48:53,205 [DEBUG] [node2] [2025-06-15 23:48:53] [INFO] [node2:80] Current chain length: 0 (excluding genesis)
2025-06-15 23:48:53,205 [DEBUG] [node1] [2025-06-15 23:48:53] [INFO] [node1:80] Current chain length: 0 (excluding genesis)
2025-06-15 23:48:53,208 [DEBUG] [node2] [2025-06-15 23:48:53] [INFO] [node2:97] Received HELLO message from node node1.
2025-06-15 23:48:53,208 [DEBUG] [server] [2025-06-15 23:48:53] [INFO] [server:84] received message [SYNC_REQUEST]
2025-06-15 23:48:53,208 [DEBUG] [server]   sender   : node1
2025-06-15 23:48:53,208 [DEBUG] [server]   full msg :
2025-06-15 23:48:53,208 [DEBUG] [server] type: SYNC_REQUEST
2025-06-15 23:48:53,208 [DEBUG] [server] sender_id: "node1"
2025-06-15 23:48:53,208 [DEBUG] [server] 
2025-06-15 23:48:53,208 [DEBUG] [server] [2025-06-15 23:48:53] [INFO] [server:84] received message [HELLO]
2025-06-15 23:48:53,208 [DEBUG] [server]   sender   : node2
2025-06-15 23:48:53,208 [DEBUG] [server]   full msg :
2025-06-15 23:48:53,208 [DEBUG] [server] sender_id: "node2"
2025-06-15 23:48:53,208 [DEBUG] [server] 
2025-06-15 23:48:53,209 [DEBUG] [server] [2025-06-15 23:48:53] [INFO] [server:84] received message [SYNC_REQUEST]
2025-06-15 23:48:53,209 [DEBUG] [server]   sender   : node2
2025-06-15 23:48:53,209 [DEBUG] [server]   full msg :
2025-06-15 23:48:53,209 [DEBUG] [server] type: SYNC_REQUEST
2025-06-15 23:48:53,209 [DEBUG] [server] sender_id: "node2"
2025-06-15 23:48:53,209 [DEBUG] [server] 
2025-06-15 23:48:53,209 [DEBUG] [node2] [2025-06-15 23:48:53] [INFO] [node2:273] Received SYNC_REQUEST from node1, sending SYNC_RESPONSE
2025-06-15 23:48:53,209 [DEBUG] [node1] [2025-06-15 23:48:53] [INFO] [node1:97] Received HELLO message from node node2.
2025-06-15 23:48:53,209 [DEBUG] [node1] [2025-06-15 23:48:53] [INFO] [node1:273] Received SYNC_REQUEST from node2, sending SYNC_RESPONSE
2025-06-15 23:48:53,209 [DEBUG] [server] [2025-06-15 23:48:53] [INFO] [server:84] received message [SYNC_RESPONSE]
2025-06-15 23:48:53,209 [DEBUG] [server]   sender   : node2
2025-06-15 23:48:53,209 [DEBUG] [server]   full msg :
2025-06-15 23:48:53,209 [DEBUG] [server] type: SYNC_RESPONSE
2025-06-15 23:48:53,209 [DEBUG] [server] sender_id: "node2"
2025-06-15 23:48:53,209 [DEBUG] [server] sync_response {
2025-06-15 23:48:53,209 [DEBUG] [server]   blocks {
2025-06-15 23:48:53,209 [DEBUG] [server]     prev_hash: "0000000000000000000000000000000000000000000000000000000000000000"
2025-06-15 23:48:53,209 [DEBUG] [server]     hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-15 23:48:53,209 [DEBUG] [server]     validator: "genesis"
2025-06-15 23:48:53,209 [DEBUG] [server]   }
2025-06-15 23:48:53,209 [DEBUG] [server] }
2025-06-15 23:48:53,209 [DEBUG] [server] 
2025-06-15 23:48:53,210 [DEBUG] [server] [2025-06-15 23:48:53] [INFO] [server:84] received message [SYNC_RESPONSE]
2025-06-15 23:48:53,210 [DEBUG] [server]   sender   : node1
2025-06-15 23:48:53,210 [DEBUG] [server]   full msg :
2025-06-15 23:48:53,210 [DEBUG] [server] type: SYNC_RESPONSE
2025-06-15 23:48:53,210 [DEBUG] [server] sender_id: "node1"
2025-06-15 23:48:53,210 [DEBUG] [server] sync_response {
2025-06-15 23:48:53,210 [DEBUG] [server]   blocks {
2025-06-15 23:48:53,210 [DEBUG] [server]     prev_hash: "0000000000000000000000000000000000000000000000000000000000000000"
2025-06-15 23:48:53,210 [DEBUG] [server]     hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-15 23:48:53,210 [DEBUG] [server]     validator: "genesis"
2025-06-15 23:48:53,210 [DEBUG] [server]   }
2025-06-15 23:48:53,210 [DEBUG] [server] }
2025-06-15 23:48:53,210 [DEBUG] [server] 
2025-06-15 23:48:53,210 [DEBUG] [node1] [2025-06-15 23:48:53] [INFO] [node1:296] Received SYNC_RESPONSE from node2, storing response
2025-06-15 23:48:53,210 [DEBUG] [node2] [2025-06-15 23:48:53] [INFO] [node2:296] Received SYNC_RESPONSE from node1, storing response
2025-06-15 23:48:55,210 [DEBUG] [node1] [2025-06-15 23:48:55] [INFO] [node1:368] SYNC_RESPONSE collection finished. Processing responses.
2025-06-15 23:48:55,210 [DEBUG] [node1] [2025-06-15 23:48:55] [INFO] [node1:358] SYNC_RESPONSE from node2: chain length=1     head=97045df0
2025-06-15 23:48:55,211 [DEBUG] [node2] [2025-06-15 23:48:55] [INFO] [node2:368] SYNC_RESPONSE collection finished. Processing responses.
2025-06-15 23:48:55,211 [DEBUG] [node2] [2025-06-15 23:48:55] [INFO] [node2:358] SYNC_RESPONSE from node1: chain length=1     head=97045df0
2025-06-15 23:48:55,211 [DEBUG] [node1] [2025-06-15 23:48:55] [INFO] [node1:387] no need to sync chain, best chain same with local chain
2025-06-15 23:48:55,212 [DEBUG] [node2] [2025-06-15 23:48:55] [INFO] [node2:387] no need to sync chain, best chain same with local chain
2025-06-15 23:49:00,692 [DEBUG] [DEBUG] 1s 无命令
2025-06-15 23:49:01,664 [INFO] >>> (server) drop node2 on
2025-06-15 23:49:01,665 [DEBUG] [server] [2025-06-15 23:49:01] [INFO] [server:321] [DROP] node2 → ON
2025-06-15 23:49:04,271 [DEBUG] [DEBUG] 3s 无命令
2025-06-15 23:49:06,343 [DEBUG] [DEBUG] 4s 无命令
2025-06-15 23:49:06,720 [INFO] >>> (node1) stake 10
2025-06-15 23:49:06,721 [INFO] >>> (node1) tx node2 10
2025-06-15 23:49:06,721 [INFO] >>> (node2) stake 10
2025-06-15 23:49:06,723 [DEBUG] [node1] [2025-06-15 23:49:06] [INFO] [node1:431] sent STAKE transaction: node1 -> node1 10.0
2025-06-15 23:49:06,723 [DEBUG] [node1] [2025-06-15 23:49:06] [INFO] [node1:573] Want to stake 10.0 tokens.
2025-06-15 23:49:06,723 [DEBUG] [server] [2025-06-15 23:49:06] [INFO] [server:84] received message [TRANSACTION]
2025-06-15 23:49:06,723 [DEBUG] [server]   sender   : node1
2025-06-15 23:49:06,723 [DEBUG] [server]   full msg :
2025-06-15 23:49:06,724 [DEBUG] [server] type: TRANSACTION
2025-06-15 23:49:06,724 [DEBUG] [server] sender_id: "node1"
2025-06-15 23:49:06,724 [DEBUG] [server] tx {
2025-06-15 23:49:06,724 [DEBUG] [server]   sender: "node1"
2025-06-15 23:49:06,724 [DEBUG] [server]   receiver: "node1"
2025-06-15 23:49:06,724 [DEBUG] [server]   amount: 10.0
2025-06-15 23:49:06,725 [DEBUG] [server]   timestamp: 1750002546.721729
2025-06-15 23:49:06,725 [DEBUG] [server]   type: STAKE
2025-06-15 23:49:06,725 [DEBUG] [server] }
2025-06-15 23:49:06,725 [DEBUG] [server] 
2025-06-15 23:49:06,726 [DEBUG] [node2] [2025-06-15 23:49:06] [INFO] [node2:431] sent STAKE transaction: node2 -> node2 10.0
2025-06-15 23:49:06,726 [DEBUG] [node2] [2025-06-15 23:49:06] [INFO] [node2:573] Want to stake 10.0 tokens.
2025-06-15 23:49:06,726 [DEBUG] [node1] [2025-06-15 23:49:06] [INFO] [node1:431] sent TRANSFER transaction: node1 -> node2 10.0
2025-06-15 23:49:06,726 [DEBUG] [node1] [2025-06-15 23:49:06] [INFO] [node1:254] received STAKE: node2 stakes 10.0
2025-06-15 23:49:06,726 [DEBUG] [server] [2025-06-15 23:49:06] [INFO] [server:84] received message [TRANSACTION]
2025-06-15 23:49:06,726 [DEBUG] [server]   sender   : node2
2025-06-15 23:49:06,726 [DEBUG] [server]   full msg :
2025-06-15 23:49:06,726 [DEBUG] [server] type: TRANSACTION
2025-06-15 23:49:06,726 [DEBUG] [server] sender_id: "node2"
2025-06-15 23:49:06,726 [DEBUG] [server] tx {
2025-06-15 23:49:06,726 [DEBUG] [server]   sender: "node2"
2025-06-15 23:49:06,726 [DEBUG] [server]   receiver: "node2"
2025-06-15 23:49:06,726 [DEBUG] [server]   amount: 10.0
2025-06-15 23:49:06,726 [DEBUG] [server]   timestamp: 1750002546.7221591
2025-06-15 23:49:06,726 [DEBUG] [server]   type: STAKE
2025-06-15 23:49:06,726 [DEBUG] [server] }
2025-06-15 23:49:06,726 [DEBUG] [server] 
2025-06-15 23:49:06,726 [DEBUG] [server] [2025-06-15 23:49:06] [INFO] [server:84] received message [TRANSACTION]
2025-06-15 23:49:06,726 [DEBUG] [server]   sender   : node1
2025-06-15 23:49:06,727 [DEBUG] [server]   full msg :
2025-06-15 23:49:06,727 [DEBUG] [server] type: TRANSACTION
2025-06-15 23:49:06,727 [DEBUG] [server] sender_id: "node1"
2025-06-15 23:49:06,727 [DEBUG] [server] tx {
2025-06-15 23:49:06,727 [DEBUG] [server]   sender: "node1"
2025-06-15 23:49:06,727 [DEBUG] [server]   receiver: "node2"
2025-06-15 23:49:06,727 [DEBUG] [server]   amount: 10.0
2025-06-15 23:49:06,727 [DEBUG] [server]   timestamp: 1750002546.722767
2025-06-15 23:49:06,727 [DEBUG] [server] }
2025-06-15 23:49:06,727 [DEBUG] [server] 
2025-06-15 23:49:44,292 [DEBUG] [DEBUG] 6s 无命令
2025-06-15 23:49:46,811 [INFO] >>> (node1) forge --force
2025-06-15 23:49:46,823 [DEBUG] [node1] [2025-06-15 23:49:46] [WARNING] [node1:481] FORCING block forge -- skipping validator check!
2025-06-15 23:49:46,826 [DEBUG] [node1] [2025-06-15 23:49:46] [INFO] [node1:499] Want to forge block 1 with hash 6bd322a1
2025-06-15 23:49:46,827 [DEBUG] [node1] [2025-06-15 23:49:46] [INFO] [node1:127] Voted to accept Block 1, hash=6bd322a1
2025-06-15 23:49:46,831 [DEBUG] [server] [2025-06-15 23:49:46] [INFO] [server:84] received message [BLOCK]
2025-06-15 23:49:46,831 [DEBUG] [server]   sender   : node1
2025-06-15 23:49:46,831 [DEBUG] [server]   full msg :
2025-06-15 23:49:46,831 [DEBUG] [server] type: BLOCK
2025-06-15 23:49:46,831 [DEBUG] [server] sender_id: "node1"
2025-06-15 23:49:46,831 [DEBUG] [server] block {
2025-06-15 23:49:46,832 [DEBUG] [server]   index: 1
2025-06-15 23:49:46,832 [DEBUG] [server]   prev_hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-15 23:49:46,832 [DEBUG] [server]   hash: "6bd322a117912637efc37910cd0c28d14f424af1023aa9e77da74f29d3596df1"
2025-06-15 23:49:46,832 [DEBUG] [server]   validator: "node1"
2025-06-15 23:49:46,832 [DEBUG] [server]   transactions {
2025-06-15 23:49:46,832 [DEBUG] [server]     sender: "node1"
2025-06-15 23:49:46,832 [DEBUG] [server]     receiver: "node1"
2025-06-15 23:49:46,832 [DEBUG] [server]     amount: 10.0
2025-06-15 23:49:46,832 [DEBUG] [server]     timestamp: 1750002546.721729
2025-06-15 23:49:46,832 [DEBUG] [server]     type: STAKE
2025-06-15 23:49:46,833 [DEBUG] [server]   }
2025-06-15 23:49:46,833 [DEBUG] [server]   transactions {
2025-06-15 23:49:46,833 [DEBUG] [server]     sender: "node1"
2025-06-15 23:49:46,833 [DEBUG] [server]     receiver: "node2"
2025-06-15 23:49:46,833 [DEBUG] [server]     amount: 10.0
2025-06-15 23:49:46,833 [DEBUG] [server]     timestamp: 1750002546.722767
2025-06-15 23:49:46,833 [DEBUG] [server]   }
2025-06-15 23:49:46,833 [DEBUG] [server]   transactions {
2025-06-15 23:49:46,833 [DEBUG] [server]     sender: "node2"
2025-06-15 23:49:46,833 [DEBUG] [server]     receiver: "node2"
2025-06-15 23:49:46,834 [DEBUG] [server]     amount: 10.0
2025-06-15 23:49:46,834 [DEBUG] [server]     timestamp: 1750002546.7221591
2025-06-15 23:49:46,834 [DEBUG] [server]     type: STAKE
2025-06-15 23:49:46,834 [DEBUG] [server]   }
2025-06-15 23:49:46,834 [DEBUG] [server]   timestamp: 1750002586.824012
2025-06-15 23:49:46,834 [DEBUG] [server] }
2025-06-15 23:49:46,834 [DEBUG] [server] 
2025-06-15 23:49:46,834 [DEBUG] [server] [2025-06-15 23:49:46] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-15 23:49:46,834 [DEBUG] [server]   sender   : node1
2025-06-15 23:49:46,835 [DEBUG] [server]   full msg :
2025-06-15 23:49:46,835 [DEBUG] [server] type: BLOCK_VOTE
2025-06-15 23:49:46,835 [DEBUG] [server] sender_id: "node1"
2025-06-15 23:49:46,835 [DEBUG] [server] block_vote {
2025-06-15 23:49:46,835 [DEBUG] [server]   voter_id: "node1"
2025-06-15 23:49:46,835 [DEBUG] [server]   block_hash: "6bd322a117912637efc37910cd0c28d14f424af1023aa9e77da74f29d3596df1"
2025-06-15 23:49:46,835 [DEBUG] [server] }
2025-06-15 23:49:46,835 [DEBUG] [server] 
2025-06-15 23:49:51,833 [DEBUG] [node1] [2025-06-15 23:49:51] [WARNING] [node1:342] Vote timeout for block 6bd322a1, discarding pending         state.
2025-06-15 23:52:46,464 [INFO] >>> (node2) forge --force
2025-06-15 23:52:46,474 [DEBUG] [node2] [2025-06-15 23:52:46] [WARNING] [node2:481] FORCING block forge -- skipping validator check!
2025-06-15 23:52:46,476 [DEBUG] [node2] [2025-06-15 23:52:46] [INFO] [node2:499] Want to forge block 1 with hash 443835f1
2025-06-15 23:52:46,477 [DEBUG] [node2] [2025-06-15 23:52:46] [INFO] [node2:127] Voted to accept Block 1, hash=443835f1
2025-06-15 23:52:46,485 [DEBUG] [server] [2025-06-15 23:52:46] [INFO] [server:84] received message [BLOCK]
2025-06-15 23:52:46,485 [DEBUG] [server]   sender   : node2
2025-06-15 23:52:46,485 [DEBUG] [server]   full msg :
2025-06-15 23:52:46,485 [DEBUG] [server] type: BLOCK
2025-06-15 23:52:46,486 [DEBUG] [server] sender_id: "node2"
2025-06-15 23:52:46,486 [DEBUG] [server] block {
2025-06-15 23:52:46,486 [DEBUG] [server]   index: 1
2025-06-15 23:52:46,486 [DEBUG] [server]   prev_hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-15 23:52:46,486 [DEBUG] [server]   hash: "443835f14030dd60a7b33c4af83b3ee811e00d9d29e0d8aff24e22e6784dff2d"
2025-06-15 23:52:46,486 [DEBUG] [server]   validator: "node2"
2025-06-15 23:52:46,486 [DEBUG] [server]   transactions {
2025-06-15 23:52:46,486 [DEBUG] [server]     sender: "node2"
2025-06-15 23:52:46,486 [DEBUG] [server]     receiver: "node2"
2025-06-15 23:52:46,487 [DEBUG] [server]     amount: 10.0
2025-06-15 23:52:46,487 [DEBUG] [server]     timestamp: 1750002546.7221591
2025-06-15 23:52:46,487 [DEBUG] [server]     type: STAKE
2025-06-15 23:52:46,487 [DEBUG] [server]   }
2025-06-15 23:52:46,487 [DEBUG] [server]   timestamp: 1750002766.474346
2025-06-15 23:52:46,487 [DEBUG] [server] }
2025-06-15 23:52:46,487 [DEBUG] [server] 
2025-06-15 23:52:46,487 [DEBUG] [server] [2025-06-15 23:52:46] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-15 23:52:46,488 [DEBUG] [server]   sender   : node2
2025-06-15 23:52:46,488 [DEBUG] [server]   full msg :
2025-06-15 23:52:46,488 [DEBUG] [server] type: BLOCK_VOTE
2025-06-15 23:52:46,488 [DEBUG] [server] sender_id: "node2"
2025-06-15 23:52:46,488 [DEBUG] [server] block_vote {
2025-06-15 23:52:46,488 [DEBUG] [server]   voter_id: "node2"
2025-06-15 23:52:46,488 [DEBUG] [server]   block_hash: "443835f14030dd60a7b33c4af83b3ee811e00d9d29e0d8aff24e22e6784dff2d"
2025-06-15 23:52:46,488 [DEBUG] [server] }
2025-06-15 23:52:46,488 [DEBUG] [server] 
2025-06-15 23:52:46,489 [DEBUG] [server] [2025-06-15 23:52:46] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-15 23:52:46,490 [DEBUG] [server]   sender   : node1
2025-06-15 23:52:46,490 [DEBUG] [server]   full msg :
2025-06-15 23:52:46,490 [DEBUG] [server] type: BLOCK_VOTE
2025-06-15 23:52:46,490 [DEBUG] [server] sender_id: "node1"
2025-06-15 23:52:46,491 [DEBUG] [server] block_vote {
2025-06-15 23:52:46,491 [DEBUG] [server]   voter_id: "node1"
2025-06-15 23:52:46,491 [DEBUG] [server]   block_hash: "443835f14030dd60a7b33c4af83b3ee811e00d9d29e0d8aff24e22e6784dff2d"
2025-06-15 23:52:46,491 [DEBUG] [server] }
2025-06-15 23:52:46,491 [DEBUG] [server] 
2025-06-15 23:52:46,491 [DEBUG] [node1] [2025-06-15 23:52:46] [INFO] [node1:127] Voted to accept Block 1, hash=443835f1
2025-06-15 23:52:46,492 [DEBUG] [node1] [2025-06-15 23:52:46] [WARNING] [node1:189] Received BLOCK VOTE from node2 on block 443835f1. Not validator node, Ignoring
2025-06-15 23:52:51,483 [DEBUG] [node2] [2025-06-15 23:52:51] [WARNING] [node2:342] Vote timeout for block 443835f1, discarding pending         state.
2025-06-15 23:52:51,496 [DEBUG] [node1] [2025-06-15 23:52:51] [WARNING] [node1:342] Vote timeout for block 443835f1, discarding pending         state.
2025-06-16 00:03:23,355 [DEBUG] [DEBUG] 9s 无命令
2025-06-16 00:03:23,471 [INFO] >>> (node2) tx node1 10
2025-06-16 00:03:23,472 [INFO] >>> (node2) forge --force
2025-06-16 00:03:23,488 [DEBUG] [node2] [2025-06-16 00:03:23] [INFO] [node2:431] sent TRANSFER transaction: node2 -> node1 10.0
2025-06-16 00:03:23,491 [DEBUG] [server] [2025-06-16 00:03:23] [INFO] [server:84] received message [TRANSACTION]
2025-06-16 00:03:23,491 [DEBUG] [server]   sender   : node2
2025-06-16 00:03:23,491 [DEBUG] [server]   full msg :
2025-06-16 00:03:23,492 [DEBUG] [server] type: TRANSACTION
2025-06-16 00:03:23,492 [DEBUG] [server] sender_id: "node2"
2025-06-16 00:03:23,492 [DEBUG] [server] tx {
2025-06-16 00:03:23,492 [DEBUG] [server]   sender: "node2"
2025-06-16 00:03:23,492 [DEBUG] [server]   receiver: "node1"
2025-06-16 00:03:23,492 [DEBUG] [server]   amount: 10.0
2025-06-16 00:03:23,492 [DEBUG] [server]   timestamp: 1750003403.475313
2025-06-16 00:03:23,492 [DEBUG] [server] }
2025-06-16 00:03:23,492 [DEBUG] [server] 
2025-06-16 00:03:23,497 [DEBUG] [node1] [2025-06-16 00:03:23] [INFO] [node1:248] received TRANSFER: node2 → node1, amount 10.0
2025-06-16 00:03:23,590 [DEBUG] [DEBUG] 11s 无命令
2025-06-16 00:03:23,740 [INFO] >>> (node1) info
2025-06-16 00:03:23,741 [INFO] >>> (node2) info
2025-06-16 00:03:23,751 [DEBUG] [node2] [2025-06-16 00:03:23] [WARNING] [node2:481] FORCING block forge -- skipping validator check!
2025-06-16 00:03:23,758 [DEBUG] [node2] [2025-06-16 00:03:23] [INFO] [node2:499] Want to forge block 1 with hash 364ac076
2025-06-16 00:03:23,759 [DEBUG] [server] [2025-06-16 00:03:23] [INFO] [server:84] received message [BLOCK]
2025-06-16 00:03:23,759 [DEBUG] [server]   sender   : node2
2025-06-16 00:03:23,759 [DEBUG] [server]   full msg :
2025-06-16 00:03:23,759 [DEBUG] [server] type: BLOCK
2025-06-16 00:03:23,759 [DEBUG] [server] sender_id: "node2"
2025-06-16 00:03:23,760 [DEBUG] [server] block {
2025-06-16 00:03:23,760 [DEBUG] [server]   index: 1
2025-06-16 00:03:23,760 [DEBUG] [server]   prev_hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-16 00:03:23,760 [DEBUG] [server]   hash: "364ac076d8d6fb397492e71e835f41b2988ec994310519c7da6b1234b10d2caa"
2025-06-16 00:03:23,760 [DEBUG] [server]   validator: "node2"
2025-06-16 00:03:23,760 [DEBUG] [server]   transactions {
2025-06-16 00:03:23,760 [DEBUG] [server]     sender: "node2"
2025-06-16 00:03:23,760 [DEBUG] [server]     receiver: "node2"
2025-06-16 00:03:23,761 [DEBUG] [server]     amount: 10.0
2025-06-16 00:03:23,761 [DEBUG] [server]     timestamp: 1750002546.7221591
2025-06-16 00:03:23,761 [DEBUG] [server]     type: STAKE
2025-06-16 00:03:23,761 [DEBUG] [server]   }
2025-06-16 00:03:23,761 [DEBUG] [server]   transactions {
2025-06-16 00:03:23,761 [DEBUG] [server]     sender: "node2"
2025-06-16 00:03:23,761 [DEBUG] [server]     receiver: "node1"
2025-06-16 00:03:23,761 [DEBUG] [server]     amount: 10.0
2025-06-16 00:03:23,762 [DEBUG] [server]     timestamp: 1750003403.475313
2025-06-16 00:03:23,762 [DEBUG] [server]   }
2025-06-16 00:03:23,762 [DEBUG] [server]   timestamp: 1750003403.748548
2025-06-16 00:03:23,762 [DEBUG] [server] }
2025-06-16 00:03:23,762 [DEBUG] [server] 
2025-06-16 00:03:23,762 [DEBUG] [node2] [2025-06-16 00:03:23] [INFO] [node2:127] Voted to accept Block 1, hash=364ac076
2025-06-16 00:03:23,762 [DEBUG] [server] [2025-06-16 00:03:23] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-16 00:03:23,763 [DEBUG] [server]   sender   : node2
2025-06-16 00:03:23,763 [DEBUG] [server]   full msg :
2025-06-16 00:03:23,763 [DEBUG] [server] type: BLOCK_VOTE
2025-06-16 00:03:23,763 [DEBUG] [server] sender_id: "node2"
2025-06-16 00:03:23,763 [DEBUG] [server] block_vote {
2025-06-16 00:03:23,763 [DEBUG] [server]   voter_id: "node2"
2025-06-16 00:03:23,764 [DEBUG] [server]   block_hash: "364ac076d8d6fb397492e71e835f41b2988ec994310519c7da6b1234b10d2caa"
2025-06-16 00:03:23,764 [DEBUG] [server] }
2025-06-16 00:03:23,764 [DEBUG] [server] 
2025-06-16 00:03:23,764 [DEBUG] [server] [2025-06-16 00:03:23] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-16 00:03:23,764 [DEBUG] [server]   sender   : node1
2025-06-16 00:03:23,764 [DEBUG] [server]   full msg :
2025-06-16 00:03:23,764 [DEBUG] [server] type: BLOCK_VOTE
2025-06-16 00:03:23,765 [DEBUG] [server] sender_id: "node1"
2025-06-16 00:03:23,765 [DEBUG] [server] block_vote {
2025-06-16 00:03:23,765 [DEBUG] [server]   voter_id: "node1"
2025-06-16 00:03:23,765 [DEBUG] [server]   block_hash: "364ac076d8d6fb397492e71e835f41b2988ec994310519c7da6b1234b10d2caa"
2025-06-16 00:03:23,765 [DEBUG] [server] }
2025-06-16 00:03:23,765 [DEBUG] [server] 
2025-06-16 00:03:23,765 [DEBUG] [node1] [2025-06-16 00:03:23] [INFO] [node1:127] Voted to accept Block 1, hash=364ac076
2025-06-16 00:03:23,765 [DEBUG] [node1] [2025-06-16 00:03:23] [WARNING] [node1:189] Received BLOCK VOTE from node2 on block 364ac076. Not validator node, Ignoring
2025-06-16 00:03:23,910 [INFO] 结束等待 5.0s…
2025-06-16 00:03:28,766 [DEBUG] [node2] [2025-06-16 00:03:28] [WARNING] [node2:342] Vote timeout for block 364ac076, discarding pending         state.
2025-06-16 00:03:28,766 [DEBUG] [node1] [2025-06-16 00:03:28] [WARNING] [node1:342] Vote timeout for block 364ac076, discarding pending         state.
2025-06-16 00:03:28,912 [INFO] >>> (server) exit
2025-06-16 00:03:28,915 [DEBUG] [server] [2025-06-16 00:03:28] [INFO] [server:268] Shutting down server...
2025-06-16 00:03:28,916 [DEBUG] [server] [2025-06-16 00:03:28] [INFO] [server:287] Closing all client connections...
2025-06-16 00:03:28,917 [DEBUG] [server] [2025-06-16 00:03:28] [INFO] [server:156] Node node2 disconnected.
2025-06-16 00:03:28,917 [DEBUG] [node1] [2025-06-16 00:03:28] [INFO] [node1:103] Received BYE message from node server.
2025-06-16 00:03:28,917 [DEBUG] [node1] [2025-06-16 00:03:28] [INFO] [node1:105] Server is shutting down, exiting.
2025-06-16 00:03:28,917 [DEBUG] [node1] [2025-06-16 00:03:28] [INFO] [node1:555] Exiting.
2025-06-16 00:03:28,917 [DEBUG] [node2] [2025-06-16 00:03:28] [INFO] [node2:103] Received BYE message from node server.
2025-06-16 00:03:28,918 [DEBUG] [node2] [2025-06-16 00:03:28] [INFO] [node2:105] Server is shutting down, exiting.
2025-06-16 00:03:28,918 [DEBUG] [node2] [2025-06-16 00:03:28] [INFO] [node2:555] Exiting.
2025-06-16 00:03:28,919 [DEBUG] [server] [2025-06-16 00:03:28] [INFO] [server:156] Node node1 disconnected.
2025-06-16 00:03:28,919 [DEBUG] [server] [2025-06-16 00:03:28] [INFO] [server:294] Closing server socket...
2025-06-16 00:03:28,919 [DEBUG] [server] [2025-06-16 00:03:28] [INFO] [server:299] Server shutdown complete. Bye!
2025-06-16 00:03:28,922 [DEBUG] [node2] --- Logging error ---
2025-06-16 00:03:28,923 [DEBUG] [node1] [2025-06-16 00:03:28] [INFO] [blockchain:264] Blockchain saved to data_node_node1
2025-06-16 00:03:28,923 [DEBUG] [node1] Node ID: node1
2025-06-16 00:03:28,923 [DEBUG] [node1] Known nodes: {'node1', 'node2'}
2025-06-16 00:03:28,923 [DEBUG] [node1] ========== Blockchain Structure ==========
2025-06-16 00:03:28,924 [DEBUG] [node1] Block 0 | hash=97045df0... | validator=genesis | tx_count=0 (main)
2025-06-16 00:03:28,924 [DEBUG] [node1] ===================================
2025-06-16 00:03:28,924 [DEBUG] [node1] ========== Account State ==========
2025-06-16 00:03:28,924 [DEBUG] [node1]  Account node1 | Balance=100.00 | Stake=0.00
2025-06-16 00:03:28,925 [DEBUG] [node1]  Account node2 | Balance=100.00 | Stake=0.00
2025-06-16 00:03:28,925 [DEBUG] [node1]  Account node3 | Balance=100.00 | Stake=0.00
2025-06-16 00:03:28,926 [DEBUG] [node1] ===================================
2025-06-16 00:03:28,928 [DEBUG] [node1] ========== Pending Transactions ==========
2025-06-16 00:03:28,928 [DEBUG] [node1]   Transaction(node1 -> node1, 10.0, type=STAKE)
2025-06-16 00:03:28,928 [DEBUG] [node1]   Transaction(node1 -> node2, 10.0, type=TRANSFER)
2025-06-16 00:03:28,929 [DEBUG] [node1]   Transaction(node2 -> node2, 10.0, type=STAKE)
2025-06-16 00:03:28,929 [DEBUG] [node1]   Transaction(node2 -> node1, 10.0, type=TRANSFER)
2025-06-16 00:03:28,929 [DEBUG] [node1] ==========================================
2025-06-16 00:03:28,929 [DEBUG] [node2] Traceback (most recent call last):
2025-06-16 00:03:28,930 [DEBUG] [node2]   File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/logging/handlers.py", line 74, in emit
2025-06-16 00:03:28,930 [DEBUG] [node2]     self.doRollover()
2025-06-16 00:03:28,930 [DEBUG] [node2]   File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/logging/handlers.py", line 403, in doRollover
2025-06-16 00:03:28,930 [DEBUG] [node2]     self.rotate(self.baseFilename, dfn)
2025-06-16 00:03:28,931 [DEBUG] [node2]   File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/logging/handlers.py", line 115, in rotate
2025-06-16 00:03:28,931 [DEBUG] [node2]     os.rename(source, dest)
2025-06-16 00:03:28,931 [DEBUG] [node2] FileNotFoundError: [Errno 2] No such file or directory: '/Users/liangwei13/BlockChain_MAS_POS/pos-blockchain/logs/blockchain.log' -> '/Users/liangwei13/BlockChain_MAS_POS/pos-blockchain/logs/blockchain.log.2025-06-15'
2025-06-16 00:03:28,931 [DEBUG] [node2] Call stack:
2025-06-16 00:03:28,932 [DEBUG] [node2]   File "/Users/liangwei13/BlockChain_MAS_POS/pos-blockchain/node.py", line 650, in <module>
2025-06-16 00:03:28,932 [DEBUG] [node2]     node.run()
2025-06-16 00:03:28,932 [DEBUG] [node2]   File "/Users/liangwei13/BlockChain_MAS_POS/pos-blockchain/node.py", line 83, in run
2025-06-16 00:03:28,932 [DEBUG] [node2]     self.client.wait_loop(self._on_command)
2025-06-16 00:03:28,933 [DEBUG] [node2]   File "/Users/liangwei13/BlockChain_MAS_POS/pos-blockchain/client.py", line 85, in wait_loop
2025-06-16 00:03:28,933 [DEBUG] [node2]     if not self.receive_and_dispatch():
2025-06-16 00:03:28,933 [DEBUG] [node2]   File "/Users/liangwei13/BlockChain_MAS_POS/pos-blockchain/client.py", line 73, in receive_and_dispatch
2025-06-16 00:03:28,933 [DEBUG] [node2]     handler(msg)
2025-06-16 00:03:28,933 [DEBUG] [node2]   File "/Users/liangwei13/BlockChain_MAS_POS/pos-blockchain/node.py", line 106, in _on_bye
2025-06-16 00:03:28,934 [DEBUG] [node2]     self._cmd_exit(0)
2025-06-16 00:03:28,934 [DEBUG] [node2]   File "/Users/liangwei13/BlockChain_MAS_POS/pos-blockchain/node.py", line 556, in _cmd_exit
2025-06-16 00:03:28,934 [DEBUG] [node2]     self.blockchain.save_to_files(self.data_dir)
2025-06-16 00:03:28,934 [DEBUG] [node2]   File "/Users/liangwei13/BlockChain_MAS_POS/pos-blockchain/blockchain.py", line 264, in save_to_files
2025-06-16 00:03:28,935 [DEBUG] [node2]     logger.info(f"Blockchain saved to {directory}")
2025-06-16 00:03:28,935 [DEBUG] [node2] Message: 'Blockchain saved to data_node_node2'
2025-06-16 00:03:28,935 [DEBUG] [node2] Arguments: ()
2025-06-16 00:03:28,936 [DEBUG] [node2] [2025-06-16 00:03:28] [INFO] [blockchain:264] Blockchain saved to data_node_node2
2025-06-16 00:03:28,936 [DEBUG] [node2] Node ID: node2
2025-06-16 00:03:28,936 [DEBUG] [node2] Known nodes: {'node1', 'node2'}
2025-06-16 00:03:28,937 [DEBUG] [node2] ========== Blockchain Structure ==========
2025-06-16 00:03:28,937 [DEBUG] [node2] Block 0 | hash=97045df0... | validator=genesis | tx_count=0 (main)
2025-06-16 00:03:28,937 [DEBUG] [node2] ===================================
2025-06-16 00:03:28,937 [DEBUG] [node2] ========== Account State ==========
2025-06-16 00:03:28,938 [DEBUG] [node2]  Account node1 | Balance=100.00 | Stake=0.00
2025-06-16 00:03:28,938 [DEBUG] [node2]  Account node2 | Balance=100.00 | Stake=0.00
2025-06-16 00:03:28,938 [DEBUG] [node2]  Account node3 | Balance=100.00 | Stake=0.00
2025-06-16 00:03:28,938 [DEBUG] [node2] ===================================
2025-06-16 00:03:28,939 [DEBUG] [node2] ========== Pending Transactions ==========
2025-06-16 00:03:28,939 [DEBUG] [node2]   Transaction(node2 -> node2, 10.0, type=STAKE)
2025-06-16 00:03:28,939 [DEBUG] [node2]   Transaction(node2 -> node1, 10.0, type=TRANSFER)
2025-06-16 00:03:28,940 [DEBUG] [node2] ==========================================
2025-06-16 00:03:28,959 [INFO] server 已优雅退出
2025-06-16 00:03:28,959 [INFO] 等待节点自动下线 5.0s…
2025-06-16 00:04:25,161 [DEBUG] Using selector: KqueueSelector
2025-06-16 00:04:25,164 [INFO] 启动 server (pid=39854)
2025-06-16 00:04:25,164 [INFO] 等待服务器 127.0.0.1:5000 …
2025-06-16 00:04:25,240 [DEBUG] [server] [2025-06-16 00:04:25] [INFO] [server:44] Async server started on 127.0.0.1:5000
2025-06-16 00:04:25,466 [INFO] 服务器端口就绪
2025-06-16 00:04:25,471 [DEBUG] [server] [2025-06-16 00:04:25] [INFO] [server:62] New connection from ('127.0.0.1', 50811)
2025-06-16 00:04:25,472 [INFO] 启动 node1 (pid=39855)
2025-06-16 00:04:25,476 [INFO] 启动 node2 (pid=39857)
2025-06-16 00:04:25,477 [INFO] DEBUG 模式：按 Enter 推进 1 秒，输入 q 退出
2025-06-16 00:04:25,477 [INFO] >>> (server) stop
2025-06-16 00:04:25,479 [DEBUG] [server] [2025-06-16 00:04:25] [INFO] [server:252] Stopped sending STEP messages
2025-06-16 00:04:25,564 [DEBUG] [node1] [2025-06-16 00:04:25] [INFO] [blockchain:288] Blockchain loaded successfully from data_node_node1. Chain length=0
2025-06-16 00:04:25,564 [DEBUG] [node2] [2025-06-16 00:04:25] [INFO] [blockchain:288] Blockchain loaded successfully from data_node_node2. Chain length=0
2025-06-16 00:04:25,566 [DEBUG] [server] [2025-06-16 00:04:25] [INFO] [server:62] New connection from ('127.0.0.1', 50812)
2025-06-16 00:04:25,566 [DEBUG] [server] [2025-06-16 00:04:25] [INFO] [server:62] New connection from ('127.0.0.1', 50813)
2025-06-16 00:04:25,569 [DEBUG] [node2] [2025-06-16 00:04:25] [INFO] [node2:401] Sent SYNC_REQUEST to network
2025-06-16 00:04:25,569 [DEBUG] [node1] [2025-06-16 00:04:25] [INFO] [node1:401] Sent SYNC_REQUEST to network
2025-06-16 00:04:25,569 [DEBUG] [server] [2025-06-16 00:04:25] [INFO] [server:84] received message [HELLO]
2025-06-16 00:04:25,569 [DEBUG] [server]   sender   : node1
2025-06-16 00:04:25,569 [DEBUG] [server]   full msg :
2025-06-16 00:04:25,569 [DEBUG] [server] sender_id: "node1"
2025-06-16 00:04:25,569 [DEBUG] [server] 
2025-06-16 00:04:25,569 [DEBUG] [node2] [2025-06-16 00:04:25] [INFO] [node2:79] Node node2 started. Connected to server at 127.0.0.1:5000.
2025-06-16 00:04:25,569 [DEBUG] [node2] [2025-06-16 00:04:25] [INFO] [node2:80] Current chain length: 0 (excluding genesis)
2025-06-16 00:04:25,569 [DEBUG] [node1] [2025-06-16 00:04:25] [INFO] [node1:79] Node node1 started. Connected to server at 127.0.0.1:5000.
2025-06-16 00:04:25,569 [DEBUG] [node1] [2025-06-16 00:04:25] [INFO] [node1:80] Current chain length: 0 (excluding genesis)
2025-06-16 00:04:25,573 [DEBUG] [server] [2025-06-16 00:04:25] [INFO] [server:84] received message [SYNC_REQUEST]
2025-06-16 00:04:25,573 [DEBUG] [server]   sender   : node1
2025-06-16 00:04:25,573 [DEBUG] [server]   full msg :
2025-06-16 00:04:25,573 [DEBUG] [server] type: SYNC_REQUEST
2025-06-16 00:04:25,573 [DEBUG] [server] sender_id: "node1"
2025-06-16 00:04:25,573 [DEBUG] [server] 
2025-06-16 00:04:25,573 [DEBUG] [node2] [2025-06-16 00:04:25] [INFO] [node2:97] Received HELLO message from node node1.
2025-06-16 00:04:25,573 [DEBUG] [node2] [2025-06-16 00:04:25] [INFO] [node2:273] Received SYNC_REQUEST from node1, sending SYNC_RESPONSE
2025-06-16 00:04:25,573 [DEBUG] [server] [2025-06-16 00:04:25] [INFO] [server:84] received message [HELLO]
2025-06-16 00:04:25,573 [DEBUG] [server]   sender   : node2
2025-06-16 00:04:25,573 [DEBUG] [server]   full msg :
2025-06-16 00:04:25,573 [DEBUG] [server] sender_id: "node2"
2025-06-16 00:04:25,573 [DEBUG] [server] 
2025-06-16 00:04:25,573 [DEBUG] [server] [2025-06-16 00:04:25] [INFO] [server:84] received message [SYNC_REQUEST]
2025-06-16 00:04:25,573 [DEBUG] [server]   sender   : node2
2025-06-16 00:04:25,573 [DEBUG] [server]   full msg :
2025-06-16 00:04:25,573 [DEBUG] [server] type: SYNC_REQUEST
2025-06-16 00:04:25,573 [DEBUG] [server] sender_id: "node2"
2025-06-16 00:04:25,573 [DEBUG] [server] 
2025-06-16 00:04:25,573 [DEBUG] [server] [2025-06-16 00:04:25] [INFO] [server:84] received message [SYNC_RESPONSE]
2025-06-16 00:04:25,574 [DEBUG] [server]   sender   : node2
2025-06-16 00:04:25,574 [DEBUG] [server]   full msg :
2025-06-16 00:04:25,574 [DEBUG] [server] type: SYNC_RESPONSE
2025-06-16 00:04:25,574 [DEBUG] [server] sender_id: "node2"
2025-06-16 00:04:25,574 [DEBUG] [server] sync_response {
2025-06-16 00:04:25,574 [DEBUG] [server]   blocks {
2025-06-16 00:04:25,574 [DEBUG] [server]     prev_hash: "0000000000000000000000000000000000000000000000000000000000000000"
2025-06-16 00:04:25,574 [DEBUG] [server]     hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-16 00:04:25,574 [DEBUG] [server]     validator: "genesis"
2025-06-16 00:04:25,574 [DEBUG] [server]   }
2025-06-16 00:04:25,574 [DEBUG] [server] }
2025-06-16 00:04:25,574 [DEBUG] [server] 
2025-06-16 00:04:25,574 [DEBUG] [node1] [2025-06-16 00:04:25] [INFO] [node1:97] Received HELLO message from node node2.
2025-06-16 00:04:25,574 [DEBUG] [node1] [2025-06-16 00:04:25] [INFO] [node1:273] Received SYNC_REQUEST from node2, sending SYNC_RESPONSE
2025-06-16 00:04:25,574 [DEBUG] [node1] [2025-06-16 00:04:25] [INFO] [node1:296] Received SYNC_RESPONSE from node2, storing response
2025-06-16 00:04:25,574 [DEBUG] [server] [2025-06-16 00:04:25] [INFO] [server:84] received message [SYNC_RESPONSE]
2025-06-16 00:04:25,574 [DEBUG] [server]   sender   : node1
2025-06-16 00:04:25,574 [DEBUG] [server]   full msg :
2025-06-16 00:04:25,574 [DEBUG] [server] type: SYNC_RESPONSE
2025-06-16 00:04:25,574 [DEBUG] [server] sender_id: "node1"
2025-06-16 00:04:25,574 [DEBUG] [server] sync_response {
2025-06-16 00:04:25,575 [DEBUG] [server]   blocks {
2025-06-16 00:04:25,575 [DEBUG] [server]     prev_hash: "0000000000000000000000000000000000000000000000000000000000000000"
2025-06-16 00:04:25,575 [DEBUG] [server]     hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-16 00:04:25,575 [DEBUG] [server]     validator: "genesis"
2025-06-16 00:04:25,575 [DEBUG] [server]   }
2025-06-16 00:04:25,575 [DEBUG] [server] }
2025-06-16 00:04:25,575 [DEBUG] [server] 
2025-06-16 00:04:25,575 [DEBUG] [node2] [2025-06-16 00:04:25] [INFO] [node2:296] Received SYNC_RESPONSE from node1, storing response
2025-06-16 00:04:27,575 [DEBUG] [node1] [2025-06-16 00:04:27] [INFO] [node1:368] SYNC_RESPONSE collection finished. Processing responses.
2025-06-16 00:04:27,576 [DEBUG] [node2] [2025-06-16 00:04:27] [INFO] [node2:368] SYNC_RESPONSE collection finished. Processing responses.
2025-06-16 00:04:27,576 [DEBUG] [node2] [2025-06-16 00:04:27] [INFO] [node2:358] SYNC_RESPONSE from node1: chain length=1     head=97045df0
2025-06-16 00:04:27,577 [DEBUG] [node1] [2025-06-16 00:04:27] [INFO] [node1:358] SYNC_RESPONSE from node2: chain length=1     head=97045df0
2025-06-16 00:04:27,577 [DEBUG] [node1] [2025-06-16 00:04:27] [INFO] [node1:387] no need to sync chain, best chain same with local chain
2025-06-16 00:04:27,578 [DEBUG] [node2] [2025-06-16 00:04:27] [INFO] [node2:387] no need to sync chain, best chain same with local chain
2025-06-16 00:04:33,945 [DEBUG] [DEBUG] 1s 无命令
2025-06-16 00:04:34,948 [DEBUG] [DEBUG] 2s 无命令
2025-06-16 00:04:35,487 [DEBUG] [DEBUG] 3s 无命令
2025-06-16 00:04:36,862 [DEBUG] [DEBUG] 4s 无命令
2025-06-16 00:04:37,281 [INFO] >>> (node1) stake 10
2025-06-16 00:04:37,282 [INFO] >>> (node1) tx node2 10
2025-06-16 00:04:37,282 [INFO] >>> (node2) stake 10
2025-06-16 00:04:37,284 [DEBUG] [node2] [2025-06-16 00:04:37] [INFO] [node2:431] sent STAKE transaction: node2 -> node2 10.0
2025-06-16 00:04:37,285 [DEBUG] [node1] [2025-06-16 00:04:37] [INFO] [node1:431] sent STAKE transaction: node1 -> node1 10.0
2025-06-16 00:04:37,285 [DEBUG] [node2] [2025-06-16 00:04:37] [INFO] [node2:573] Want to stake 10.0 tokens.
2025-06-16 00:04:37,285 [DEBUG] [node1] [2025-06-16 00:04:37] [INFO] [node1:573] Want to stake 10.0 tokens.
2025-06-16 00:04:37,286 [DEBUG] [server] [2025-06-16 00:04:37] [INFO] [server:84] received message [TRANSACTION]
2025-06-16 00:04:37,286 [DEBUG] [server]   sender   : node1
2025-06-16 00:04:37,286 [DEBUG] [server]   full msg :
2025-06-16 00:04:37,286 [DEBUG] [server] type: TRANSACTION
2025-06-16 00:04:37,287 [DEBUG] [server] sender_id: "node1"
2025-06-16 00:04:37,287 [DEBUG] [server] tx {
2025-06-16 00:04:37,287 [DEBUG] [server]   sender: "node1"
2025-06-16 00:04:37,287 [DEBUG] [server]   receiver: "node1"
2025-06-16 00:04:37,287 [DEBUG] [server]   amount: 10.0
2025-06-16 00:04:37,287 [DEBUG] [server]   timestamp: 1750003477.2828338
2025-06-16 00:04:37,288 [DEBUG] [server]   type: STAKE
2025-06-16 00:04:37,288 [DEBUG] [server] }
2025-06-16 00:04:37,288 [DEBUG] [server] 
2025-06-16 00:04:37,288 [DEBUG] [server] [2025-06-16 00:04:37] [INFO] [server:84] received message [TRANSACTION]
2025-06-16 00:04:37,288 [DEBUG] [server]   sender   : node2
2025-06-16 00:04:37,288 [DEBUG] [server]   full msg :
2025-06-16 00:04:37,288 [DEBUG] [server] type: TRANSACTION
2025-06-16 00:04:37,288 [DEBUG] [server] sender_id: "node2"
2025-06-16 00:04:37,289 [DEBUG] [server] tx {
2025-06-16 00:04:37,289 [DEBUG] [server]   sender: "node2"
2025-06-16 00:04:37,289 [DEBUG] [server]   receiver: "node2"
2025-06-16 00:04:37,289 [DEBUG] [server]   amount: 10.0
2025-06-16 00:04:37,289 [DEBUG] [server]   timestamp: 1750003477.283115
2025-06-16 00:04:37,289 [DEBUG] [server]   type: STAKE
2025-06-16 00:04:37,289 [DEBUG] [server] }
2025-06-16 00:04:37,290 [DEBUG] [server] 
2025-06-16 00:04:37,290 [DEBUG] [node2] [2025-06-16 00:04:37] [INFO] [node2:254] received STAKE: node1 stakes 10.0
2025-06-16 00:04:37,290 [DEBUG] [node1] [2025-06-16 00:04:37] [INFO] [node1:254] received STAKE: node2 stakes 10.0
2025-06-16 00:04:47,048 [DEBUG] [DEBUG] 6s 无命令
2025-06-16 00:04:47,673 [INFO] >>> (node1) forge --force
2025-06-16 00:04:47,681 [DEBUG] [node1] [2025-06-16 00:04:47] [INFO] [node1:431] sent TRANSFER transaction: node1 -> node2 10.0
2025-06-16 00:04:47,681 [DEBUG] [node1] [2025-06-16 00:04:47] [WARNING] [node1:481] FORCING block forge -- skipping validator check!
2025-06-16 00:04:47,682 [DEBUG] [node1] [2025-06-16 00:04:47] [INFO] [node1:499] Want to forge block 1 with hash 5306ca40
2025-06-16 00:04:47,682 [DEBUG] [node1] [2025-06-16 00:04:47] [INFO] [node1:127] Voted to accept Block 1, hash=5306ca40
2025-06-16 00:04:47,683 [DEBUG] [server] [2025-06-16 00:04:47] [INFO] [server:84] received message [TRANSACTION]
2025-06-16 00:04:47,683 [DEBUG] [server]   sender   : node1
2025-06-16 00:04:47,683 [DEBUG] [server]   full msg :
2025-06-16 00:04:47,683 [DEBUG] [server] type: TRANSACTION
2025-06-16 00:04:47,683 [DEBUG] [server] sender_id: "node1"
2025-06-16 00:04:47,684 [DEBUG] [server] tx {
2025-06-16 00:04:47,684 [DEBUG] [server]   sender: "node1"
2025-06-16 00:04:47,684 [DEBUG] [server]   receiver: "node2"
2025-06-16 00:04:47,684 [DEBUG] [server]   amount: 10.0
2025-06-16 00:04:47,685 [DEBUG] [server]   timestamp: 1750003487.675103
2025-06-16 00:04:47,685 [DEBUG] [server] }
2025-06-16 00:04:47,685 [DEBUG] [server] 
2025-06-16 00:04:47,685 [DEBUG] [server] [2025-06-16 00:04:47] [INFO] [server:84] received message [BLOCK]
2025-06-16 00:04:47,685 [DEBUG] [server]   sender   : node1
2025-06-16 00:04:47,685 [DEBUG] [server]   full msg :
2025-06-16 00:04:47,686 [DEBUG] [server] type: BLOCK
2025-06-16 00:04:47,686 [DEBUG] [server] sender_id: "node1"
2025-06-16 00:04:47,686 [DEBUG] [server] block {
2025-06-16 00:04:47,687 [DEBUG] [server]   index: 1
2025-06-16 00:04:47,688 [DEBUG] [server]   prev_hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-16 00:04:47,688 [DEBUG] [server]   hash: "5306ca40567c4e65672c4f40f344df2d494c9268822d1ab83196cc5168a3a744"
2025-06-16 00:04:47,688 [DEBUG] [server]   validator: "node1"
2025-06-16 00:04:47,688 [DEBUG] [server]   transactions {
2025-06-16 00:04:47,688 [DEBUG] [server]     sender: "node1"
2025-06-16 00:04:47,689 [DEBUG] [server]     receiver: "node1"
2025-06-16 00:04:47,689 [DEBUG] [server]     amount: 10.0
2025-06-16 00:04:47,689 [DEBUG] [server]     timestamp: 1750003477.2828338
2025-06-16 00:04:47,689 [DEBUG] [server]     type: STAKE
2025-06-16 00:04:47,689 [DEBUG] [server]   }
2025-06-16 00:04:47,689 [DEBUG] [server]   transactions {
2025-06-16 00:04:47,689 [DEBUG] [server]     sender: "node2"
2025-06-16 00:04:47,689 [DEBUG] [server]     receiver: "node2"
2025-06-16 00:04:47,689 [DEBUG] [server]     amount: 10.0
2025-06-16 00:04:47,689 [DEBUG] [server]     timestamp: 1750003477.283115
2025-06-16 00:04:47,689 [DEBUG] [server]     type: STAKE
2025-06-16 00:04:47,689 [DEBUG] [server]   }
2025-06-16 00:04:47,689 [DEBUG] [server]   transactions {
2025-06-16 00:04:47,689 [DEBUG] [server]     sender: "node1"
2025-06-16 00:04:47,689 [DEBUG] [server]     receiver: "node2"
2025-06-16 00:04:47,689 [DEBUG] [server]     amount: 10.0
2025-06-16 00:04:47,689 [DEBUG] [server]     timestamp: 1750003487.675103
2025-06-16 00:04:47,689 [DEBUG] [server]   }
2025-06-16 00:04:47,689 [DEBUG] [server]   timestamp: 1750003487.6762612
2025-06-16 00:04:47,689 [DEBUG] [server] }
2025-06-16 00:04:47,689 [DEBUG] [server] 
2025-06-16 00:04:47,690 [DEBUG] [node2] [2025-06-16 00:04:47] [INFO] [node2:248] received TRANSFER: node1 → node2, amount 10.0
2025-06-16 00:04:47,690 [DEBUG] [server] [2025-06-16 00:04:47] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-16 00:04:47,690 [DEBUG] [server]   sender   : node1
2025-06-16 00:04:47,690 [DEBUG] [server]   full msg :
2025-06-16 00:04:47,690 [DEBUG] [server] type: BLOCK_VOTE
2025-06-16 00:04:47,690 [DEBUG] [server] sender_id: "node1"
2025-06-16 00:04:47,690 [DEBUG] [server] block_vote {
2025-06-16 00:04:47,690 [DEBUG] [server]   voter_id: "node1"
2025-06-16 00:04:47,690 [DEBUG] [server]   block_hash: "5306ca40567c4e65672c4f40f344df2d494c9268822d1ab83196cc5168a3a744"
2025-06-16 00:04:47,690 [DEBUG] [server] }
2025-06-16 00:04:47,690 [DEBUG] [server] 
2025-06-16 00:04:47,690 [DEBUG] [server] [2025-06-16 00:04:47] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-16 00:04:47,690 [DEBUG] [server]   sender   : node2
2025-06-16 00:04:47,690 [DEBUG] [server]   full msg :
2025-06-16 00:04:47,690 [DEBUG] [server] type: BLOCK_VOTE
2025-06-16 00:04:47,690 [DEBUG] [server] sender_id: "node2"
2025-06-16 00:04:47,691 [DEBUG] [server] block_vote {
2025-06-16 00:04:47,691 [DEBUG] [server]   voter_id: "node2"
2025-06-16 00:04:47,691 [DEBUG] [server]   block_hash: "5306ca40567c4e65672c4f40f344df2d494c9268822d1ab83196cc5168a3a744"
2025-06-16 00:04:47,691 [DEBUG] [server] }
2025-06-16 00:04:47,691 [DEBUG] [server] 
2025-06-16 00:04:47,691 [DEBUG] [node2] [2025-06-16 00:04:47] [INFO] [node2:127] Voted to accept Block 1, hash=5306ca40
2025-06-16 00:04:47,691 [DEBUG] [node2] [2025-06-16 00:04:47] [WARNING] [node2:189] Received BLOCK VOTE from node1 on block 5306ca40. Not validator node, Ignoring
2025-06-16 00:04:47,691 [DEBUG] [node1] [2025-06-16 00:04:47] [WARNING] [node1:189] Received BLOCK VOTE from node2 on block 5306ca40. Not validator node, Ignoring
2025-06-16 00:04:47,722 [INFO] >>> (node2) forge --force
2025-06-16 00:04:47,723 [DEBUG] [node2] [2025-06-16 00:04:47] [WARNING] [node2:481] FORCING block forge -- skipping validator check!
2025-06-16 00:04:47,723 [DEBUG] [node2] [2025-06-16 00:04:47] [INFO] [node2:499] Want to forge block 1 with hash b11bd329
2025-06-16 00:04:47,723 [DEBUG] [node2] [2025-06-16 00:04:47] [INFO] [node2:127] Voted to accept Block 1, hash=b11bd329
2025-06-16 00:04:47,723 [DEBUG] [server] [2025-06-16 00:04:47] [INFO] [server:84] received message [BLOCK]
2025-06-16 00:04:47,724 [DEBUG] [server]   sender   : node2
2025-06-16 00:04:47,724 [DEBUG] [server]   full msg :
2025-06-16 00:04:47,724 [DEBUG] [server] type: BLOCK
2025-06-16 00:04:47,724 [DEBUG] [server] sender_id: "node2"
2025-06-16 00:04:47,724 [DEBUG] [server] block {
2025-06-16 00:04:47,724 [DEBUG] [server]   index: 1
2025-06-16 00:04:47,724 [DEBUG] [server]   prev_hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-16 00:04:47,724 [DEBUG] [server]   hash: "b11bd329c6dbf98fa8fbcf1bd4e628d2edce78183e7087e667f99d66020e0f26"
2025-06-16 00:04:47,724 [DEBUG] [server]   validator: "node2"
2025-06-16 00:04:47,724 [DEBUG] [server]   transactions {
2025-06-16 00:04:47,724 [DEBUG] [server]     sender: "node2"
2025-06-16 00:04:47,724 [DEBUG] [server]     receiver: "node2"
2025-06-16 00:04:47,724 [DEBUG] [server]     amount: 10.0
2025-06-16 00:04:47,724 [DEBUG] [server]     timestamp: 1750003477.283115
2025-06-16 00:04:47,724 [DEBUG] [server]     type: STAKE
2025-06-16 00:04:47,724 [DEBUG] [server]   }
2025-06-16 00:04:47,724 [DEBUG] [server]   transactions {
2025-06-16 00:04:47,724 [DEBUG] [server]     sender: "node1"
2025-06-16 00:04:47,724 [DEBUG] [server]     receiver: "node1"
2025-06-16 00:04:47,724 [DEBUG] [server]     amount: 10.0
2025-06-16 00:04:47,724 [DEBUG] [server]     timestamp: 1750003477.2828338
2025-06-16 00:04:47,724 [DEBUG] [server]     type: STAKE
2025-06-16 00:04:47,725 [DEBUG] [server]   }
2025-06-16 00:04:47,725 [DEBUG] [server]   transactions {
2025-06-16 00:04:47,725 [DEBUG] [server]     sender: "node1"
2025-06-16 00:04:47,725 [DEBUG] [server]     receiver: "node2"
2025-06-16 00:04:47,725 [DEBUG] [server]     amount: 10.0
2025-06-16 00:04:47,725 [DEBUG] [server]     timestamp: 1750003487.675103
2025-06-16 00:04:47,725 [DEBUG] [server]   }
2025-06-16 00:04:47,725 [DEBUG] [server]   timestamp: 1750003487.7230039
2025-06-16 00:04:47,725 [DEBUG] [server] }
2025-06-16 00:04:47,725 [DEBUG] [server] 
2025-06-16 00:04:47,725 [DEBUG] [server] [2025-06-16 00:04:47] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-16 00:04:47,725 [DEBUG] [server]   sender   : node2
2025-06-16 00:04:47,725 [DEBUG] [server]   full msg :
2025-06-16 00:04:47,725 [DEBUG] [server] type: BLOCK_VOTE
2025-06-16 00:04:47,725 [DEBUG] [server] sender_id: "node2"
2025-06-16 00:04:47,725 [DEBUG] [server] block_vote {
2025-06-16 00:04:47,725 [DEBUG] [server]   voter_id: "node2"
2025-06-16 00:04:47,725 [DEBUG] [server]   block_hash: "b11bd329c6dbf98fa8fbcf1bd4e628d2edce78183e7087e667f99d66020e0f26"
2025-06-16 00:04:47,725 [DEBUG] [server] }
2025-06-16 00:04:47,726 [DEBUG] [server] 
2025-06-16 00:04:47,726 [DEBUG] [server] [2025-06-16 00:04:47] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-16 00:04:47,726 [DEBUG] [server]   sender   : node1
2025-06-16 00:04:47,726 [DEBUG] [server]   full msg :
2025-06-16 00:04:47,726 [DEBUG] [server] type: BLOCK_VOTE
2025-06-16 00:04:47,726 [DEBUG] [server] sender_id: "node1"
2025-06-16 00:04:47,726 [DEBUG] [server] block_vote {
2025-06-16 00:04:47,726 [DEBUG] [server]   voter_id: "node1"
2025-06-16 00:04:47,726 [DEBUG] [server]   block_hash: "b11bd329c6dbf98fa8fbcf1bd4e628d2edce78183e7087e667f99d66020e0f26"
2025-06-16 00:04:47,726 [DEBUG] [server] }
2025-06-16 00:04:47,726 [DEBUG] [server] 
2025-06-16 00:04:47,726 [DEBUG] [node1] [2025-06-16 00:04:47] [INFO] [node1:127] Voted to accept Block 1, hash=b11bd329
2025-06-16 00:04:47,726 [DEBUG] [node1] [2025-06-16 00:04:47] [WARNING] [node1:189] Received BLOCK VOTE from node2 on block b11bd329. Not validator node, Ignoring
2025-06-16 00:04:47,726 [DEBUG] [node2] [2025-06-16 00:04:47] [WARNING] [node2:189] Received BLOCK VOTE from node1 on block b11bd329. Not validator node, Ignoring
2025-06-16 00:04:52,685 [DEBUG] [node1] [2025-06-16 00:04:52] [WARNING] [node1:342] Vote timeout for block 5306ca40, discarding pending         state.
2025-06-16 00:04:52,685 [DEBUG] [node2] [2025-06-16 00:04:52] [WARNING] [node2:342] Vote timeout for block 5306ca40, discarding pending         state.
2025-06-16 00:04:52,726 [DEBUG] [node1] [2025-06-16 00:04:52] [WARNING] [node1:342] Vote timeout for block b11bd329, discarding pending         state.
2025-06-16 00:04:52,729 [DEBUG] [node2] [2025-06-16 00:04:52] [WARNING] [node2:342] Vote timeout for block b11bd329, discarding pending         state.
2025-06-16 00:37:57,178 [DEBUG] [DEBUG] 9s 无命令
2025-06-16 00:37:57,322 [INFO] >>> (node2) tx node1 10
2025-06-16 00:37:57,323 [INFO] >>> (node2) forge --force
2025-06-16 00:37:57,333 [DEBUG] [node2] [2025-06-16 00:37:57] [INFO] [node2:431] sent TRANSFER transaction: node2 -> node1 10.0
2025-06-16 00:37:57,340 [DEBUG] [server] [2025-06-16 00:37:57] [INFO] [server:84] received message [TRANSACTION]
2025-06-16 00:37:57,340 [DEBUG] [server]   sender   : node2
2025-06-16 00:37:57,340 [DEBUG] [server]   full msg :
2025-06-16 00:37:57,340 [DEBUG] [server] type: TRANSACTION
2025-06-16 00:37:57,340 [DEBUG] [server] sender_id: "node2"
2025-06-16 00:37:57,341 [DEBUG] [server] tx {
2025-06-16 00:37:57,341 [DEBUG] [server]   sender: "node2"
2025-06-16 00:37:57,341 [DEBUG] [server]   receiver: "node1"
2025-06-16 00:37:57,341 [DEBUG] [server]   amount: 10.0
2025-06-16 00:37:57,341 [DEBUG] [server]   timestamp: 1750005477.3275678
2025-06-16 00:37:57,341 [DEBUG] [server] }
2025-06-16 00:37:57,341 [DEBUG] [server] 
2025-06-16 00:37:57,343 [DEBUG] [node1] [2025-06-16 00:37:57] [INFO] [node1:248] received TRANSFER: node2 → node1, amount 10.0
2025-06-16 00:37:57,444 [DEBUG] [DEBUG] 11s 无命令
2025-06-16 00:37:57,748 [INFO] >>> (node1) info
2025-06-16 00:37:57,749 [INFO] >>> (node2) info
2025-06-16 00:37:57,750 [DEBUG] [node2] [2025-06-16 00:37:57] [WARNING] [node2:481] FORCING block forge -- skipping validator check!
2025-06-16 00:37:57,758 [DEBUG] [node2] [2025-06-16 00:37:57] [INFO] [node2:499] Want to forge block 1 with hash e7521ed2
2025-06-16 00:37:57,759 [DEBUG] [server] [2025-06-16 00:37:57] [INFO] [server:84] received message [BLOCK]
2025-06-16 00:37:57,759 [DEBUG] [server]   sender   : node2
2025-06-16 00:37:57,759 [DEBUG] [server]   full msg :
2025-06-16 00:37:57,759 [DEBUG] [server] type: BLOCK
2025-06-16 00:37:57,760 [DEBUG] [server] sender_id: "node2"
2025-06-16 00:37:57,760 [DEBUG] [server] block {
2025-06-16 00:37:57,760 [DEBUG] [server]   index: 1
2025-06-16 00:37:57,760 [DEBUG] [server]   prev_hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-16 00:37:57,760 [DEBUG] [server]   hash: "e7521ed2aef263783463f8375a11c30f2829c6a946622127c758a4ba657e3738"
2025-06-16 00:37:57,760 [DEBUG] [server]   validator: "node2"
2025-06-16 00:37:57,761 [DEBUG] [server]   transactions {
2025-06-16 00:37:57,761 [DEBUG] [server]     sender: "node2"
2025-06-16 00:37:57,761 [DEBUG] [server]     receiver: "node2"
2025-06-16 00:37:57,761 [DEBUG] [server]     amount: 10.0
2025-06-16 00:37:57,761 [DEBUG] [server]     timestamp: 1750003477.283115
2025-06-16 00:37:57,761 [DEBUG] [server]     type: STAKE
2025-06-16 00:37:57,761 [DEBUG] [server]   }
2025-06-16 00:37:57,761 [DEBUG] [server]   transactions {
2025-06-16 00:37:57,762 [DEBUG] [server]     sender: "node1"
2025-06-16 00:37:57,762 [DEBUG] [server]     receiver: "node1"
2025-06-16 00:37:57,762 [DEBUG] [server]     amount: 10.0
2025-06-16 00:37:57,762 [DEBUG] [server]     timestamp: 1750003477.2828338
2025-06-16 00:37:57,762 [DEBUG] [server]     type: STAKE
2025-06-16 00:37:57,762 [DEBUG] [server]   }
2025-06-16 00:37:57,762 [DEBUG] [server]   transactions {
2025-06-16 00:37:57,762 [DEBUG] [server]     sender: "node1"
2025-06-16 00:37:57,762 [DEBUG] [server]     receiver: "node2"
2025-06-16 00:37:57,763 [DEBUG] [server]     amount: 10.0
2025-06-16 00:37:57,763 [DEBUG] [server]     timestamp: 1750003487.675103
2025-06-16 00:37:57,763 [DEBUG] [server]   }
2025-06-16 00:37:57,763 [DEBUG] [server]   transactions {
2025-06-16 00:37:57,763 [DEBUG] [server]     sender: "node2"
2025-06-16 00:37:57,763 [DEBUG] [server]     receiver: "node1"
2025-06-16 00:37:57,763 [DEBUG] [server]     amount: 10.0
2025-06-16 00:37:57,763 [DEBUG] [server]     timestamp: 1750005477.3275678
2025-06-16 00:37:57,763 [DEBUG] [server]   }
2025-06-16 00:37:57,763 [DEBUG] [server]   timestamp: 1750005477.7508569
2025-06-16 00:37:57,764 [DEBUG] [server] }
2025-06-16 00:37:57,764 [DEBUG] [server] 
2025-06-16 00:37:57,764 [DEBUG] [node2] [2025-06-16 00:37:57] [INFO] [node2:127] Voted to accept Block 1, hash=e7521ed2
2025-06-16 00:37:57,764 [DEBUG] [node2] [2025-06-16 00:37:57] [WARNING] [node2:189] Received BLOCK VOTE from node1 on block e7521ed2. Not validator node, Ignoring
2025-06-16 00:37:57,764 [DEBUG] [server] [2025-06-16 00:37:57] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-16 00:37:57,764 [DEBUG] [server]   sender   : node2
2025-06-16 00:37:57,764 [DEBUG] [server]   full msg :
2025-06-16 00:37:57,764 [DEBUG] [server] type: BLOCK_VOTE
2025-06-16 00:37:57,765 [DEBUG] [server] sender_id: "node2"
2025-06-16 00:37:57,765 [DEBUG] [server] block_vote {
2025-06-16 00:37:57,765 [DEBUG] [server]   voter_id: "node2"
2025-06-16 00:37:57,765 [DEBUG] [server]   block_hash: "e7521ed2aef263783463f8375a11c30f2829c6a946622127c758a4ba657e3738"
2025-06-16 00:37:57,765 [DEBUG] [server] }
2025-06-16 00:37:57,765 [DEBUG] [server] 
2025-06-16 00:37:57,765 [DEBUG] [server] [2025-06-16 00:37:57] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-16 00:37:57,765 [DEBUG] [server]   sender   : node1
2025-06-16 00:37:57,765 [DEBUG] [server]   full msg :
2025-06-16 00:37:57,765 [DEBUG] [server] type: BLOCK_VOTE
2025-06-16 00:37:57,766 [DEBUG] [server] sender_id: "node1"
2025-06-16 00:37:57,766 [DEBUG] [server] block_vote {
2025-06-16 00:37:57,766 [DEBUG] [server]   voter_id: "node1"
2025-06-16 00:37:57,766 [DEBUG] [server]   block_hash: "e7521ed2aef263783463f8375a11c30f2829c6a946622127c758a4ba657e3738"
2025-06-16 00:37:57,766 [DEBUG] [server] }
2025-06-16 00:37:57,766 [DEBUG] [server] 
2025-06-16 00:37:57,766 [DEBUG] [node1] [2025-06-16 00:37:57] [INFO] [node1:127] Voted to accept Block 1, hash=e7521ed2
2025-06-16 00:37:57,766 [DEBUG] [node1] [2025-06-16 00:37:57] [WARNING] [node1:189] Received BLOCK VOTE from node2 on block e7521ed2. Not validator node, Ignoring
2025-06-16 00:37:57,921 [INFO] 结束等待 5.0s…
2025-06-16 00:38:02,766 [DEBUG] [node2] [2025-06-16 00:38:02] [WARNING] [node2:342] Vote timeout for block e7521ed2, discarding pending         state.
2025-06-16 00:38:02,769 [DEBUG] [node1] [2025-06-16 00:38:02] [WARNING] [node1:342] Vote timeout for block e7521ed2, discarding pending         state.
2025-06-16 00:38:02,923 [INFO] >>> (server) exit
2025-06-16 00:38:02,926 [DEBUG] [server] [2025-06-16 00:38:02] [INFO] [server:268] Shutting down server...
2025-06-16 00:38:02,928 [DEBUG] [server] [2025-06-16 00:38:02] [INFO] [server:287] Closing all client connections...
2025-06-16 00:38:02,928 [DEBUG] [server] [2025-06-16 00:38:02] [INFO] [server:156] Node node1 disconnected.
2025-06-16 00:38:02,929 [DEBUG] [node1] [2025-06-16 00:38:02] [INFO] [node1:103] Received BYE message from node server.
2025-06-16 00:38:02,929 [DEBUG] [node1] [2025-06-16 00:38:02] [INFO] [node1:105] Server is shutting down, exiting.
2025-06-16 00:38:02,929 [DEBUG] [node2] [2025-06-16 00:38:02] [INFO] [node2:103] Received BYE message from node server.
2025-06-16 00:38:02,930 [DEBUG] [node1] [2025-06-16 00:38:02] [INFO] [node1:555] Exiting.
2025-06-16 00:38:02,930 [DEBUG] [node2] [2025-06-16 00:38:02] [INFO] [node2:105] Server is shutting down, exiting.
2025-06-16 00:38:02,930 [DEBUG] [node2] [2025-06-16 00:38:02] [INFO] [node2:555] Exiting.
2025-06-16 00:38:02,931 [DEBUG] [server] [2025-06-16 00:38:02] [INFO] [server:156] Node node2 disconnected.
2025-06-16 00:38:02,931 [DEBUG] [server] [2025-06-16 00:38:02] [INFO] [server:294] Closing server socket...
2025-06-16 00:38:02,932 [DEBUG] [server] [2025-06-16 00:38:02] [INFO] [server:299] Server shutdown complete. Bye!
2025-06-16 00:38:02,932 [DEBUG] [node2] [2025-06-16 00:38:02] [INFO] [blockchain:264] Blockchain saved to data_node_node2
2025-06-16 00:38:02,932 [DEBUG] [node1] [2025-06-16 00:38:02] [INFO] [blockchain:264] Blockchain saved to data_node_node1
2025-06-16 00:38:02,933 [DEBUG] [node2] Node ID: node2
2025-06-16 00:38:02,933 [DEBUG] [node2] Known nodes: {'node1', 'node2'}
2025-06-16 00:38:02,933 [DEBUG] [node2] ========== Blockchain Structure ==========
2025-06-16 00:38:02,933 [DEBUG] [node2] Block 0 | hash=97045df0... | validator=genesis | tx_count=0 (main)
2025-06-16 00:38:02,934 [DEBUG] [node2] ===================================
2025-06-16 00:38:02,934 [DEBUG] [node2] ========== Account State ==========
2025-06-16 00:38:02,934 [DEBUG] [node2]  Account node1 | Balance=100.00 | Stake=0.00
2025-06-16 00:38:02,935 [DEBUG] [node2]  Account node2 | Balance=100.00 | Stake=0.00
2025-06-16 00:38:02,935 [DEBUG] [node2]  Account node3 | Balance=100.00 | Stake=0.00
2025-06-16 00:38:02,935 [DEBUG] [node2] ===================================
2025-06-16 00:38:02,935 [DEBUG] [node2] ========== Pending Transactions ==========
2025-06-16 00:38:02,936 [DEBUG] [node2]   Transaction(node2 -> node2, 10.0, type=STAKE)
2025-06-16 00:38:02,936 [DEBUG] [node2]   Transaction(node1 -> node1, 10.0, type=STAKE)
2025-06-16 00:38:02,936 [DEBUG] [node2]   Transaction(node1 -> node2, 10.0, type=TRANSFER)
2025-06-16 00:38:02,936 [DEBUG] [node2]   Transaction(node2 -> node1, 10.0, type=TRANSFER)
2025-06-16 00:38:02,936 [DEBUG] [node2] ==========================================
2025-06-16 00:38:02,937 [DEBUG] [node1] Node ID: node1
2025-06-16 00:38:02,937 [DEBUG] [node1] Known nodes: {'node1', 'node2'}
2025-06-16 00:38:02,937 [DEBUG] [node1] ========== Blockchain Structure ==========
2025-06-16 00:38:02,937 [DEBUG] [node1] Block 0 | hash=97045df0... | validator=genesis | tx_count=0 (main)
2025-06-16 00:38:02,938 [DEBUG] [node1] ===================================
2025-06-16 00:38:02,938 [DEBUG] [node1] ========== Account State ==========
2025-06-16 00:38:02,938 [DEBUG] [node1]  Account node1 | Balance=100.00 | Stake=0.00
2025-06-16 00:38:02,938 [DEBUG] [node1]  Account node2 | Balance=100.00 | Stake=0.00
2025-06-16 00:38:02,939 [DEBUG] [node1]  Account node3 | Balance=100.00 | Stake=0.00
2025-06-16 00:38:02,939 [DEBUG] [node1] ===================================
2025-06-16 00:38:02,939 [DEBUG] [node1] ========== Pending Transactions ==========
2025-06-16 00:38:02,940 [DEBUG] [node1]   Transaction(node1 -> node1, 10.0, type=STAKE)
2025-06-16 00:38:02,940 [DEBUG] [node1]   Transaction(node2 -> node2, 10.0, type=STAKE)
2025-06-16 00:38:02,940 [DEBUG] [node1]   Transaction(node1 -> node2, 10.0, type=TRANSFER)
2025-06-16 00:38:02,940 [DEBUG] [node1]   Transaction(node2 -> node1, 10.0, type=TRANSFER)
2025-06-16 00:38:02,941 [DEBUG] [node1] ==========================================
2025-06-16 00:38:02,963 [INFO] server 已优雅退出
2025-06-16 00:38:02,963 [INFO] 等待节点自动下线 5.0s…
2025-06-16 00:38:14,197 [DEBUG] Using selector: KqueueSelector
2025-06-16 00:38:14,199 [INFO] 启动 server (pid=44512)
2025-06-16 00:38:14,199 [INFO] 等待服务器 127.0.0.1:5000 …
2025-06-16 00:38:14,274 [DEBUG] [server] [2025-06-16 00:38:14] [INFO] [server:44] Async server started on 127.0.0.1:5000
2025-06-16 00:38:14,502 [INFO] 服务器端口就绪
2025-06-16 00:38:14,505 [DEBUG] [server] [2025-06-16 00:38:14] [INFO] [server:62] New connection from ('127.0.0.1', 51920)
2025-06-16 00:38:14,506 [INFO] 启动 node1 (pid=44513)
2025-06-16 00:38:14,509 [INFO] 启动 node2 (pid=44514)
2025-06-16 00:38:14,510 [INFO] DEBUG 模式：按 Enter 推进 1 秒，输入 q 退出
2025-06-16 00:38:14,510 [INFO] >>> (server) stop
2025-06-16 00:38:14,513 [DEBUG] [server] [2025-06-16 00:38:14] [INFO] [server:252] Stopped sending STEP messages
2025-06-16 00:38:14,600 [DEBUG] [node2] [2025-06-16 00:38:14] [INFO] [blockchain:288] Blockchain loaded successfully from data_node_node2. Chain length=0
2025-06-16 00:38:14,601 [DEBUG] [node1] [2025-06-16 00:38:14] [INFO] [blockchain:288] Blockchain loaded successfully from data_node_node1. Chain length=0
2025-06-16 00:38:14,602 [DEBUG] [server] [2025-06-16 00:38:14] [INFO] [server:62] New connection from ('127.0.0.1', 51922)
2025-06-16 00:38:14,602 [DEBUG] [server] [2025-06-16 00:38:14] [INFO] [server:62] New connection from ('127.0.0.1', 51921)
2025-06-16 00:38:14,606 [DEBUG] [node1] [2025-06-16 00:38:14] [INFO] [node1:420] Sent SYNC_REQUEST to network
2025-06-16 00:38:14,606 [DEBUG] [node2] [2025-06-16 00:38:14] [INFO] [node2:420] Sent SYNC_REQUEST to network
2025-06-16 00:38:14,606 [DEBUG] [server] [2025-06-16 00:38:14] [INFO] [server:84] received message [HELLO]
2025-06-16 00:38:14,606 [DEBUG] [server]   sender   : node1
2025-06-16 00:38:14,606 [DEBUG] [server]   full msg :
2025-06-16 00:38:14,606 [DEBUG] [server] sender_id: "node1"
2025-06-16 00:38:14,606 [DEBUG] [server] 
2025-06-16 00:38:14,606 [DEBUG] [node2] [2025-06-16 00:38:14] [INFO] [node2:79] Node node2 started. Connected to server at 127.0.0.1:5000.
2025-06-16 00:38:14,606 [DEBUG] [node2] [2025-06-16 00:38:14] [INFO] [node2:80] Current chain length: 0 (excluding genesis)
2025-06-16 00:38:14,606 [DEBUG] [node1] [2025-06-16 00:38:14] [INFO] [node1:79] Node node1 started. Connected to server at 127.0.0.1:5000.
2025-06-16 00:38:14,606 [DEBUG] [node1] [2025-06-16 00:38:14] [INFO] [node1:80] Current chain length: 0 (excluding genesis)
2025-06-16 00:38:14,609 [DEBUG] [server] [2025-06-16 00:38:14] [INFO] [server:84] received message [SYNC_REQUEST]
2025-06-16 00:38:14,609 [DEBUG] [server]   sender   : node1
2025-06-16 00:38:14,610 [DEBUG] [server]   full msg :
2025-06-16 00:38:14,610 [DEBUG] [server] type: SYNC_REQUEST
2025-06-16 00:38:14,610 [DEBUG] [server] sender_id: "node1"
2025-06-16 00:38:14,610 [DEBUG] [server] 
2025-06-16 00:38:14,610 [DEBUG] [node2] [2025-06-16 00:38:14] [INFO] [node2:97] Received HELLO message from node node1.
2025-06-16 00:38:14,610 [DEBUG] [server] [2025-06-16 00:38:14] [INFO] [server:84] received message [HELLO]
2025-06-16 00:38:14,610 [DEBUG] [server]   sender   : node2
2025-06-16 00:38:14,610 [DEBUG] [server]   full msg :
2025-06-16 00:38:14,610 [DEBUG] [server] sender_id: "node2"
2025-06-16 00:38:14,610 [DEBUG] [server] 
2025-06-16 00:38:14,610 [DEBUG] [server] [2025-06-16 00:38:14] [INFO] [server:84] received message [SYNC_REQUEST]
2025-06-16 00:38:14,610 [DEBUG] [server]   sender   : node2
2025-06-16 00:38:14,610 [DEBUG] [server]   full msg :
2025-06-16 00:38:14,610 [DEBUG] [server] type: SYNC_REQUEST
2025-06-16 00:38:14,610 [DEBUG] [server] sender_id: "node2"
2025-06-16 00:38:14,610 [DEBUG] [server] 
2025-06-16 00:38:14,610 [DEBUG] [server] [2025-06-16 00:38:14] [INFO] [server:84] received message [SYNC_RESPONSE]
2025-06-16 00:38:14,610 [DEBUG] [server]   sender   : node2
2025-06-16 00:38:14,610 [DEBUG] [server]   full msg :
2025-06-16 00:38:14,611 [DEBUG] [server] type: SYNC_RESPONSE
2025-06-16 00:38:14,611 [DEBUG] [server] sender_id: "node2"
2025-06-16 00:38:14,611 [DEBUG] [server] sync_response {
2025-06-16 00:38:14,611 [DEBUG] [server]   blocks {
2025-06-16 00:38:14,611 [DEBUG] [server]     prev_hash: "0000000000000000000000000000000000000000000000000000000000000000"
2025-06-16 00:38:14,611 [DEBUG] [server]     hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-16 00:38:14,611 [DEBUG] [server]     validator: "genesis"
2025-06-16 00:38:14,611 [DEBUG] [server]   }
2025-06-16 00:38:14,611 [DEBUG] [server] }
2025-06-16 00:38:14,611 [DEBUG] [server] 
2025-06-16 00:38:14,611 [DEBUG] [node2] [2025-06-16 00:38:14] [INFO] [node2:292] Received SYNC_REQUEST from node1, sending SYNC_RESPONSE
2025-06-16 00:38:14,611 [DEBUG] [node1] [2025-06-16 00:38:14] [INFO] [node1:97] Received HELLO message from node node2.
2025-06-16 00:38:14,611 [DEBUG] [node1] [2025-06-16 00:38:14] [INFO] [node1:292] Received SYNC_REQUEST from node2, sending SYNC_RESPONSE
2025-06-16 00:38:14,611 [DEBUG] [node1] [2025-06-16 00:38:14] [INFO] [node1:315] Received SYNC_RESPONSE from node2, storing response
2025-06-16 00:38:14,612 [DEBUG] [server] [2025-06-16 00:38:14] [INFO] [server:84] received message [SYNC_RESPONSE]
2025-06-16 00:38:14,612 [DEBUG] [server]   sender   : node1
2025-06-16 00:38:14,612 [DEBUG] [server]   full msg :
2025-06-16 00:38:14,612 [DEBUG] [server] type: SYNC_RESPONSE
2025-06-16 00:38:14,612 [DEBUG] [server] sender_id: "node1"
2025-06-16 00:38:14,612 [DEBUG] [server] sync_response {
2025-06-16 00:38:14,612 [DEBUG] [server]   blocks {
2025-06-16 00:38:14,612 [DEBUG] [server]     prev_hash: "0000000000000000000000000000000000000000000000000000000000000000"
2025-06-16 00:38:14,612 [DEBUG] [server]     hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-16 00:38:14,612 [DEBUG] [server]     validator: "genesis"
2025-06-16 00:38:14,612 [DEBUG] [server]   }
2025-06-16 00:38:14,612 [DEBUG] [server] }
2025-06-16 00:38:14,612 [DEBUG] [server] 
2025-06-16 00:38:14,612 [DEBUG] [node2] [2025-06-16 00:38:14] [INFO] [node2:315] Received SYNC_RESPONSE from node1, storing response
2025-06-16 00:38:15,299 [DEBUG] [DEBUG] 1s 无命令
2025-06-16 00:38:16,614 [DEBUG] [node1] [2025-06-16 00:38:16] [INFO] [node1:387] SYNC_RESPONSE collection finished. Processing responses.
2025-06-16 00:38:16,614 [DEBUG] [node1] [2025-06-16 00:38:16] [INFO] [node1:377] SYNC_RESPONSE from node2: chain length=1     head=97045df0
2025-06-16 00:38:16,614 [DEBUG] [node1] [2025-06-16 00:38:16] [INFO] [node1:406] no need to sync chain, best chain same with local chain
2025-06-16 00:38:16,615 [DEBUG] [node2] [2025-06-16 00:38:16] [INFO] [node2:387] SYNC_RESPONSE collection finished. Processing responses.
2025-06-16 00:38:16,615 [DEBUG] [node2] [2025-06-16 00:38:16] [INFO] [node2:377] SYNC_RESPONSE from node1: chain length=1     head=97045df0
2025-06-16 00:38:16,615 [DEBUG] [node2] [2025-06-16 00:38:16] [INFO] [node2:406] no need to sync chain, best chain same with local chain
2025-06-16 00:38:26,324 [DEBUG] [DEBUG] 2s 无命令
2025-06-16 00:38:27,382 [DEBUG] [DEBUG] 3s 无命令
2025-06-16 00:38:27,782 [DEBUG] [DEBUG] 4s 无命令
2025-06-16 00:38:28,106 [INFO] >>> (node1) stake 10
2025-06-16 00:38:28,106 [INFO] >>> (node1) tx node2 10
2025-06-16 00:38:28,106 [INFO] >>> (node2) stake 10
2025-06-16 00:38:28,111 [DEBUG] [node1] [2025-06-16 00:38:28] [INFO] [node1:450] sent STAKE transaction: node1 -> node1 10.0
2025-06-16 00:38:28,111 [DEBUG] [node1] [2025-06-16 00:38:28] [INFO] [node1:592] Want to stake 10.0 tokens.
2025-06-16 00:38:28,112 [DEBUG] [node2] [2025-06-16 00:38:28] [INFO] [node2:450] sent STAKE transaction: node2 -> node2 10.0
2025-06-16 00:38:28,112 [DEBUG] [node2] [2025-06-16 00:38:28] [INFO] [node2:592] Want to stake 10.0 tokens.
2025-06-16 00:38:28,113 [DEBUG] [server] [2025-06-16 00:38:28] [INFO] [server:84] received message [TRANSACTION]
2025-06-16 00:38:28,113 [DEBUG] [server]   sender   : node2
2025-06-16 00:38:28,113 [DEBUG] [server]   full msg :
2025-06-16 00:38:28,113 [DEBUG] [server] type: TRANSACTION
2025-06-16 00:38:28,113 [DEBUG] [server] sender_id: "node2"
2025-06-16 00:38:28,114 [DEBUG] [server] tx {
2025-06-16 00:38:28,114 [DEBUG] [server]   sender: "node2"
2025-06-16 00:38:28,114 [DEBUG] [server]   receiver: "node2"
2025-06-16 00:38:28,114 [DEBUG] [server]   amount: 10.0
2025-06-16 00:38:28,114 [DEBUG] [server]   timestamp: 1750005508.1073642
2025-06-16 00:38:28,114 [DEBUG] [server]   type: STAKE
2025-06-16 00:38:28,114 [DEBUG] [server] }
2025-06-16 00:38:28,114 [DEBUG] [server] 
2025-06-16 00:38:28,115 [DEBUG] [server] [2025-06-16 00:38:28] [INFO] [server:84] received message [TRANSACTION]
2025-06-16 00:38:28,115 [DEBUG] [server]   sender   : node1
2025-06-16 00:38:28,115 [DEBUG] [server]   full msg :
2025-06-16 00:38:28,115 [DEBUG] [server] type: TRANSACTION
2025-06-16 00:38:28,115 [DEBUG] [server] sender_id: "node1"
2025-06-16 00:38:28,115 [DEBUG] [server] tx {
2025-06-16 00:38:28,115 [DEBUG] [server]   sender: "node1"
2025-06-16 00:38:28,115 [DEBUG] [server]   receiver: "node1"
2025-06-16 00:38:28,115 [DEBUG] [server]   amount: 10.0
2025-06-16 00:38:28,116 [DEBUG] [server]   timestamp: 1750005508.1073952
2025-06-16 00:38:28,116 [DEBUG] [server]   type: STAKE
2025-06-16 00:38:28,116 [DEBUG] [server] }
2025-06-16 00:38:28,116 [DEBUG] [server] 
2025-06-16 00:38:28,116 [DEBUG] [node1] [2025-06-16 00:38:28] [INFO] [node1:273] received STAKE: node2 stakes 10.0
2025-06-16 00:38:28,116 [DEBUG] [node2] [2025-06-16 00:38:28] [INFO] [node2:273] received STAKE: node1 stakes 10.0
2025-06-16 00:38:31,802 [DEBUG] [DEBUG] 6s 无命令
2025-06-16 00:38:32,971 [INFO] >>> (node1) forge --force
2025-06-16 00:38:32,973 [DEBUG] [node1] [2025-06-16 00:38:32] [INFO] [node1:450] sent TRANSFER transaction: node1 -> node2 10.0
2025-06-16 00:38:32,974 [DEBUG] [node1] [2025-06-16 00:38:32] [WARNING] [node1:500] FORCING block forge -- skipping validator check!
2025-06-16 00:38:32,974 [DEBUG] [server] [2025-06-16 00:38:32] [INFO] [server:84] received message [TRANSACTION]
2025-06-16 00:38:32,974 [DEBUG] [server]   sender   : node1
2025-06-16 00:38:32,974 [DEBUG] [server]   full msg :
2025-06-16 00:38:32,974 [DEBUG] [server] type: TRANSACTION
2025-06-16 00:38:32,974 [DEBUG] [server] sender_id: "node1"
2025-06-16 00:38:32,974 [DEBUG] [server] tx {
2025-06-16 00:38:32,974 [DEBUG] [server]   sender: "node1"
2025-06-16 00:38:32,975 [DEBUG] [server]   receiver: "node2"
2025-06-16 00:38:32,975 [DEBUG] [server]   amount: 10.0
2025-06-16 00:38:32,975 [DEBUG] [server]   timestamp: 1750005512.972766
2025-06-16 00:38:32,975 [DEBUG] [server] }
2025-06-16 00:38:32,975 [DEBUG] [server] 
2025-06-16 00:38:32,975 [DEBUG] [node1] [2025-06-16 00:38:32] [INFO] [node1:518] Want to forge block 1 with hash aa19ec0f
2025-06-16 00:38:32,975 [DEBUG] [node1] [2025-06-16 00:38:32] [INFO] [node1:127] Voted to accept Block 1, hash=aa19ec0f
2025-06-16 00:38:32,975 [DEBUG] [node2] [2025-06-16 00:38:32] [INFO] [node2:267] received TRANSFER: node1 → node2, amount 10.0
2025-06-16 00:38:32,976 [DEBUG] [server] [2025-06-16 00:38:32] [INFO] [server:84] received message [BLOCK]
2025-06-16 00:38:32,976 [DEBUG] [server]   sender   : node1
2025-06-16 00:38:32,976 [DEBUG] [server]   full msg :
2025-06-16 00:38:32,976 [DEBUG] [server] type: BLOCK
2025-06-16 00:38:32,976 [DEBUG] [server] sender_id: "node1"
2025-06-16 00:38:32,976 [DEBUG] [server] block {
2025-06-16 00:38:32,976 [DEBUG] [server]   index: 1
2025-06-16 00:38:32,976 [DEBUG] [server]   prev_hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-16 00:38:32,977 [DEBUG] [server]   hash: "aa19ec0fdb95e69e224fc21000dc9ca7650efa56644f7f96d22415de16d1de1a"
2025-06-16 00:38:32,977 [DEBUG] [server]   validator: "node1"
2025-06-16 00:38:32,977 [DEBUG] [server]   transactions {
2025-06-16 00:38:32,977 [DEBUG] [server]     sender: "node1"
2025-06-16 00:38:32,977 [DEBUG] [server]     receiver: "node1"
2025-06-16 00:38:32,977 [DEBUG] [server]     amount: 10.0
2025-06-16 00:38:32,977 [DEBUG] [server]     timestamp: 1750005508.1073952
2025-06-16 00:38:32,977 [DEBUG] [server]     type: STAKE
2025-06-16 00:38:32,978 [DEBUG] [server]   }
2025-06-16 00:38:32,978 [DEBUG] [server]   transactions {
2025-06-16 00:38:32,978 [DEBUG] [server]     sender: "node2"
2025-06-16 00:38:32,978 [DEBUG] [server]     receiver: "node2"
2025-06-16 00:38:32,978 [DEBUG] [server]     amount: 10.0
2025-06-16 00:38:32,978 [DEBUG] [server]     timestamp: 1750005508.1073642
2025-06-16 00:38:32,978 [DEBUG] [server]     type: STAKE
2025-06-16 00:38:32,978 [DEBUG] [server]   }
2025-06-16 00:38:32,978 [DEBUG] [server]   transactions {
2025-06-16 00:38:32,978 [DEBUG] [server]     sender: "node1"
2025-06-16 00:38:32,978 [DEBUG] [server]     receiver: "node2"
2025-06-16 00:38:32,979 [DEBUG] [server]     amount: 10.0
2025-06-16 00:38:32,979 [DEBUG] [server]     timestamp: 1750005512.972766
2025-06-16 00:38:32,979 [DEBUG] [server]   }
2025-06-16 00:38:32,979 [DEBUG] [server]   timestamp: 1750005512.973653
2025-06-16 00:38:32,979 [DEBUG] [server] }
2025-06-16 00:38:32,979 [DEBUG] [server] 
2025-06-16 00:38:32,979 [DEBUG] [server] [2025-06-16 00:38:32] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-16 00:38:32,979 [DEBUG] [server]   sender   : node1
2025-06-16 00:38:32,979 [DEBUG] [server]   full msg :
2025-06-16 00:38:32,979 [DEBUG] [server] type: BLOCK_VOTE
2025-06-16 00:38:32,979 [DEBUG] [server] sender_id: "node1"
2025-06-16 00:38:32,979 [DEBUG] [server] block_vote {
2025-06-16 00:38:32,980 [DEBUG] [server]   voter_id: "node1"
2025-06-16 00:38:32,980 [DEBUG] [server]   block_hash: "aa19ec0fdb95e69e224fc21000dc9ca7650efa56644f7f96d22415de16d1de1a"
2025-06-16 00:38:32,980 [DEBUG] [server] }
2025-06-16 00:38:32,980 [DEBUG] [server] 
2025-06-16 00:38:32,980 [DEBUG] [node2] [2025-06-16 00:38:32] [INFO] [node2:127] Voted to accept Block 1, hash=aa19ec0f
2025-06-16 00:38:32,980 [DEBUG] [node2] [2025-06-16 00:38:32] [INFO] [node2:215] Received BLOCK_VOTE from node1 on block aa19ec0f
2025-06-16 00:38:32,980 [DEBUG] [node2] [2025-06-16 00:38:32] [INFO] [node2:233] Block aa19ec0f vote ratio: 1.00(1/1)
2025-06-16 00:38:32,980 [DEBUG] [node2] [2025-06-16 00:38:32] [INFO] [node2:239] Validated Block 1 from node1, processing...
2025-06-16 00:38:32,980 [DEBUG] [node2] [2025-06-16 00:38:32] [INFO] [blockchain:150] Adding block 1 to main chain
2025-06-16 00:38:32,980 [DEBUG] [node2] [2025-06-16 00:38:32] [INFO] [node2:143] Added new block 1 with hash aa19ec0f. Chain length is now 1(excluding genesis).
2025-06-16 00:38:32,981 [DEBUG] [node2] [2025-06-16 00:38:32] [INFO] [node2:241] added new block. Chain length is now 1(excluding genesis).
2025-06-16 00:38:32,981 [DEBUG] [server] [2025-06-16 00:38:32] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-16 00:38:32,981 [DEBUG] [server]   sender   : node2
2025-06-16 00:38:32,981 [DEBUG] [server]   full msg :
2025-06-16 00:38:32,981 [DEBUG] [server] type: BLOCK_VOTE
2025-06-16 00:38:32,981 [DEBUG] [server] sender_id: "node2"
2025-06-16 00:38:32,981 [DEBUG] [server] block_vote {
2025-06-16 00:38:32,981 [DEBUG] [server]   voter_id: "node2"
2025-06-16 00:38:32,981 [DEBUG] [server]   block_hash: "aa19ec0fdb95e69e224fc21000dc9ca7650efa56644f7f96d22415de16d1de1a"
2025-06-16 00:38:32,981 [DEBUG] [server] }
2025-06-16 00:38:32,981 [DEBUG] [server] 
2025-06-16 00:38:32,982 [DEBUG] [node1] [2025-06-16 00:38:32] [INFO] [node1:215] Received BLOCK_VOTE from node2 on block aa19ec0f
2025-06-16 00:38:32,982 [DEBUG] [node1] [2025-06-16 00:38:32] [INFO] [node1:233] Block aa19ec0f vote ratio: 1.00(1/1)
2025-06-16 00:38:32,982 [DEBUG] [node1] [2025-06-16 00:38:32] [INFO] [node1:239] Validated Block 1 from node1, processing...
2025-06-16 00:38:32,982 [DEBUG] [node1] [2025-06-16 00:38:32] [INFO] [blockchain:150] Adding block 1 to main chain
2025-06-16 00:38:32,982 [DEBUG] [node1] [2025-06-16 00:38:32] [INFO] [node1:143] Added new block 1 with hash aa19ec0f. Chain length is now 1(excluding genesis).
2025-06-16 00:38:32,982 [DEBUG] [node1] [2025-06-16 00:38:32] [INFO] [node1:241] added new block. Chain length is now 1(excluding genesis).
2025-06-16 00:39:18,369 [INFO] >>> (node2) forge --force
2025-06-16 00:39:18,373 [DEBUG] [node2] [2025-06-16 00:39:18] [WARNING] [node2:500] FORCING block forge -- skipping validator check!
2025-06-16 00:39:18,373 [DEBUG] [node2] [2025-06-16 00:39:18] [INFO] [node2:473] No transactions to pack into block.
2025-06-16 00:39:19,190 [DEBUG] [DEBUG] 9s 无命令
2025-06-16 00:40:31,435 [INFO] >>> (node2) tx node1 10
2025-06-16 00:40:31,437 [INFO] >>> (node2) forge --force
2025-06-16 00:40:31,448 [DEBUG] [node2] [2025-06-16 00:40:31] [INFO] [node2:450] sent TRANSFER transaction: node2 -> node1 10.0
2025-06-16 00:40:31,452 [DEBUG] [server] [2025-06-16 00:40:31] [INFO] [server:84] received message [TRANSACTION]
2025-06-16 00:40:31,452 [DEBUG] [server]   sender   : node2
2025-06-16 00:40:31,452 [DEBUG] [server]   full msg :
2025-06-16 00:40:31,452 [DEBUG] [server] type: TRANSACTION
2025-06-16 00:40:31,452 [DEBUG] [server] sender_id: "node2"
2025-06-16 00:40:31,452 [DEBUG] [server] tx {
2025-06-16 00:40:31,452 [DEBUG] [server]   sender: "node2"
2025-06-16 00:40:31,453 [DEBUG] [server]   receiver: "node1"
2025-06-16 00:40:31,453 [DEBUG] [server]   amount: 10.0
2025-06-16 00:40:31,453 [DEBUG] [server]   timestamp: 1750005631.441664
2025-06-16 00:40:31,453 [DEBUG] [server] }
2025-06-16 00:40:31,453 [DEBUG] [server] 
2025-06-16 00:40:31,456 [DEBUG] [node1] [2025-06-16 00:40:31] [INFO] [node1:267] received TRANSFER: node2 → node1, amount 10.0
2025-06-16 00:40:31,608 [DEBUG] [DEBUG] 11s 无命令
2025-06-16 00:40:31,747 [INFO] >>> (node1) info
2025-06-16 00:40:31,747 [INFO] >>> (node2) info
2025-06-16 00:40:31,748 [DEBUG] [node2] [2025-06-16 00:40:31] [WARNING] [node2:500] FORCING block forge -- skipping validator check!
2025-06-16 00:40:31,749 [DEBUG] [node2] [2025-06-16 00:40:31] [INFO] [node2:518] Want to forge block 2 with hash d62045d2
2025-06-16 00:40:31,749 [DEBUG] [node2] [2025-06-16 00:40:31] [INFO] [node2:127] Voted to accept Block 2, hash=d62045d2
2025-06-16 00:40:31,750 [DEBUG] [server] [2025-06-16 00:40:31] [INFO] [server:84] received message [BLOCK]
2025-06-16 00:40:31,750 [DEBUG] [server]   sender   : node2
2025-06-16 00:40:31,750 [DEBUG] [server]   full msg :
2025-06-16 00:40:31,750 [DEBUG] [server] type: BLOCK
2025-06-16 00:40:31,750 [DEBUG] [server] sender_id: "node2"
2025-06-16 00:40:31,750 [DEBUG] [server] block {
2025-06-16 00:40:31,751 [DEBUG] [server]   index: 2
2025-06-16 00:40:31,751 [DEBUG] [server]   prev_hash: "aa19ec0fdb95e69e224fc21000dc9ca7650efa56644f7f96d22415de16d1de1a"
2025-06-16 00:40:31,752 [DEBUG] [server]   hash: "d62045d2afdc10e096bd063d28d3a072129525ec9cd24a76633df76edffe8002"
2025-06-16 00:40:31,752 [DEBUG] [server]   validator: "node2"
2025-06-16 00:40:31,752 [DEBUG] [server]   transactions {
2025-06-16 00:40:31,753 [DEBUG] [server]     sender: "node2"
2025-06-16 00:40:31,753 [DEBUG] [server]     receiver: "node1"
2025-06-16 00:40:31,753 [DEBUG] [server]     amount: 10.0
2025-06-16 00:40:31,753 [DEBUG] [server]     timestamp: 1750005631.441664
2025-06-16 00:40:31,753 [DEBUG] [server]   }
2025-06-16 00:40:31,753 [DEBUG] [server]   timestamp: 1750005631.748054
2025-06-16 00:40:31,754 [DEBUG] [server] }
2025-06-16 00:40:31,754 [DEBUG] [server] 
2025-06-16 00:40:31,754 [DEBUG] [server] [2025-06-16 00:40:31] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-16 00:40:31,754 [DEBUG] [server]   sender   : node2
2025-06-16 00:40:31,755 [DEBUG] [server]   full msg :
2025-06-16 00:40:31,755 [DEBUG] [server] type: BLOCK_VOTE
2025-06-16 00:40:31,755 [DEBUG] [server] sender_id: "node2"
2025-06-16 00:40:31,755 [DEBUG] [server] block_vote {
2025-06-16 00:40:31,755 [DEBUG] [server]   voter_id: "node2"
2025-06-16 00:40:31,755 [DEBUG] [server]   block_hash: "d62045d2afdc10e096bd063d28d3a072129525ec9cd24a76633df76edffe8002"
2025-06-16 00:40:31,755 [DEBUG] [server] }
2025-06-16 00:40:31,756 [DEBUG] [server] 
2025-06-16 00:40:31,756 [DEBUG] [server] [2025-06-16 00:40:31] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-16 00:40:31,756 [DEBUG] [server]   sender   : node1
2025-06-16 00:40:31,756 [DEBUG] [server]   full msg :
2025-06-16 00:40:31,756 [DEBUG] [server] type: BLOCK_VOTE
2025-06-16 00:40:31,756 [DEBUG] [server] sender_id: "node1"
2025-06-16 00:40:31,757 [DEBUG] [server] block_vote {
2025-06-16 00:40:31,757 [DEBUG] [server]   voter_id: "node1"
2025-06-16 00:40:31,757 [DEBUG] [server]   block_hash: "d62045d2afdc10e096bd063d28d3a072129525ec9cd24a76633df76edffe8002"
2025-06-16 00:40:31,757 [DEBUG] [server] }
2025-06-16 00:40:31,758 [DEBUG] [server] 
2025-06-16 00:40:31,758 [DEBUG] [node1] [2025-06-16 00:40:31] [INFO] [node1:127] Voted to accept Block 2, hash=d62045d2
2025-06-16 00:40:31,758 [DEBUG] [node1] [2025-06-16 00:40:31] [INFO] [node1:215] Received BLOCK_VOTE from node2 on block d62045d2
2025-06-16 00:40:31,758 [DEBUG] [node1] [2025-06-16 00:40:31] [INFO] [node1:233] Block d62045d2 vote ratio: 1.00(2/2)
2025-06-16 00:40:31,758 [DEBUG] [node1] [2025-06-16 00:40:31] [INFO] [node1:239] Validated Block 2 from node2, processing...
2025-06-16 00:40:31,759 [DEBUG] [node2] [2025-06-16 00:40:31] [INFO] [node2:215] Received BLOCK_VOTE from node1 on block d62045d2
2025-06-16 00:40:31,759 [DEBUG] [node2] [2025-06-16 00:40:31] [INFO] [node2:233] Block d62045d2 vote ratio: 1.00(2/2)
2025-06-16 00:40:31,759 [DEBUG] [node2] [2025-06-16 00:40:31] [INFO] [node2:239] Validated Block 2 from node2, processing...
2025-06-16 00:40:31,760 [DEBUG] [node2] [2025-06-16 00:40:31] [INFO] [blockchain:150] Adding block 2 to main chain
2025-06-16 00:40:31,760 [DEBUG] [node2] [2025-06-16 00:40:31] [INFO] [node2:143] Added new block 2 with hash d62045d2. Chain length is now 2(excluding genesis).
2025-06-16 00:40:31,760 [DEBUG] [node2] [2025-06-16 00:40:31] [INFO] [node2:241] added new block. Chain length is now 2(excluding genesis).
2025-06-16 00:40:31,760 [DEBUG] [node1] [2025-06-16 00:40:31] [INFO] [blockchain:150] Adding block 2 to main chain
2025-06-16 00:40:31,760 [DEBUG] [node1] [2025-06-16 00:40:31] [INFO] [node1:143] Added new block 2 with hash d62045d2. Chain length is now 2(excluding genesis).
2025-06-16 00:40:31,760 [DEBUG] [node1] [2025-06-16 00:40:31] [INFO] [node1:241] added new block. Chain length is now 2(excluding genesis).
2025-06-16 00:40:32,661 [INFO] 结束等待 5.0s…
2025-06-16 00:40:37,663 [INFO] >>> (server) exit
2025-06-16 00:40:37,665 [DEBUG] [server] [2025-06-16 00:40:37] [INFO] [server:268] Shutting down server...
2025-06-16 00:40:37,666 [DEBUG] [server] [2025-06-16 00:40:37] [INFO] [server:287] Closing all client connections...
2025-06-16 00:40:37,667 [DEBUG] [server] [2025-06-16 00:40:37] [INFO] [server:156] Node node1 disconnected.
2025-06-16 00:40:37,667 [DEBUG] [node2] [2025-06-16 00:40:37] [INFO] [node2:103] Received BYE message from node server.
2025-06-16 00:40:37,668 [DEBUG] [node2] [2025-06-16 00:40:37] [INFO] [node2:105] Server is shutting down, exiting.
2025-06-16 00:40:37,668 [DEBUG] [node1] [2025-06-16 00:40:37] [INFO] [node1:103] Received BYE message from node server.
2025-06-16 00:40:37,668 [DEBUG] [node2] [2025-06-16 00:40:37] [INFO] [node2:574] Exiting.
2025-06-16 00:40:37,669 [DEBUG] [node1] [2025-06-16 00:40:37] [INFO] [node1:105] Server is shutting down, exiting.
2025-06-16 00:40:37,669 [DEBUG] [node1] [2025-06-16 00:40:37] [INFO] [node1:574] Exiting.
2025-06-16 00:40:37,669 [DEBUG] [server] [2025-06-16 00:40:37] [INFO] [server:156] Node node2 disconnected.
2025-06-16 00:40:37,670 [DEBUG] [server] [2025-06-16 00:40:37] [INFO] [server:294] Closing server socket...
2025-06-16 00:40:37,670 [DEBUG] [server] [2025-06-16 00:40:37] [INFO] [server:299] Server shutdown complete. Bye!
2025-06-16 00:40:37,672 [DEBUG] [node1] [2025-06-16 00:40:37] [INFO] [blockchain:264] Blockchain saved to data_node_node1
2025-06-16 00:40:37,673 [DEBUG] [node2] [2025-06-16 00:40:37] [INFO] [blockchain:264] Blockchain saved to data_node_node2
2025-06-16 00:40:37,674 [DEBUG] [node2] Node ID: node2
2025-06-16 00:40:37,674 [DEBUG] [node2] Known nodes: {'node1', 'node2'}
2025-06-16 00:40:37,674 [DEBUG] [node2] ========== Blockchain Structure ==========
2025-06-16 00:40:37,674 [DEBUG] [node2] Block 0 | hash=97045df0... | validator=genesis | tx_count=0 (main)
2025-06-16 00:40:37,675 [DEBUG] [node2] └── Block 1 | hash=aa19ec0f... | validator=node1 | tx_count=3 (main)
2025-06-16 00:40:37,675 [DEBUG] [node2] ===================================
2025-06-16 00:40:37,675 [DEBUG] [node2] ========== Account State ==========
2025-06-16 00:40:37,676 [DEBUG] [node2]  Account node1 | Balance=80.00 | Stake=10.00
2025-06-16 00:40:37,676 [DEBUG] [node2]  Account node2 | Balance=100.00 | Stake=10.00
2025-06-16 00:40:37,676 [DEBUG] [node2]  Account node3 | Balance=100.00 | Stake=0.00
2025-06-16 00:40:37,676 [DEBUG] [node2] ===================================
2025-06-16 00:40:37,676 [DEBUG] [node2] ========== Pending Transactions ==========
2025-06-16 00:40:37,677 [DEBUG] [node2]   Transaction(node2 -> node1, 10.0, type=TRANSFER)
2025-06-16 00:40:37,677 [DEBUG] [node2] ==========================================
2025-06-16 00:40:37,677 [DEBUG] [node1] Node ID: node1
2025-06-16 00:40:37,677 [DEBUG] [node1] Known nodes: {'node2', 'node1'}
2025-06-16 00:40:37,677 [DEBUG] [node1] ========== Blockchain Structure ==========
2025-06-16 00:40:37,677 [DEBUG] [node1] Block 0 | hash=97045df0... | validator=genesis | tx_count=0 (main)
2025-06-16 00:40:37,678 [DEBUG] [node1] └── Block 1 | hash=aa19ec0f... | validator=node1 | tx_count=3 (main)
2025-06-16 00:40:37,678 [DEBUG] [node1] ===================================
2025-06-16 00:40:37,678 [DEBUG] [node1] ========== Account State ==========
2025-06-16 00:40:37,678 [DEBUG] [node1]  Account node1 | Balance=80.00 | Stake=10.00
2025-06-16 00:40:37,678 [DEBUG] [node1]  Account node2 | Balance=100.00 | Stake=10.00
2025-06-16 00:40:37,678 [DEBUG] [node1]  Account node3 | Balance=100.00 | Stake=0.00
2025-06-16 00:40:37,678 [DEBUG] [node1] ===================================
2025-06-16 00:40:37,678 [DEBUG] [node1] ========== Pending Transactions ==========
2025-06-16 00:40:37,679 [DEBUG] [node1]   Transaction(node2 -> node1, 10.0, type=TRANSFER)
2025-06-16 00:40:37,679 [DEBUG] [node1] ==========================================
2025-06-16 00:40:37,700 [INFO] server 已优雅退出
2025-06-16 00:40:37,700 [INFO] 等待节点自动下线 5.0s…
2025-06-16 00:42:25,871 [DEBUG] Using selector: KqueueSelector
2025-06-16 00:42:25,873 [INFO] 启动 server (pid=45457)
2025-06-16 00:42:25,874 [INFO] 等待服务器 127.0.0.1:5000 …
2025-06-16 00:42:25,948 [DEBUG] [server] [2025-06-16 00:42:25] [INFO] [server:44] Async server started on 127.0.0.1:5000
2025-06-16 00:42:26,176 [INFO] 服务器端口就绪
2025-06-16 00:42:26,179 [DEBUG] [server] [2025-06-16 00:42:26] [INFO] [server:62] New connection from ('127.0.0.1', 52044)
2025-06-16 00:42:26,180 [INFO] 启动 node1 (pid=45458)
2025-06-16 00:42:26,184 [INFO] 启动 node2 (pid=45459)
2025-06-16 00:42:26,184 [INFO] DEBUG 模式：按 Enter 推进 1 秒，输入 q 退出
2025-06-16 00:42:26,184 [INFO] >>> (server) stop
2025-06-16 00:42:26,187 [DEBUG] [server] [2025-06-16 00:42:26] [INFO] [server:252] Stopped sending STEP messages
2025-06-16 00:42:26,272 [DEBUG] [node1] [2025-06-16 00:42:26] [INFO] [blockchain:288] Blockchain loaded successfully from data_node_node1. Chain length=2
2025-06-16 00:42:26,272 [DEBUG] [node2] [2025-06-16 00:42:26] [INFO] [blockchain:288] Blockchain loaded successfully from data_node_node2. Chain length=2
2025-06-16 00:42:26,274 [DEBUG] [server] [2025-06-16 00:42:26] [INFO] [server:62] New connection from ('127.0.0.1', 52046)
2025-06-16 00:42:26,274 [DEBUG] [server] [2025-06-16 00:42:26] [INFO] [server:62] New connection from ('127.0.0.1', 52045)
2025-06-16 00:42:26,277 [DEBUG] [server] [2025-06-16 00:42:26] [INFO] [server:84] received message [HELLO]
2025-06-16 00:42:26,277 [DEBUG] [server]   sender   : node1
2025-06-16 00:42:26,277 [DEBUG] [server]   full msg :
2025-06-16 00:42:26,277 [DEBUG] [server] sender_id: "node1"
2025-06-16 00:42:26,277 [DEBUG] [server] 
2025-06-16 00:42:26,278 [DEBUG] [node1] [2025-06-16 00:42:26] [INFO] [node1:420] Sent SYNC_REQUEST to network
2025-06-16 00:42:26,278 [DEBUG] [node2] [2025-06-16 00:42:26] [INFO] [node2:420] Sent SYNC_REQUEST to network
2025-06-16 00:42:26,279 [DEBUG] [node1] [2025-06-16 00:42:26] [INFO] [node1:79] Node node1 started. Connected to server at 127.0.0.1:5000.
2025-06-16 00:42:26,279 [DEBUG] [node1] [2025-06-16 00:42:26] [INFO] [node1:80] Current chain length: 2 (excluding genesis)
2025-06-16 00:42:26,279 [DEBUG] [node2] [2025-06-16 00:42:26] [INFO] [node2:79] Node node2 started. Connected to server at 127.0.0.1:5000.
2025-06-16 00:42:26,279 [DEBUG] [node2] [2025-06-16 00:42:26] [INFO] [node2:80] Current chain length: 2 (excluding genesis)
2025-06-16 00:42:26,281 [DEBUG] [server] [2025-06-16 00:42:26] [INFO] [server:84] received message [SYNC_REQUEST]
2025-06-16 00:42:26,281 [DEBUG] [server]   sender   : node1
2025-06-16 00:42:26,281 [DEBUG] [server]   full msg :
2025-06-16 00:42:26,282 [DEBUG] [server] type: SYNC_REQUEST
2025-06-16 00:42:26,282 [DEBUG] [server] sender_id: "node1"
2025-06-16 00:42:26,282 [DEBUG] [server] 
2025-06-16 00:42:26,282 [DEBUG] [node2] [2025-06-16 00:42:26] [INFO] [node2:97] Received HELLO message from node node1.
2025-06-16 00:42:26,282 [DEBUG] [server] [2025-06-16 00:42:26] [INFO] [server:84] received message [HELLO]
2025-06-16 00:42:26,282 [DEBUG] [server]   sender   : node2
2025-06-16 00:42:26,282 [DEBUG] [server]   full msg :
2025-06-16 00:42:26,282 [DEBUG] [server] sender_id: "node2"
2025-06-16 00:42:26,282 [DEBUG] [server] 
2025-06-16 00:42:26,282 [DEBUG] [server] [2025-06-16 00:42:26] [INFO] [server:84] received message [SYNC_REQUEST]
2025-06-16 00:42:26,282 [DEBUG] [server]   sender   : node2
2025-06-16 00:42:26,282 [DEBUG] [server]   full msg :
2025-06-16 00:42:26,282 [DEBUG] [server] type: SYNC_REQUEST
2025-06-16 00:42:26,282 [DEBUG] [server] sender_id: "node2"
2025-06-16 00:42:26,282 [DEBUG] [server] 
2025-06-16 00:42:26,282 [DEBUG] [node2] [2025-06-16 00:42:26] [INFO] [node2:292] Received SYNC_REQUEST from node1, sending SYNC_RESPONSE
2025-06-16 00:42:26,282 [DEBUG] [node1] [2025-06-16 00:42:26] [INFO] [node1:97] Received HELLO message from node node2.
2025-06-16 00:42:26,282 [DEBUG] [node1] [2025-06-16 00:42:26] [INFO] [node1:292] Received SYNC_REQUEST from node2, sending SYNC_RESPONSE
2025-06-16 00:42:26,283 [DEBUG] [server] [2025-06-16 00:42:26] [INFO] [server:84] received message [SYNC_RESPONSE]
2025-06-16 00:42:26,283 [DEBUG] [server]   sender   : node2
2025-06-16 00:42:26,283 [DEBUG] [server]   full msg :
2025-06-16 00:42:26,283 [DEBUG] [server] type: SYNC_RESPONSE
2025-06-16 00:42:26,283 [DEBUG] [server] sender_id: "node2"
2025-06-16 00:42:26,283 [DEBUG] [server] sync_response {
2025-06-16 00:42:26,283 [DEBUG] [server]   blocks {
2025-06-16 00:42:26,283 [DEBUG] [server]     prev_hash: "0000000000000000000000000000000000000000000000000000000000000000"
2025-06-16 00:42:26,283 [DEBUG] [server]     hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-16 00:42:26,283 [DEBUG] [server]     validator: "genesis"
2025-06-16 00:42:26,283 [DEBUG] [server]   }
2025-06-16 00:42:26,283 [DEBUG] [server]   blocks {
2025-06-16 00:42:26,283 [DEBUG] [server]     index: 1
2025-06-16 00:42:26,283 [DEBUG] [server]     prev_hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-16 00:42:26,283 [DEBUG] [server]     hash: "aa19ec0fdb95e69e224fc21000dc9ca7650efa56644f7f96d22415de16d1de1a"
2025-06-16 00:42:26,283 [DEBUG] [server]     validator: "node1"
2025-06-16 00:42:26,283 [DEBUG] [server]     transactions {
2025-06-16 00:42:26,283 [DEBUG] [server]       sender: "node1"
2025-06-16 00:42:26,283 [DEBUG] [server]       receiver: "node1"
2025-06-16 00:42:26,283 [DEBUG] [server]       amount: 10.0
2025-06-16 00:42:26,283 [DEBUG] [server]       timestamp: 1750005508.1073952
2025-06-16 00:42:26,283 [DEBUG] [server]       type: STAKE
2025-06-16 00:42:26,283 [DEBUG] [server]     }
2025-06-16 00:42:26,284 [DEBUG] [server]     transactions {
2025-06-16 00:42:26,284 [DEBUG] [server]       sender: "node2"
2025-06-16 00:42:26,284 [DEBUG] [server]       receiver: "node2"
2025-06-16 00:42:26,284 [DEBUG] [server]       amount: 10.0
2025-06-16 00:42:26,284 [DEBUG] [server]       timestamp: 1750005508.1073642
2025-06-16 00:42:26,284 [DEBUG] [server]       type: STAKE
2025-06-16 00:42:26,284 [DEBUG] [server]     }
2025-06-16 00:42:26,284 [DEBUG] [server]     transactions {
2025-06-16 00:42:26,284 [DEBUG] [server]       sender: "node1"
2025-06-16 00:42:26,284 [DEBUG] [server]       receiver: "node2"
2025-06-16 00:42:26,284 [DEBUG] [server]       amount: 10.0
2025-06-16 00:42:26,284 [DEBUG] [server]       timestamp: 1750005512.972766
2025-06-16 00:42:26,284 [DEBUG] [server]     }
2025-06-16 00:42:26,284 [DEBUG] [server]     timestamp: 1750005512.973653
2025-06-16 00:42:26,284 [DEBUG] [server]   }
2025-06-16 00:42:26,284 [DEBUG] [server]   blocks {
2025-06-16 00:42:26,284 [DEBUG] [server]     index: 2
2025-06-16 00:42:26,284 [DEBUG] [server]     prev_hash: "aa19ec0fdb95e69e224fc21000dc9ca7650efa56644f7f96d22415de16d1de1a"
2025-06-16 00:42:26,284 [DEBUG] [server]     hash: "d62045d2afdc10e096bd063d28d3a072129525ec9cd24a76633df76edffe8002"
2025-06-16 00:42:26,284 [DEBUG] [server]     validator: "node2"
2025-06-16 00:42:26,284 [DEBUG] [server]     transactions {
2025-06-16 00:42:26,284 [DEBUG] [server]       sender: "node2"
2025-06-16 00:42:26,285 [DEBUG] [server]       receiver: "node1"
2025-06-16 00:42:26,285 [DEBUG] [server]       amount: 10.0
2025-06-16 00:42:26,285 [DEBUG] [server]       timestamp: 1750005631.441664
2025-06-16 00:42:26,285 [DEBUG] [server]     }
2025-06-16 00:42:26,285 [DEBUG] [server]     timestamp: 1750005631.748054
2025-06-16 00:42:26,285 [DEBUG] [server]   }
2025-06-16 00:42:26,285 [DEBUG] [server] }
2025-06-16 00:42:26,285 [DEBUG] [server] 
2025-06-16 00:42:26,285 [DEBUG] [node1] [2025-06-16 00:42:26] [INFO] [node1:315] Received SYNC_RESPONSE from node2, storing response
2025-06-16 00:42:26,285 [DEBUG] [server] [2025-06-16 00:42:26] [INFO] [server:84] received message [SYNC_RESPONSE]
2025-06-16 00:42:26,285 [DEBUG] [server]   sender   : node1
2025-06-16 00:42:26,285 [DEBUG] [server]   full msg :
2025-06-16 00:42:26,285 [DEBUG] [server] type: SYNC_RESPONSE
2025-06-16 00:42:26,285 [DEBUG] [server] sender_id: "node1"
2025-06-16 00:42:26,285 [DEBUG] [server] sync_response {
2025-06-16 00:42:26,285 [DEBUG] [server]   blocks {
2025-06-16 00:42:26,285 [DEBUG] [server]     prev_hash: "0000000000000000000000000000000000000000000000000000000000000000"
2025-06-16 00:42:26,285 [DEBUG] [server]     hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-16 00:42:26,285 [DEBUG] [server]     validator: "genesis"
2025-06-16 00:42:26,285 [DEBUG] [server]   }
2025-06-16 00:42:26,285 [DEBUG] [server]   blocks {
2025-06-16 00:42:26,285 [DEBUG] [server]     index: 1
2025-06-16 00:42:26,286 [DEBUG] [server]     prev_hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-16 00:42:26,286 [DEBUG] [server]     hash: "aa19ec0fdb95e69e224fc21000dc9ca7650efa56644f7f96d22415de16d1de1a"
2025-06-16 00:42:26,286 [DEBUG] [server]     validator: "node1"
2025-06-16 00:42:26,286 [DEBUG] [server]     transactions {
2025-06-16 00:42:26,286 [DEBUG] [server]       sender: "node1"
2025-06-16 00:42:26,286 [DEBUG] [server]       receiver: "node1"
2025-06-16 00:42:26,286 [DEBUG] [server]       amount: 10.0
2025-06-16 00:42:26,286 [DEBUG] [server]       timestamp: 1750005508.1073952
2025-06-16 00:42:26,286 [DEBUG] [server]       type: STAKE
2025-06-16 00:42:26,286 [DEBUG] [server]     }
2025-06-16 00:42:26,286 [DEBUG] [server]     transactions {
2025-06-16 00:42:26,286 [DEBUG] [server]       sender: "node2"
2025-06-16 00:42:26,286 [DEBUG] [server]       receiver: "node2"
2025-06-16 00:42:26,286 [DEBUG] [server]       amount: 10.0
2025-06-16 00:42:26,286 [DEBUG] [server]       timestamp: 1750005508.1073642
2025-06-16 00:42:26,286 [DEBUG] [server]       type: STAKE
2025-06-16 00:42:26,286 [DEBUG] [server]     }
2025-06-16 00:42:26,286 [DEBUG] [server]     transactions {
2025-06-16 00:42:26,286 [DEBUG] [server]       sender: "node1"
2025-06-16 00:42:26,286 [DEBUG] [server]       receiver: "node2"
2025-06-16 00:42:26,286 [DEBUG] [server]       amount: 10.0
2025-06-16 00:42:26,286 [DEBUG] [server]       timestamp: 1750005512.972766
2025-06-16 00:42:26,286 [DEBUG] [server]     }
2025-06-16 00:42:26,287 [DEBUG] [server]     timestamp: 1750005512.973653
2025-06-16 00:42:26,287 [DEBUG] [server]   }
2025-06-16 00:42:26,287 [DEBUG] [server]   blocks {
2025-06-16 00:42:26,287 [DEBUG] [server]     index: 2
2025-06-16 00:42:26,287 [DEBUG] [server]     prev_hash: "aa19ec0fdb95e69e224fc21000dc9ca7650efa56644f7f96d22415de16d1de1a"
2025-06-16 00:42:26,287 [DEBUG] [server]     hash: "d62045d2afdc10e096bd063d28d3a072129525ec9cd24a76633df76edffe8002"
2025-06-16 00:42:26,287 [DEBUG] [server]     validator: "node2"
2025-06-16 00:42:26,287 [DEBUG] [server]     transactions {
2025-06-16 00:42:26,287 [DEBUG] [server]       sender: "node2"
2025-06-16 00:42:26,287 [DEBUG] [server]       receiver: "node1"
2025-06-16 00:42:26,287 [DEBUG] [server]       amount: 10.0
2025-06-16 00:42:26,287 [DEBUG] [server]       timestamp: 1750005631.441664
2025-06-16 00:42:26,287 [DEBUG] [server]     }
2025-06-16 00:42:26,287 [DEBUG] [server]     timestamp: 1750005631.748054
2025-06-16 00:42:26,287 [DEBUG] [server]   }
2025-06-16 00:42:26,287 [DEBUG] [server] }
2025-06-16 00:42:26,288 [DEBUG] [server] 
2025-06-16 00:42:26,288 [DEBUG] [node2] [2025-06-16 00:42:26] [INFO] [node2:315] Received SYNC_RESPONSE from node1, storing response
2025-06-16 00:42:28,284 [DEBUG] [node2] [2025-06-16 00:42:28] [INFO] [node2:387] SYNC_RESPONSE collection finished. Processing responses.
2025-06-16 00:42:28,284 [DEBUG] [node1] [2025-06-16 00:42:28] [INFO] [node1:387] SYNC_RESPONSE collection finished. Processing responses.
2025-06-16 00:42:28,285 [DEBUG] [node1] [2025-06-16 00:42:28] [INFO] [node1:377] SYNC_RESPONSE from node2: chain length=3     head=d62045d2
2025-06-16 00:42:28,285 [DEBUG] [node2] [2025-06-16 00:42:28] [INFO] [node2:377] SYNC_RESPONSE from node1: chain length=3     head=d62045d2
2025-06-16 00:42:28,285 [DEBUG] [node2] [2025-06-16 00:42:28] [INFO] [node2:406] no need to sync chain, best chain same with local chain
2025-06-16 00:42:28,286 [DEBUG] [node1] [2025-06-16 00:42:28] [INFO] [node1:406] no need to sync chain, best chain same with local chain
2025-06-16 00:42:31,524 [DEBUG] [DEBUG] 1s 无命令
2025-06-16 00:42:32,637 [DEBUG] [DEBUG] 2s 无命令
2025-06-16 00:42:33,033 [DEBUG] [DEBUG] 3s 无命令
2025-06-16 00:42:33,340 [DEBUG] [DEBUG] 4s 无命令
2025-06-16 00:42:33,576 [INFO] >>> (node1) stake 10
2025-06-16 00:42:33,576 [INFO] >>> (node1) tx node2 10
2025-06-16 00:42:33,577 [DEBUG] [node1] [2025-06-16 00:42:33] [INFO] [node1:450] sent STAKE transaction: node1 -> node1 10.0
2025-06-16 00:42:33,578 [DEBUG] [node1] [2025-06-16 00:42:33] [INFO] [node1:592] Want to stake 10.0 tokens.
2025-06-16 00:42:33,578 [DEBUG] [server] [2025-06-16 00:42:33] [INFO] [server:84] received message [TRANSACTION]
2025-06-16 00:42:33,578 [DEBUG] [server]   sender   : node1
2025-06-16 00:42:33,578 [DEBUG] [server]   full msg :
2025-06-16 00:42:33,578 [DEBUG] [server] type: TRANSACTION
2025-06-16 00:42:33,578 [DEBUG] [server] sender_id: "node1"
2025-06-16 00:42:33,579 [DEBUG] [server] tx {
2025-06-16 00:42:33,579 [DEBUG] [server]   sender: "node1"
2025-06-16 00:42:33,579 [DEBUG] [server]   receiver: "node1"
2025-06-16 00:42:33,579 [DEBUG] [server]   amount: 10.0
2025-06-16 00:42:33,579 [DEBUG] [server]   timestamp: 1750005753.576792
2025-06-16 00:42:33,579 [DEBUG] [server]   type: STAKE
2025-06-16 00:42:33,579 [DEBUG] [server] }
2025-06-16 00:42:33,579 [DEBUG] [server] 
2025-06-16 00:42:33,579 [DEBUG] [node2] [2025-06-16 00:42:33] [INFO] [node2:273] received STAKE: node1 stakes 10.0
2025-06-16 00:42:34,878 [DEBUG] [DEBUG] 6s 无命令
2025-06-16 00:42:35,832 [INFO] >>> (node1) forge --force
2025-06-16 00:42:35,832 [INFO] >>> (node2) stake 10
2025-06-16 00:42:35,833 [DEBUG] [node1] [2025-06-16 00:42:35] [INFO] [node1:450] sent TRANSFER transaction: node1 -> node2 10.0
2025-06-16 00:42:35,834 [DEBUG] [node1] [2025-06-16 00:42:35] [WARNING] [node1:500] FORCING block forge -- skipping validator check!
2025-06-16 00:42:35,834 [DEBUG] [node2] [2025-06-16 00:42:35] [INFO] [node2:450] sent STAKE transaction: node2 -> node2 10.0
2025-06-16 00:42:35,834 [DEBUG] [node2] [2025-06-16 00:42:35] [INFO] [node2:592] Want to stake 10.0 tokens.
2025-06-16 00:42:35,835 [DEBUG] [server] [2025-06-16 00:42:35] [INFO] [server:84] received message [TRANSACTION]
2025-06-16 00:42:35,835 [DEBUG] [server]   sender   : node1
2025-06-16 00:42:35,835 [DEBUG] [server]   full msg :
2025-06-16 00:42:35,835 [DEBUG] [server] type: TRANSACTION
2025-06-16 00:42:35,836 [DEBUG] [server] sender_id: "node1"
2025-06-16 00:42:35,836 [DEBUG] [server] tx {
2025-06-16 00:42:35,836 [DEBUG] [server]   sender: "node1"
2025-06-16 00:42:35,836 [DEBUG] [server]   receiver: "node2"
2025-06-16 00:42:35,836 [DEBUG] [server]   amount: 10.0
2025-06-16 00:42:35,837 [DEBUG] [server]   timestamp: 1750005755.832745
2025-06-16 00:42:35,837 [DEBUG] [server] }
2025-06-16 00:42:35,837 [DEBUG] [server] 
2025-06-16 00:42:35,837 [DEBUG] [node1] [2025-06-16 00:42:35] [INFO] [node1:518] Want to forge block 3 with hash e859acfd
2025-06-16 00:42:35,837 [DEBUG] [server] [2025-06-16 00:42:35] [INFO] [server:84] received message [TRANSACTION]
2025-06-16 00:42:35,838 [DEBUG] [server]   sender   : node2
2025-06-16 00:42:35,838 [DEBUG] [server]   full msg :
2025-06-16 00:42:35,838 [DEBUG] [server] type: TRANSACTION
2025-06-16 00:42:35,838 [DEBUG] [server] sender_id: "node2"
2025-06-16 00:42:35,839 [DEBUG] [server] tx {
2025-06-16 00:42:35,839 [DEBUG] [server]   sender: "node2"
2025-06-16 00:42:35,839 [DEBUG] [server]   receiver: "node2"
2025-06-16 00:42:35,839 [DEBUG] [server]   amount: 10.0
2025-06-16 00:42:35,839 [DEBUG] [server]   timestamp: 1750005755.833003
2025-06-16 00:42:35,839 [DEBUG] [server]   type: STAKE
2025-06-16 00:42:35,839 [DEBUG] [server] }
2025-06-16 00:42:35,839 [DEBUG] [server] 
2025-06-16 00:42:35,840 [DEBUG] [server] [2025-06-16 00:42:35] [INFO] [server:84] received message [BLOCK]
2025-06-16 00:42:35,840 [DEBUG] [server]   sender   : node1
2025-06-16 00:42:35,840 [DEBUG] [server]   full msg :
2025-06-16 00:42:35,840 [DEBUG] [server] type: BLOCK
2025-06-16 00:42:35,840 [DEBUG] [server] sender_id: "node1"
2025-06-16 00:42:35,840 [DEBUG] [server] block {
2025-06-16 00:42:35,840 [DEBUG] [server]   index: 3
2025-06-16 00:42:35,841 [DEBUG] [server]   prev_hash: "d62045d2afdc10e096bd063d28d3a072129525ec9cd24a76633df76edffe8002"
2025-06-16 00:42:35,841 [DEBUG] [server]   hash: "e859acfdb87c59ddddfb0c134cde6b7c83f3e39426fb0ebeb4ab8ff5ad820f6e"
2025-06-16 00:42:35,841 [DEBUG] [server]   validator: "node1"
2025-06-16 00:42:35,841 [DEBUG] [server]   transactions {
2025-06-16 00:42:35,841 [DEBUG] [server]     sender: "node1"
2025-06-16 00:42:35,841 [DEBUG] [server]     receiver: "node1"
2025-06-16 00:42:35,841 [DEBUG] [server]     amount: 10.0
2025-06-16 00:42:35,842 [DEBUG] [server]     timestamp: 1750005753.576792
2025-06-16 00:42:35,842 [DEBUG] [server]     type: STAKE
2025-06-16 00:42:35,842 [DEBUG] [server]   }
2025-06-16 00:42:35,842 [DEBUG] [server]   transactions {
2025-06-16 00:42:35,842 [DEBUG] [server]     sender: "node1"
2025-06-16 00:42:35,842 [DEBUG] [server]     receiver: "node2"
2025-06-16 00:42:35,842 [DEBUG] [server]     amount: 10.0
2025-06-16 00:42:35,842 [DEBUG] [server]     timestamp: 1750005755.832745
2025-06-16 00:42:35,843 [DEBUG] [server]   }
2025-06-16 00:42:35,843 [DEBUG] [server]   timestamp: 1750005755.8337128
2025-06-16 00:42:35,843 [DEBUG] [server] }
2025-06-16 00:42:35,843 [DEBUG] [server] 
2025-06-16 00:42:35,843 [DEBUG] [server] [2025-06-16 00:42:35] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-16 00:42:35,843 [DEBUG] [server]   sender   : node1
2025-06-16 00:42:35,843 [DEBUG] [server]   full msg :
2025-06-16 00:42:35,844 [DEBUG] [server] type: BLOCK_VOTE
2025-06-16 00:42:35,844 [DEBUG] [server] sender_id: "node1"
2025-06-16 00:42:35,844 [DEBUG] [server] block_vote {
2025-06-16 00:42:35,857 [DEBUG] [server]   voter_id: "node1"
2025-06-16 00:42:35,857 [DEBUG] [server]   block_hash: "e859acfdb87c59ddddfb0c134cde6b7c83f3e39426fb0ebeb4ab8ff5ad820f6e"
2025-06-16 00:42:35,858 [DEBUG] [server] }
2025-06-16 00:42:35,858 [DEBUG] [server] 
2025-06-16 00:42:35,858 [DEBUG] [node1] [2025-06-16 00:42:35] [INFO] [node1:127] Voted to accept Block 3, hash=e859acfd
2025-06-16 00:42:35,858 [DEBUG] [node1] [2025-06-16 00:42:35] [INFO] [node1:273] received STAKE: node2 stakes 10.0
2025-06-16 00:42:35,858 [DEBUG] [node2] [2025-06-16 00:42:35] [INFO] [node2:267] received TRANSFER: node1 → node2, amount 10.0
2025-06-16 00:42:35,858 [DEBUG] [node2] [2025-06-16 00:42:35] [INFO] [node2:127] Voted to accept Block 3, hash=e859acfd
2025-06-16 00:42:35,858 [DEBUG] [node2] [2025-06-16 00:42:35] [INFO] [node2:215] Received BLOCK_VOTE from node1 on block e859acfd
2025-06-16 00:42:35,859 [DEBUG] [node2] [2025-06-16 00:42:35] [INFO] [node2:233] Block e859acfd vote ratio: 1.00(2/2)
2025-06-16 00:42:35,859 [DEBUG] [node2] [2025-06-16 00:42:35] [INFO] [node2:239] Validated Block 3 from node1, processing...
2025-06-16 00:42:35,859 [DEBUG] [node2] [2025-06-16 00:42:35] [INFO] [blockchain:150] Adding block 3 to main chain
2025-06-16 00:42:35,859 [DEBUG] [node2] [2025-06-16 00:42:35] [INFO] [node2:143] Added new block 3 with hash e859acfd. Chain length is now 3(excluding genesis).
2025-06-16 00:42:35,860 [DEBUG] [node2] [2025-06-16 00:42:35] [INFO] [node2:241] added new block. Chain length is now 3(excluding genesis).
2025-06-16 00:42:35,861 [DEBUG] [server] [2025-06-16 00:42:35] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-16 00:42:35,882 [DEBUG] [server]   sender   : node2
2025-06-16 00:42:35,882 [DEBUG] [server]   full msg :
2025-06-16 00:42:35,887 [DEBUG] [server] type: BLOCK_VOTE
2025-06-16 00:42:35,890 [DEBUG] [server] sender_id: "node2"
2025-06-16 00:42:35,891 [DEBUG] [server] block_vote {
2025-06-16 00:42:35,891 [DEBUG] [server]   voter_id: "node2"
2025-06-16 00:42:35,891 [DEBUG] [server]   block_hash: "e859acfdb87c59ddddfb0c134cde6b7c83f3e39426fb0ebeb4ab8ff5ad820f6e"
2025-06-16 00:42:35,891 [DEBUG] [server] }
2025-06-16 00:42:35,891 [DEBUG] [server] 
2025-06-16 00:42:35,891 [DEBUG] [node1] [2025-06-16 00:42:35] [INFO] [node1:215] Received BLOCK_VOTE from node2 on block e859acfd
2025-06-16 00:42:35,891 [DEBUG] [node1] [2025-06-16 00:42:35] [INFO] [node1:233] Block e859acfd vote ratio: 1.00(2/2)
2025-06-16 00:42:35,891 [DEBUG] [node1] [2025-06-16 00:42:35] [INFO] [node1:239] Validated Block 3 from node1, processing...
2025-06-16 00:42:35,891 [DEBUG] [node1] [2025-06-16 00:42:35] [INFO] [blockchain:150] Adding block 3 to main chain
2025-06-16 00:42:35,891 [DEBUG] [node1] [2025-06-16 00:42:35] [INFO] [node1:143] Added new block 3 with hash e859acfd. Chain length is now 3(excluding genesis).
2025-06-16 00:42:35,891 [DEBUG] [node1] [2025-06-16 00:42:35] [INFO] [node1:241] added new block. Chain length is now 3(excluding genesis).
2025-06-16 00:45:41,056 [INFO] >>> (node2) forge --force
2025-06-16 00:45:41,062 [DEBUG] [node2] [2025-06-16 00:45:41] [WARNING] [node2:500] FORCING block forge -- skipping validator check!
2025-06-16 00:45:41,063 [DEBUG] [node2] [2025-06-16 00:45:41] [INFO] [node2:518] Want to forge block 4 with hash 7bd22915
2025-06-16 00:45:41,063 [DEBUG] [node2] [2025-06-16 00:45:41] [INFO] [node2:127] Voted to accept Block 4, hash=7bd22915
2025-06-16 00:45:41,071 [DEBUG] [server] [2025-06-16 00:45:41] [INFO] [server:84] received message [BLOCK]
2025-06-16 00:45:41,072 [DEBUG] [server]   sender   : node2
2025-06-16 00:45:41,072 [DEBUG] [server]   full msg :
2025-06-16 00:45:41,072 [DEBUG] [server] type: BLOCK
2025-06-16 00:45:41,072 [DEBUG] [server] sender_id: "node2"
2025-06-16 00:45:41,072 [DEBUG] [server] block {
2025-06-16 00:45:41,073 [DEBUG] [server]   index: 4
2025-06-16 00:45:41,073 [DEBUG] [server]   prev_hash: "e859acfdb87c59ddddfb0c134cde6b7c83f3e39426fb0ebeb4ab8ff5ad820f6e"
2025-06-16 00:45:41,073 [DEBUG] [server]   hash: "7bd229155fc9ad106d264b8bb11d8f9d953903106f0c10de92d8c158b5095593"
2025-06-16 00:45:41,073 [DEBUG] [server]   validator: "node2"
2025-06-16 00:45:41,073 [DEBUG] [server]   transactions {
2025-06-16 00:45:41,073 [DEBUG] [server]     sender: "node2"
2025-06-16 00:45:41,073 [DEBUG] [server]     receiver: "node2"
2025-06-16 00:45:41,073 [DEBUG] [server]     amount: 10.0
2025-06-16 00:45:41,074 [DEBUG] [server]     timestamp: 1750005755.833003
2025-06-16 00:45:41,074 [DEBUG] [server]     type: STAKE
2025-06-16 00:45:41,074 [DEBUG] [server]   }
2025-06-16 00:45:41,074 [DEBUG] [server]   timestamp: 1750005941.0618932
2025-06-16 00:45:41,074 [DEBUG] [server] }
2025-06-16 00:45:41,074 [DEBUG] [server] 
2025-06-16 00:45:41,074 [DEBUG] [server] [2025-06-16 00:45:41] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-16 00:45:41,075 [DEBUG] [server]   sender   : node2
2025-06-16 00:45:41,075 [DEBUG] [server]   full msg :
2025-06-16 00:45:41,075 [DEBUG] [server] type: BLOCK_VOTE
2025-06-16 00:45:41,075 [DEBUG] [server] sender_id: "node2"
2025-06-16 00:45:41,075 [DEBUG] [server] block_vote {
2025-06-16 00:45:41,075 [DEBUG] [server]   voter_id: "node2"
2025-06-16 00:45:41,075 [DEBUG] [server]   block_hash: "7bd229155fc9ad106d264b8bb11d8f9d953903106f0c10de92d8c158b5095593"
2025-06-16 00:45:41,075 [DEBUG] [server] }
2025-06-16 00:45:41,075 [DEBUG] [server] 
2025-06-16 00:45:41,078 [DEBUG] [server] [2025-06-16 00:45:41] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-16 00:45:41,078 [DEBUG] [server]   sender   : node1
2025-06-16 00:45:41,079 [DEBUG] [server]   full msg :
2025-06-16 00:45:41,079 [DEBUG] [server] type: BLOCK_VOTE
2025-06-16 00:45:41,079 [DEBUG] [server] sender_id: "node1"
2025-06-16 00:45:41,079 [DEBUG] [server] block_vote {
2025-06-16 00:45:41,079 [DEBUG] [server]   voter_id: "node1"
2025-06-16 00:45:41,080 [DEBUG] [server]   block_hash: "7bd229155fc9ad106d264b8bb11d8f9d953903106f0c10de92d8c158b5095593"
2025-06-16 00:45:41,080 [DEBUG] [server] }
2025-06-16 00:45:41,080 [DEBUG] [server] 
2025-06-16 00:45:41,080 [DEBUG] [node1] [2025-06-16 00:45:41] [INFO] [node1:127] Voted to accept Block 4, hash=7bd22915
2025-06-16 00:45:41,080 [DEBUG] [node1] [2025-06-16 00:45:41] [INFO] [node1:215] Received BLOCK_VOTE from node2 on block 7bd22915
2025-06-16 00:45:41,080 [DEBUG] [node1] [2025-06-16 00:45:41] [INFO] [node1:233] Block 7bd22915 vote ratio: 1.00(2/2)
2025-06-16 00:45:41,081 [DEBUG] [node1] [2025-06-16 00:45:41] [INFO] [node1:239] Validated Block 4 from node2, processing...
2025-06-16 00:45:41,081 [DEBUG] [node1] [2025-06-16 00:45:41] [INFO] [blockchain:150] Adding block 4 to main chain
2025-06-16 00:45:41,081 [DEBUG] [node1] [2025-06-16 00:45:41] [INFO] [node1:143] Added new block 4 with hash 7bd22915. Chain length is now 4(excluding genesis).
2025-06-16 00:45:41,081 [DEBUG] [node1] [2025-06-16 00:45:41] [INFO] [node1:241] added new block. Chain length is now 4(excluding genesis).
2025-06-16 00:45:41,081 [DEBUG] [node2] [2025-06-16 00:45:41] [INFO] [node2:215] Received BLOCK_VOTE from node1 on block 7bd22915
2025-06-16 00:45:41,082 [DEBUG] [node2] [2025-06-16 00:45:41] [INFO] [node2:233] Block 7bd22915 vote ratio: 1.00(2/2)
2025-06-16 00:45:41,082 [DEBUG] [node2] [2025-06-16 00:45:41] [INFO] [node2:239] Validated Block 4 from node2, processing...
2025-06-16 00:45:41,082 [DEBUG] [node2] [2025-06-16 00:45:41] [INFO] [blockchain:150] Adding block 4 to main chain
2025-06-16 00:45:41,082 [DEBUG] [node2] [2025-06-16 00:45:41] [INFO] [node2:143] Added new block 4 with hash 7bd22915. Chain length is now 4(excluding genesis).
2025-06-16 00:45:41,083 [DEBUG] [node2] [2025-06-16 00:45:41] [INFO] [node2:241] added new block. Chain length is now 4(excluding genesis).
2025-06-16 00:45:41,167 [DEBUG] [DEBUG] 9s 无命令
2025-06-16 00:45:41,303 [INFO] >>> (node2) tx node1 10
2025-06-16 00:45:41,304 [INFO] >>> (node2) forge --force
2025-06-16 00:45:41,305 [DEBUG] [node2] [2025-06-16 00:45:41] [INFO] [node2:450] sent TRANSFER transaction: node2 -> node1 10.0
2025-06-16 00:45:41,306 [DEBUG] [node2] [2025-06-16 00:45:41] [WARNING] [node2:500] FORCING block forge -- skipping validator check!
2025-06-16 00:45:41,306 [DEBUG] [server] [2025-06-16 00:45:41] [INFO] [server:84] received message [TRANSACTION]
2025-06-16 00:45:41,306 [DEBUG] [server]   sender   : node2
2025-06-16 00:45:41,306 [DEBUG] [server]   full msg :
2025-06-16 00:45:41,306 [DEBUG] [server] type: TRANSACTION
2025-06-16 00:45:41,307 [DEBUG] [server] sender_id: "node2"
2025-06-16 00:45:41,307 [DEBUG] [server] tx {
2025-06-16 00:45:41,307 [DEBUG] [server]   sender: "node2"
2025-06-16 00:45:41,307 [DEBUG] [server]   receiver: "node1"
2025-06-16 00:45:41,307 [DEBUG] [server]   amount: 10.0
2025-06-16 00:45:41,307 [DEBUG] [server]   timestamp: 1750005941.304479
2025-06-16 00:45:41,307 [DEBUG] [server] }
2025-06-16 00:45:41,308 [DEBUG] [server] 
2025-06-16 00:45:41,308 [DEBUG] [node2] [2025-06-16 00:45:41] [INFO] [node2:518] Want to forge block 5 with hash 695c8ac6
2025-06-16 00:45:41,309 [DEBUG] [node2] [2025-06-16 00:45:41] [INFO] [node2:127] Voted to accept Block 5, hash=695c8ac6
2025-06-16 00:45:41,309 [DEBUG] [server] [2025-06-16 00:45:41] [INFO] [server:84] received message [BLOCK]
2025-06-16 00:45:41,309 [DEBUG] [server]   sender   : node2
2025-06-16 00:45:41,309 [DEBUG] [server]   full msg :
2025-06-16 00:45:41,310 [DEBUG] [server] type: BLOCK
2025-06-16 00:45:41,310 [DEBUG] [server] sender_id: "node2"
2025-06-16 00:45:41,310 [DEBUG] [server] block {
2025-06-16 00:45:41,310 [DEBUG] [server]   index: 5
2025-06-16 00:45:41,311 [DEBUG] [server]   prev_hash: "7bd229155fc9ad106d264b8bb11d8f9d953903106f0c10de92d8c158b5095593"
2025-06-16 00:45:41,311 [DEBUG] [server]   hash: "695c8ac635da199b1700e3f2ab7740b630ad861270b647787ffaa9b0c3b0c1e6"
2025-06-16 00:45:41,311 [DEBUG] [server]   validator: "node2"
2025-06-16 00:45:41,311 [DEBUG] [server]   transactions {
2025-06-16 00:45:41,311 [DEBUG] [server]     sender: "node2"
2025-06-16 00:45:41,311 [DEBUG] [server]     receiver: "node1"
2025-06-16 00:45:41,312 [DEBUG] [server]     amount: 10.0
2025-06-16 00:45:41,312 [DEBUG] [server]     timestamp: 1750005941.304479
2025-06-16 00:45:41,312 [DEBUG] [server]   }
2025-06-16 00:45:41,312 [DEBUG] [server]   timestamp: 1750005941.305588
2025-06-16 00:45:41,312 [DEBUG] [server] }
2025-06-16 00:45:41,312 [DEBUG] [server] 
2025-06-16 00:45:41,312 [DEBUG] [server] [2025-06-16 00:45:41] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-16 00:45:41,312 [DEBUG] [server]   sender   : node2
2025-06-16 00:45:41,313 [DEBUG] [server]   full msg :
2025-06-16 00:45:41,313 [DEBUG] [server] type: BLOCK_VOTE
2025-06-16 00:45:41,313 [DEBUG] [server] sender_id: "node2"
2025-06-16 00:45:41,313 [DEBUG] [server] block_vote {
2025-06-16 00:45:41,313 [DEBUG] [server]   voter_id: "node2"
2025-06-16 00:45:41,313 [DEBUG] [server]   block_hash: "695c8ac635da199b1700e3f2ab7740b630ad861270b647787ffaa9b0c3b0c1e6"
2025-06-16 00:45:41,313 [DEBUG] [server] }
2025-06-16 00:45:41,314 [DEBUG] [server] 
2025-06-16 00:45:41,314 [DEBUG] [server] [2025-06-16 00:45:41] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-16 00:45:41,314 [DEBUG] [server]   sender   : node1
2025-06-16 00:45:41,314 [DEBUG] [server]   full msg :
2025-06-16 00:45:41,314 [DEBUG] [server] type: BLOCK_VOTE
2025-06-16 00:45:41,314 [DEBUG] [server] sender_id: "node1"
2025-06-16 00:45:41,314 [DEBUG] [server] block_vote {
2025-06-16 00:45:41,314 [DEBUG] [server]   voter_id: "node1"
2025-06-16 00:45:41,315 [DEBUG] [server]   block_hash: "695c8ac635da199b1700e3f2ab7740b630ad861270b647787ffaa9b0c3b0c1e6"
2025-06-16 00:45:41,315 [DEBUG] [server] }
2025-06-16 00:45:41,315 [DEBUG] [server] 
2025-06-16 00:45:41,315 [DEBUG] [node1] [2025-06-16 00:45:41] [INFO] [node1:267] received TRANSFER: node2 → node1, amount 10.0
2025-06-16 00:45:41,315 [DEBUG] [node1] [2025-06-16 00:45:41] [INFO] [node1:127] Voted to accept Block 5, hash=695c8ac6
2025-06-16 00:45:41,315 [DEBUG] [node1] [2025-06-16 00:45:41] [INFO] [node1:215] Received BLOCK_VOTE from node2 on block 695c8ac6
2025-06-16 00:45:41,315 [DEBUG] [node1] [2025-06-16 00:45:41] [INFO] [node1:233] Block 695c8ac6 vote ratio: 1.00(2/2)
2025-06-16 00:45:41,316 [DEBUG] [node1] [2025-06-16 00:45:41] [INFO] [node1:239] Validated Block 5 from node2, processing...
2025-06-16 00:45:41,316 [DEBUG] [node1] [2025-06-16 00:45:41] [INFO] [blockchain:150] Adding block 5 to main chain
2025-06-16 00:45:41,316 [DEBUG] [node1] [2025-06-16 00:45:41] [INFO] [node1:143] Added new block 5 with hash 695c8ac6. Chain length is now 5(excluding genesis).
2025-06-16 00:45:41,316 [DEBUG] [node1] [2025-06-16 00:45:41] [INFO] [node1:241] added new block. Chain length is now 5(excluding genesis).
2025-06-16 00:45:41,317 [DEBUG] [node2] [2025-06-16 00:45:41] [INFO] [node2:215] Received BLOCK_VOTE from node1 on block 695c8ac6
2025-06-16 00:45:41,317 [DEBUG] [node2] [2025-06-16 00:45:41] [INFO] [node2:233] Block 695c8ac6 vote ratio: 1.00(2/2)
2025-06-16 00:45:41,317 [DEBUG] [node2] [2025-06-16 00:45:41] [INFO] [node2:239] Validated Block 5 from node2, processing...
2025-06-16 00:45:41,318 [DEBUG] [node2] [2025-06-16 00:45:41] [INFO] [blockchain:150] Adding block 5 to main chain
2025-06-16 00:45:41,318 [DEBUG] [node2] [2025-06-16 00:45:41] [INFO] [node2:143] Added new block 5 with hash 695c8ac6. Chain length is now 5(excluding genesis).
2025-06-16 00:45:41,318 [DEBUG] [node2] [2025-06-16 00:45:41] [INFO] [node2:241] added new block. Chain length is now 5(excluding genesis).
2025-06-16 00:45:41,406 [DEBUG] [DEBUG] 11s 无命令
2025-06-16 00:45:42,494 [INFO] >>> (node1) info
2025-06-16 00:45:42,494 [INFO] >>> (node2) info
2025-06-16 00:45:42,620 [INFO] 结束等待 5.0s…
2025-06-16 00:45:47,622 [INFO] >>> (server) exit
2025-06-16 00:45:47,624 [DEBUG] [server] [2025-06-16 00:45:47] [INFO] [server:268] Shutting down server...
2025-06-16 00:45:47,625 [DEBUG] [server] [2025-06-16 00:45:47] [INFO] [server:287] Closing all client connections...
2025-06-16 00:45:47,626 [DEBUG] [server] [2025-06-16 00:45:47] [INFO] [server:156] Node node2 disconnected.
2025-06-16 00:45:47,626 [DEBUG] [node2] [2025-06-16 00:45:47] [INFO] [node2:103] Received BYE message from node server.
2025-06-16 00:45:47,627 [DEBUG] [node2] [2025-06-16 00:45:47] [INFO] [node2:105] Server is shutting down, exiting.
2025-06-16 00:45:47,627 [DEBUG] [node1] [2025-06-16 00:45:47] [INFO] [node1:103] Received BYE message from node server.
2025-06-16 00:45:47,627 [DEBUG] [node1] [2025-06-16 00:45:47] [INFO] [node1:105] Server is shutting down, exiting.
2025-06-16 00:45:47,627 [DEBUG] [node2] [2025-06-16 00:45:47] [INFO] [node2:574] Exiting.
2025-06-16 00:45:47,628 [DEBUG] [node1] [2025-06-16 00:45:47] [INFO] [node1:574] Exiting.
2025-06-16 00:45:47,628 [DEBUG] [server] [2025-06-16 00:45:47] [INFO] [server:156] Node node1 disconnected.
2025-06-16 00:45:47,628 [DEBUG] [server] [2025-06-16 00:45:47] [INFO] [server:294] Closing server socket...
2025-06-16 00:45:47,628 [DEBUG] [server] [2025-06-16 00:45:47] [INFO] [server:299] Server shutdown complete. Bye!
2025-06-16 00:45:47,631 [DEBUG] [node1] [2025-06-16 00:45:47] [INFO] [blockchain:264] Blockchain saved to data_node_node1
2025-06-16 00:45:47,632 [DEBUG] [node1] Node ID: node1
2025-06-16 00:45:47,632 [DEBUG] [node1] Known nodes: {'node1', 'node2'}
2025-06-16 00:45:47,632 [DEBUG] [node1] ========== Blockchain Structure ==========
2025-06-16 00:45:47,632 [DEBUG] [node1] Block 0 | hash=97045df0... | validator=genesis | tx_count=0 (main)
2025-06-16 00:45:47,632 [DEBUG] [node1] └── Block 1 | hash=aa19ec0f... | validator=node1 | tx_count=3 (main)
2025-06-16 00:45:47,633 [DEBUG] [node1] └── └── Block 2 | hash=d62045d2... | validator=node2 | tx_count=1 (main)
2025-06-16 00:45:47,633 [DEBUG] [node1] └── └── └── Block 3 | hash=e859acfd... | validator=node1 | tx_count=2 (main)
2025-06-16 00:45:47,633 [DEBUG] [node1] └── └── └── └── Block 4 | hash=7bd22915... | validator=node2 | tx_count=1 (main)
2025-06-16 00:45:47,633 [DEBUG] [node1] └── └── └── └── └── Block 5 | hash=695c8ac6... | validator=node2 | tx_count=1 (main)
2025-06-16 00:45:47,634 [DEBUG] [node1] ===================================
2025-06-16 00:45:47,634 [DEBUG] [node1] ========== Account State ==========
2025-06-16 00:45:47,634 [DEBUG] [node1]  Account node1 | Balance=80.00 | Stake=20.00
2025-06-16 00:45:47,634 [DEBUG] [node1]  Account node2 | Balance=80.00 | Stake=20.00
2025-06-16 00:45:47,634 [DEBUG] [node1]  Account node3 | Balance=100.00 | Stake=0.00
2025-06-16 00:45:47,635 [DEBUG] [node1] ===================================
2025-06-16 00:45:47,635 [DEBUG] [node1] ========== Pending Transactions ==========
2025-06-16 00:45:47,635 [DEBUG] [node1] ==========================================
2025-06-16 00:45:47,635 [DEBUG] [node2] [2025-06-16 00:45:47] [INFO] [blockchain:264] Blockchain saved to data_node_node2
2025-06-16 00:45:47,636 [DEBUG] [node2] Node ID: node2
2025-06-16 00:45:47,636 [DEBUG] [node2] Known nodes: {'node1', 'node2'}
2025-06-16 00:45:47,636 [DEBUG] [node2] ========== Blockchain Structure ==========
2025-06-16 00:45:47,636 [DEBUG] [node2] Block 0 | hash=97045df0... | validator=genesis | tx_count=0 (main)
2025-06-16 00:45:47,636 [DEBUG] [node2] └── Block 1 | hash=aa19ec0f... | validator=node1 | tx_count=3 (main)
2025-06-16 00:45:47,637 [DEBUG] [node2] └── └── Block 2 | hash=d62045d2... | validator=node2 | tx_count=1 (main)
2025-06-16 00:45:47,637 [DEBUG] [node2] └── └── └── Block 3 | hash=e859acfd... | validator=node1 | tx_count=2 (main)
2025-06-16 00:45:47,637 [DEBUG] [node2] └── └── └── └── Block 4 | hash=7bd22915... | validator=node2 | tx_count=1 (main)
2025-06-16 00:45:47,637 [DEBUG] [node2] └── └── └── └── └── Block 5 | hash=695c8ac6... | validator=node2 | tx_count=1 (main)
2025-06-16 00:45:47,637 [DEBUG] [node2] ===================================
2025-06-16 00:45:47,637 [DEBUG] [node2] ========== Account State ==========
2025-06-16 00:45:47,637 [DEBUG] [node2]  Account node1 | Balance=80.00 | Stake=20.00
2025-06-16 00:45:47,637 [DEBUG] [node2]  Account node2 | Balance=80.00 | Stake=20.00
2025-06-16 00:45:47,637 [DEBUG] [node2]  Account node3 | Balance=100.00 | Stake=0.00
2025-06-16 00:45:47,638 [DEBUG] [node2] ===================================
2025-06-16 00:45:47,638 [DEBUG] [node2] ========== Pending Transactions ==========
2025-06-16 00:45:47,638 [DEBUG] [node2] ==========================================
2025-06-16 00:45:47,658 [INFO] server 已优雅退出
2025-06-16 00:45:47,658 [INFO] 等待节点自动下线 5.0s…
2025-06-16 00:46:06,573 [DEBUG] Using selector: KqueueSelector
2025-06-16 00:46:06,576 [INFO] 启动 server (pid=46185)
2025-06-16 00:46:06,576 [INFO] 等待服务器 127.0.0.1:5000 …
2025-06-16 00:46:06,649 [DEBUG] [server] [2025-06-16 00:46:06] [INFO] [server:44] Async server started on 127.0.0.1:5000
2025-06-16 00:46:06,878 [INFO] 服务器端口就绪
2025-06-16 00:46:06,882 [DEBUG] [server] [2025-06-16 00:46:06] [INFO] [server:62] New connection from ('127.0.0.1', 52143)
2025-06-16 00:46:06,883 [INFO] 启动 node1 (pid=46186)
2025-06-16 00:46:06,887 [INFO] 启动 node2 (pid=46187)
2025-06-16 00:46:06,887 [INFO] DEBUG 模式：按 Enter 推进 1 秒，输入 q 退出
2025-06-16 00:46:06,887 [INFO] >>> (server) stop
2025-06-16 00:46:06,890 [DEBUG] [server] [2025-06-16 00:46:06] [INFO] [server:252] Stopped sending STEP messages
2025-06-16 00:46:06,974 [DEBUG] [server] [2025-06-16 00:46:06] [INFO] [server:62] New connection from ('127.0.0.1', 52144)
2025-06-16 00:46:06,974 [DEBUG] [server] [2025-06-16 00:46:06] [INFO] [server:62] New connection from ('127.0.0.1', 52145)
2025-06-16 00:46:06,977 [DEBUG] [server] [2025-06-16 00:46:06] [INFO] [server:84] received message [HELLO]
2025-06-16 00:46:06,977 [DEBUG] [server]   sender   : node1
2025-06-16 00:46:06,977 [DEBUG] [server]   full msg :
2025-06-16 00:46:06,977 [DEBUG] [server] sender_id: "node1"
2025-06-16 00:46:06,977 [DEBUG] [server] 
2025-06-16 00:46:06,978 [DEBUG] [node2] [2025-06-16 00:46:06] [INFO] [node2:420] Sent SYNC_REQUEST to network
2025-06-16 00:46:06,979 [DEBUG] [node1] [2025-06-16 00:46:06] [INFO] [node1:420] Sent SYNC_REQUEST to network
2025-06-16 00:46:06,979 [DEBUG] [node2] [2025-06-16 00:46:06] [INFO] [node2:79] Node node2 started. Connected to server at 127.0.0.1:5000.
2025-06-16 00:46:06,979 [DEBUG] [node2] [2025-06-16 00:46:06] [INFO] [node2:80] Current chain length: 0 (excluding genesis)
2025-06-16 00:46:06,979 [DEBUG] [node1] [2025-06-16 00:46:06] [INFO] [node1:79] Node node1 started. Connected to server at 127.0.0.1:5000.
2025-06-16 00:46:06,979 [DEBUG] [node1] [2025-06-16 00:46:06] [INFO] [node1:80] Current chain length: 0 (excluding genesis)
2025-06-16 00:46:06,981 [DEBUG] [server] [2025-06-16 00:46:06] [INFO] [server:84] received message [HELLO]
2025-06-16 00:46:06,981 [DEBUG] [server]   sender   : node2
2025-06-16 00:46:06,981 [DEBUG] [server]   full msg :
2025-06-16 00:46:06,981 [DEBUG] [server] sender_id: "node2"
2025-06-16 00:46:06,981 [DEBUG] [server] 
2025-06-16 00:46:06,981 [DEBUG] [node2] [2025-06-16 00:46:06] [INFO] [node2:97] Received HELLO message from node node1.
2025-06-16 00:46:06,981 [DEBUG] [server] [2025-06-16 00:46:06] [INFO] [server:84] received message [SYNC_REQUEST]
2025-06-16 00:46:06,981 [DEBUG] [server]   sender   : node1
2025-06-16 00:46:06,981 [DEBUG] [server]   full msg :
2025-06-16 00:46:06,981 [DEBUG] [server] type: SYNC_REQUEST
2025-06-16 00:46:06,981 [DEBUG] [server] sender_id: "node1"
2025-06-16 00:46:06,981 [DEBUG] [server] 
2025-06-16 00:46:06,981 [DEBUG] [server] [2025-06-16 00:46:06] [INFO] [server:84] received message [SYNC_REQUEST]
2025-06-16 00:46:06,981 [DEBUG] [server]   sender   : node2
2025-06-16 00:46:06,981 [DEBUG] [server]   full msg :
2025-06-16 00:46:06,981 [DEBUG] [server] type: SYNC_REQUEST
2025-06-16 00:46:06,982 [DEBUG] [server] sender_id: "node2"
2025-06-16 00:46:06,982 [DEBUG] [server] 
2025-06-16 00:46:06,982 [DEBUG] [node1] [2025-06-16 00:46:06] [INFO] [node1:97] Received HELLO message from node node2.
2025-06-16 00:46:06,982 [DEBUG] [node1] [2025-06-16 00:46:06] [INFO] [node1:292] Received SYNC_REQUEST from node2, sending SYNC_RESPONSE
2025-06-16 00:46:06,982 [DEBUG] [node2] [2025-06-16 00:46:06] [INFO] [node2:292] Received SYNC_REQUEST from node1, sending SYNC_RESPONSE
2025-06-16 00:46:06,982 [DEBUG] [server] [2025-06-16 00:46:06] [INFO] [server:84] received message [SYNC_RESPONSE]
2025-06-16 00:46:06,982 [DEBUG] [server]   sender   : node2
2025-06-16 00:46:06,982 [DEBUG] [server]   full msg :
2025-06-16 00:46:06,982 [DEBUG] [server] type: SYNC_RESPONSE
2025-06-16 00:46:06,982 [DEBUG] [server] sender_id: "node2"
2025-06-16 00:46:06,982 [DEBUG] [server] sync_response {
2025-06-16 00:46:06,982 [DEBUG] [server]   blocks {
2025-06-16 00:46:06,982 [DEBUG] [server]     prev_hash: "0000000000000000000000000000000000000000000000000000000000000000"
2025-06-16 00:46:06,982 [DEBUG] [server]     hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-16 00:46:06,982 [DEBUG] [server]     validator: "genesis"
2025-06-16 00:46:06,982 [DEBUG] [server]   }
2025-06-16 00:46:06,982 [DEBUG] [server] }
2025-06-16 00:46:06,982 [DEBUG] [server] 
2025-06-16 00:46:06,982 [DEBUG] [server] [2025-06-16 00:46:06] [INFO] [server:84] received message [SYNC_RESPONSE]
2025-06-16 00:46:06,982 [DEBUG] [server]   sender   : node1
2025-06-16 00:46:06,982 [DEBUG] [server]   full msg :
2025-06-16 00:46:06,982 [DEBUG] [server] type: SYNC_RESPONSE
2025-06-16 00:46:06,982 [DEBUG] [server] sender_id: "node1"
2025-06-16 00:46:06,983 [DEBUG] [server] sync_response {
2025-06-16 00:46:06,983 [DEBUG] [server]   blocks {
2025-06-16 00:46:06,983 [DEBUG] [server]     prev_hash: "0000000000000000000000000000000000000000000000000000000000000000"
2025-06-16 00:46:06,983 [DEBUG] [server]     hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-16 00:46:06,983 [DEBUG] [server]     validator: "genesis"
2025-06-16 00:46:06,983 [DEBUG] [server]   }
2025-06-16 00:46:06,983 [DEBUG] [server] }
2025-06-16 00:46:06,983 [DEBUG] [server] 
2025-06-16 00:46:06,983 [DEBUG] [node1] [2025-06-16 00:46:06] [INFO] [node1:315] Received SYNC_RESPONSE from node2, storing response
2025-06-16 00:46:06,983 [DEBUG] [node2] [2025-06-16 00:46:06] [INFO] [node2:315] Received SYNC_RESPONSE from node1, storing response
2025-06-16 00:46:07,864 [DEBUG] [DEBUG] 1s 无命令
2025-06-16 00:46:08,983 [DEBUG] [node2] [2025-06-16 00:46:08] [INFO] [node2:387] SYNC_RESPONSE collection finished. Processing responses.
2025-06-16 00:46:08,984 [DEBUG] [node1] [2025-06-16 00:46:08] [INFO] [node1:387] SYNC_RESPONSE collection finished. Processing responses.
2025-06-16 00:46:08,984 [DEBUG] [node2] [2025-06-16 00:46:08] [INFO] [node2:377] SYNC_RESPONSE from node1: chain length=1     head=97045df0
2025-06-16 00:46:08,984 [DEBUG] [node1] [2025-06-16 00:46:08] [INFO] [node1:377] SYNC_RESPONSE from node2: chain length=1     head=97045df0
2025-06-16 00:46:08,984 [DEBUG] [node2] [2025-06-16 00:46:08] [INFO] [node2:406] no need to sync chain, best chain same with local chain
2025-06-16 00:46:08,984 [DEBUG] [node1] [2025-06-16 00:46:08] [INFO] [node1:406] no need to sync chain, best chain same with local chain
2025-06-16 00:46:09,190 [DEBUG] [DEBUG] 2s 无命令
2025-06-16 00:46:12,369 [DEBUG] [DEBUG] 3s 无命令
2025-06-16 00:46:12,974 [DEBUG] [DEBUG] 4s 无命令
2025-06-16 00:46:13,268 [INFO] >>> (node1) stake 10
2025-06-16 00:46:13,268 [INFO] >>> (node1) tx node2 10
2025-06-16 00:46:13,273 [DEBUG] [node1] [2025-06-16 00:46:13] [INFO] [node1:450] sent STAKE transaction: node1 -> node1 10.0
2025-06-16 00:46:13,274 [DEBUG] [node1] [2025-06-16 00:46:13] [INFO] [node1:592] Want to stake 10.0 tokens.
2025-06-16 00:46:13,274 [DEBUG] [server] [2025-06-16 00:46:13] [INFO] [server:84] received message [TRANSACTION]
2025-06-16 00:46:13,274 [DEBUG] [server]   sender   : node1
2025-06-16 00:46:13,275 [DEBUG] [server]   full msg :
2025-06-16 00:46:13,275 [DEBUG] [server] type: TRANSACTION
2025-06-16 00:46:13,275 [DEBUG] [server] sender_id: "node1"
2025-06-16 00:46:13,275 [DEBUG] [server] tx {
2025-06-16 00:46:13,275 [DEBUG] [server]   sender: "node1"
2025-06-16 00:46:13,275 [DEBUG] [server]   receiver: "node1"
2025-06-16 00:46:13,275 [DEBUG] [server]   amount: 10.0
2025-06-16 00:46:13,276 [DEBUG] [server]   timestamp: 1750005973.2719
2025-06-16 00:46:13,276 [DEBUG] [server]   type: STAKE
2025-06-16 00:46:13,276 [DEBUG] [server] }
2025-06-16 00:46:13,277 [DEBUG] [server] 
2025-06-16 00:46:13,277 [DEBUG] [node2] [2025-06-16 00:46:13] [INFO] [node2:273] received STAKE: node1 stakes 10.0
2025-06-16 00:46:14,441 [DEBUG] [DEBUG] 6s 无命令
2025-06-16 00:46:14,822 [INFO] >>> (node1) forge --force
2025-06-16 00:46:14,823 [INFO] >>> (node2) stake 10
2025-06-16 00:46:14,824 [DEBUG] [node1] [2025-06-16 00:46:14] [INFO] [node1:450] sent TRANSFER transaction: node1 -> node2 10.0
2025-06-16 00:46:14,824 [DEBUG] [node1] [2025-06-16 00:46:14] [WARNING] [node1:500] FORCING block forge -- skipping validator check!
2025-06-16 00:46:14,824 [DEBUG] [node2] [2025-06-16 00:46:14] [INFO] [node2:450] sent STAKE transaction: node2 -> node2 10.0
2025-06-16 00:46:14,824 [DEBUG] [node2] [2025-06-16 00:46:14] [INFO] [node2:592] Want to stake 10.0 tokens.
2025-06-16 00:46:14,825 [DEBUG] [server] [2025-06-16 00:46:14] [INFO] [server:84] received message [TRANSACTION]
2025-06-16 00:46:14,825 [DEBUG] [server]   sender   : node1
2025-06-16 00:46:14,825 [DEBUG] [server]   full msg :
2025-06-16 00:46:14,826 [DEBUG] [server] type: TRANSACTION
2025-06-16 00:46:14,826 [DEBUG] [server] sender_id: "node1"
2025-06-16 00:46:14,826 [DEBUG] [server] tx {
2025-06-16 00:46:14,827 [DEBUG] [server]   sender: "node1"
2025-06-16 00:46:14,827 [DEBUG] [server]   receiver: "node2"
2025-06-16 00:46:14,827 [DEBUG] [server]   amount: 10.0
2025-06-16 00:46:14,827 [DEBUG] [server]   timestamp: 1750005974.823308
2025-06-16 00:46:14,828 [DEBUG] [server] }
2025-06-16 00:46:14,828 [DEBUG] [server] 
2025-06-16 00:46:14,828 [DEBUG] [server] [2025-06-16 00:46:14] [INFO] [server:84] received message [TRANSACTION]
2025-06-16 00:46:14,828 [DEBUG] [server]   sender   : node2
2025-06-16 00:46:14,828 [DEBUG] [server]   full msg :
2025-06-16 00:46:14,829 [DEBUG] [server] type: TRANSACTION
2025-06-16 00:46:14,829 [DEBUG] [server] sender_id: "node2"
2025-06-16 00:46:14,829 [DEBUG] [server] tx {
2025-06-16 00:46:14,829 [DEBUG] [server]   sender: "node2"
2025-06-16 00:46:14,829 [DEBUG] [server]   receiver: "node2"
2025-06-16 00:46:14,829 [DEBUG] [server]   amount: 10.0
2025-06-16 00:46:14,829 [DEBUG] [server]   timestamp: 1750005974.823575
2025-06-16 00:46:14,829 [DEBUG] [server]   type: STAKE
2025-06-16 00:46:14,830 [DEBUG] [server] }
2025-06-16 00:46:14,830 [DEBUG] [server] 
2025-06-16 00:46:14,830 [DEBUG] [node1] [2025-06-16 00:46:14] [INFO] [node1:518] Want to forge block 1 with hash a8834d54
2025-06-16 00:46:14,830 [DEBUG] [node1] [2025-06-16 00:46:14] [INFO] [node1:127] Voted to accept Block 1, hash=a8834d54
2025-06-16 00:46:14,830 [DEBUG] [node2] [2025-06-16 00:46:14] [INFO] [node2:267] received TRANSFER: node1 → node2, amount 10.0
2025-06-16 00:46:14,830 [DEBUG] [node2] [2025-06-16 00:46:14] [INFO] [node2:127] Voted to accept Block 1, hash=a8834d54
2025-06-16 00:46:14,831 [DEBUG] [node2] [2025-06-16 00:46:14] [INFO] [node2:215] Received BLOCK_VOTE from node1 on block a8834d54
2025-06-16 00:46:14,831 [DEBUG] [node2] [2025-06-16 00:46:14] [INFO] [node2:233] Block a8834d54 vote ratio: 1.00(1/1)
2025-06-16 00:46:14,831 [DEBUG] [node2] [2025-06-16 00:46:14] [INFO] [node2:239] Validated Block 1 from node1, processing...
2025-06-16 00:46:14,831 [DEBUG] [node1] [2025-06-16 00:46:14] [INFO] [node1:273] received STAKE: node2 stakes 10.0
2025-06-16 00:46:14,831 [DEBUG] [node1] [2025-06-16 00:46:14] [INFO] [node1:215] Received BLOCK_VOTE from node2 on block a8834d54
2025-06-16 00:46:14,831 [DEBUG] [node1] [2025-06-16 00:46:14] [INFO] [node1:233] Block a8834d54 vote ratio: 1.00(1/1)
2025-06-16 00:46:14,831 [DEBUG] [node1] [2025-06-16 00:46:14] [INFO] [node1:239] Validated Block 1 from node1, processing...
2025-06-16 00:46:14,831 [DEBUG] [server] [2025-06-16 00:46:14] [INFO] [server:84] received message [BLOCK]
2025-06-16 00:46:14,832 [DEBUG] [server]   sender   : node1
2025-06-16 00:46:14,832 [DEBUG] [server]   full msg :
2025-06-16 00:46:14,832 [DEBUG] [server] type: BLOCK
2025-06-16 00:46:14,832 [DEBUG] [server] sender_id: "node1"
2025-06-16 00:46:14,832 [DEBUG] [server] block {
2025-06-16 00:46:14,832 [DEBUG] [server]   index: 1
2025-06-16 00:46:14,832 [DEBUG] [server]   prev_hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-16 00:46:14,832 [DEBUG] [server]   hash: "a8834d54a2a3d11c7e75b6f709d12219ca665b00b31d932542f8d342a1ac3566"
2025-06-16 00:46:14,833 [DEBUG] [server]   validator: "node1"
2025-06-16 00:46:14,833 [DEBUG] [server]   transactions {
2025-06-16 00:46:14,833 [DEBUG] [server]     sender: "node1"
2025-06-16 00:46:14,833 [DEBUG] [server]     receiver: "node1"
2025-06-16 00:46:14,833 [DEBUG] [server]     amount: 10.0
2025-06-16 00:46:14,833 [DEBUG] [server]     timestamp: 1750005973.2719
2025-06-16 00:46:14,833 [DEBUG] [server]     type: STAKE
2025-06-16 00:46:14,833 [DEBUG] [server]   }
2025-06-16 00:46:14,834 [DEBUG] [server]   transactions {
2025-06-16 00:46:14,834 [DEBUG] [server]     sender: "node1"
2025-06-16 00:46:14,834 [DEBUG] [server]     receiver: "node2"
2025-06-16 00:46:14,834 [DEBUG] [server]     amount: 10.0
2025-06-16 00:46:14,834 [DEBUG] [server]     timestamp: 1750005974.823308
2025-06-16 00:46:14,834 [DEBUG] [server]   }
2025-06-16 00:46:14,834 [DEBUG] [server]   timestamp: 1750005974.824213
2025-06-16 00:46:14,835 [DEBUG] [server] }
2025-06-16 00:46:14,835 [DEBUG] [server] 
2025-06-16 00:46:14,835 [DEBUG] [server] [2025-06-16 00:46:14] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-16 00:46:14,835 [DEBUG] [server]   sender   : node1
2025-06-16 00:46:14,835 [DEBUG] [server]   full msg :
2025-06-16 00:46:14,835 [DEBUG] [server] type: BLOCK_VOTE
2025-06-16 00:46:14,835 [DEBUG] [server] sender_id: "node1"
2025-06-16 00:46:14,835 [DEBUG] [server] block_vote {
2025-06-16 00:46:14,836 [DEBUG] [server]   voter_id: "node1"
2025-06-16 00:46:14,836 [DEBUG] [server]   block_hash: "a8834d54a2a3d11c7e75b6f709d12219ca665b00b31d932542f8d342a1ac3566"
2025-06-16 00:46:14,836 [DEBUG] [server] }
2025-06-16 00:46:14,836 [DEBUG] [server] 
2025-06-16 00:46:14,836 [DEBUG] [server] [2025-06-16 00:46:14] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-16 00:46:14,836 [DEBUG] [server]   sender   : node2
2025-06-16 00:46:14,836 [DEBUG] [server]   full msg :
2025-06-16 00:46:14,836 [DEBUG] [server] type: BLOCK_VOTE
2025-06-16 00:46:14,836 [DEBUG] [server] sender_id: "node2"
2025-06-16 00:46:14,837 [DEBUG] [server] block_vote {
2025-06-16 00:46:14,837 [DEBUG] [server]   voter_id: "node2"
2025-06-16 00:46:14,837 [DEBUG] [server]   block_hash: "a8834d54a2a3d11c7e75b6f709d12219ca665b00b31d932542f8d342a1ac3566"
2025-06-16 00:46:14,837 [DEBUG] [server] }
2025-06-16 00:46:14,837 [DEBUG] [server] 
2025-06-16 00:46:14,837 [DEBUG] [node2] [2025-06-16 00:46:14] [INFO] [blockchain:150] Adding block 1 to main chain
2025-06-16 00:46:14,837 [DEBUG] [node2] [2025-06-16 00:46:14] [INFO] [node2:143] Added new block 1 with hash a8834d54. Chain length is now 1(excluding genesis).
2025-06-16 00:46:14,838 [DEBUG] [node2] [2025-06-16 00:46:14] [INFO] [node2:241] added new block. Chain length is now 1(excluding genesis).
2025-06-16 00:46:14,838 [DEBUG] [node1] [2025-06-16 00:46:14] [INFO] [blockchain:150] Adding block 1 to main chain
2025-06-16 00:46:14,838 [DEBUG] [node1] [2025-06-16 00:46:14] [INFO] [node1:143] Added new block 1 with hash a8834d54. Chain length is now 1(excluding genesis).
2025-06-16 00:46:14,838 [DEBUG] [node1] [2025-06-16 00:46:14] [INFO] [node1:241] added new block. Chain length is now 1(excluding genesis).
2025-06-16 00:50:59,557 [INFO] >>> (node2) forge --force
2025-06-16 00:50:59,562 [DEBUG] [node2] [2025-06-16 00:50:59] [WARNING] [node2:500] FORCING block forge -- skipping validator check!
2025-06-16 00:50:59,564 [DEBUG] [node2] [2025-06-16 00:50:59] [INFO] [node2:518] Want to forge block 2 with hash d70cbdc9
2025-06-16 00:50:59,565 [DEBUG] [node2] [2025-06-16 00:50:59] [INFO] [node2:127] Voted to accept Block 2, hash=d70cbdc9
2025-06-16 00:50:59,570 [DEBUG] [server] [2025-06-16 00:50:59] [INFO] [server:84] received message [BLOCK]
2025-06-16 00:50:59,570 [DEBUG] [server]   sender   : node2
2025-06-16 00:50:59,570 [DEBUG] [server]   full msg :
2025-06-16 00:50:59,571 [DEBUG] [server] type: BLOCK
2025-06-16 00:50:59,571 [DEBUG] [server] sender_id: "node2"
2025-06-16 00:50:59,571 [DEBUG] [server] block {
2025-06-16 00:50:59,571 [DEBUG] [server]   index: 2
2025-06-16 00:50:59,571 [DEBUG] [server]   prev_hash: "a8834d54a2a3d11c7e75b6f709d12219ca665b00b31d932542f8d342a1ac3566"
2025-06-16 00:50:59,571 [DEBUG] [server]   hash: "d70cbdc9e3707be1adc4d654a427d03998cbf1995af57bb60186d37dc92808d2"
2025-06-16 00:50:59,571 [DEBUG] [server]   validator: "node2"
2025-06-16 00:50:59,571 [DEBUG] [server]   transactions {
2025-06-16 00:50:59,571 [DEBUG] [server]     sender: "node2"
2025-06-16 00:50:59,571 [DEBUG] [server]     receiver: "node2"
2025-06-16 00:50:59,571 [DEBUG] [server]     amount: 10.0
2025-06-16 00:50:59,571 [DEBUG] [server]     timestamp: 1750005974.823575
2025-06-16 00:50:59,572 [DEBUG] [server]     type: STAKE
2025-06-16 00:50:59,572 [DEBUG] [server]   }
2025-06-16 00:50:59,572 [DEBUG] [server]   timestamp: 1750006259.562078
2025-06-16 00:50:59,572 [DEBUG] [server] }
2025-06-16 00:50:59,572 [DEBUG] [server] 
2025-06-16 00:50:59,572 [DEBUG] [server] [2025-06-16 00:50:59] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-16 00:50:59,572 [DEBUG] [server]   sender   : node2
2025-06-16 00:50:59,572 [DEBUG] [server]   full msg :
2025-06-16 00:50:59,572 [DEBUG] [server] type: BLOCK_VOTE
2025-06-16 00:50:59,572 [DEBUG] [server] sender_id: "node2"
2025-06-16 00:50:59,573 [DEBUG] [server] block_vote {
2025-06-16 00:50:59,573 [DEBUG] [server]   voter_id: "node2"
2025-06-16 00:50:59,573 [DEBUG] [server]   block_hash: "d70cbdc9e3707be1adc4d654a427d03998cbf1995af57bb60186d37dc92808d2"
2025-06-16 00:50:59,573 [DEBUG] [server] }
2025-06-16 00:50:59,573 [DEBUG] [server] 
2025-06-16 00:50:59,573 [DEBUG] [server] [2025-06-16 00:50:59] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-16 00:50:59,573 [DEBUG] [server]   sender   : node1
2025-06-16 00:50:59,573 [DEBUG] [server]   full msg :
2025-06-16 00:50:59,573 [DEBUG] [server] type: BLOCK_VOTE
2025-06-16 00:50:59,573 [DEBUG] [server] sender_id: "node1"
2025-06-16 00:50:59,574 [DEBUG] [server] block_vote {
2025-06-16 00:50:59,574 [DEBUG] [server]   voter_id: "node1"
2025-06-16 00:50:59,574 [DEBUG] [server]   block_hash: "d70cbdc9e3707be1adc4d654a427d03998cbf1995af57bb60186d37dc92808d2"
2025-06-16 00:50:59,574 [DEBUG] [server] }
2025-06-16 00:50:59,574 [DEBUG] [server] 
2025-06-16 00:50:59,575 [DEBUG] [node1] [2025-06-16 00:50:59] [INFO] [node1:127] Voted to accept Block 2, hash=d70cbdc9
2025-06-16 00:50:59,575 [DEBUG] [node1] [2025-06-16 00:50:59] [INFO] [node1:215] Received BLOCK_VOTE from node2 on block d70cbdc9
2025-06-16 00:50:59,575 [DEBUG] [node1] [2025-06-16 00:50:59] [INFO] [node1:233] Block d70cbdc9 vote ratio: 2.00(2/1)
2025-06-16 00:50:59,575 [DEBUG] [node1] [2025-06-16 00:50:59] [INFO] [node1:239] Validated Block 2 from node2, processing...
2025-06-16 00:50:59,575 [DEBUG] [node2] [2025-06-16 00:50:59] [INFO] [node2:215] Received BLOCK_VOTE from node1 on block d70cbdc9
2025-06-16 00:50:59,575 [DEBUG] [node2] [2025-06-16 00:50:59] [INFO] [node2:233] Block d70cbdc9 vote ratio: 1.00(1/1)
2025-06-16 00:50:59,575 [DEBUG] [node2] [2025-06-16 00:50:59] [INFO] [node2:239] Validated Block 2 from node2, processing...
2025-06-16 00:50:59,575 [DEBUG] [node2] [2025-06-16 00:50:59] [INFO] [blockchain:150] Adding block 2 to main chain
2025-06-16 00:50:59,576 [DEBUG] [node2] [2025-06-16 00:50:59] [INFO] [node2:143] Added new block 2 with hash d70cbdc9. Chain length is now 2(excluding genesis).
2025-06-16 00:50:59,576 [DEBUG] [node1] [2025-06-16 00:50:59] [INFO] [blockchain:150] Adding block 2 to main chain
2025-06-16 00:50:59,576 [DEBUG] [node1] [2025-06-16 00:50:59] [INFO] [node1:143] Added new block 2 with hash d70cbdc9. Chain length is now 2(excluding genesis).
2025-06-16 00:50:59,576 [DEBUG] [node1] [2025-06-16 00:50:59] [INFO] [node1:241] added new block. Chain length is now 2(excluding genesis).
2025-06-16 00:50:59,576 [DEBUG] [node2] [2025-06-16 00:50:59] [INFO] [node2:241] added new block. Chain length is now 2(excluding genesis).
2025-06-16 00:53:24,069 [WARNING] 捕获终止信号，正在优雅收尾…
2025-06-16 00:53:24,104 [WARNING] Loop <_UnixSelectorEventLoop running=False closed=True debug=False> that handles pid 46187 is closed
2025-06-16 00:53:24,104 [WARNING] Loop <_UnixSelectorEventLoop running=False closed=True debug=False> that handles pid 46186 is closed
2025-06-16 00:53:24,106 [WARNING] Loop <_UnixSelectorEventLoop running=False closed=True debug=False> that handles pid 46185 is closed
2025-06-16 00:53:32,308 [DEBUG] Using selector: KqueueSelector
2025-06-16 00:53:32,310 [INFO] 启动 server (pid=47349)
2025-06-16 00:53:32,311 [INFO] 等待服务器 127.0.0.1:5000 …
2025-06-16 00:53:32,386 [DEBUG] [server] [2025-06-16 00:53:32] [INFO] [server:44] Async server started on 127.0.0.1:5000
2025-06-16 00:53:32,612 [INFO] 服务器端口就绪
2025-06-16 00:53:32,614 [DEBUG] [server] [2025-06-16 00:53:32] [INFO] [server:62] New connection from ('127.0.0.1', 52383)
2025-06-16 00:53:32,615 [INFO] 启动 node1 (pid=47356)
2025-06-16 00:53:32,617 [INFO] 启动 node2 (pid=47357)
2025-06-16 00:53:32,617 [INFO] DEBUG 模式：按 Enter 推进 1 秒，输入 q 退出
2025-06-16 00:53:32,617 [INFO] >>> (server) stop
2025-06-16 00:53:32,619 [DEBUG] [server] [2025-06-16 00:53:32] [INFO] [server:252] Stopped sending STEP messages
2025-06-16 00:53:32,692 [DEBUG] [server] [2025-06-16 00:53:32] [INFO] [server:62] New connection from ('127.0.0.1', 52384)
2025-06-16 00:53:32,692 [DEBUG] [server] [2025-06-16 00:53:32] [INFO] [server:62] New connection from ('127.0.0.1', 52385)
2025-06-16 00:53:32,695 [DEBUG] [node1] [2025-06-16 00:53:32] [INFO] [node1:420] Sent SYNC_REQUEST to network
2025-06-16 00:53:32,695 [DEBUG] [node2] [2025-06-16 00:53:32] [INFO] [node2:420] Sent SYNC_REQUEST to network
2025-06-16 00:53:32,695 [DEBUG] [node1] [2025-06-16 00:53:32] [INFO] [node1:79] Node node1 started. Connected to server at 127.0.0.1:5000.
2025-06-16 00:53:32,695 [DEBUG] [node1] [2025-06-16 00:53:32] [INFO] [node1:80] Current chain length: 0 (excluding genesis)
2025-06-16 00:53:32,695 [DEBUG] [server] [2025-06-16 00:53:32] [INFO] [server:84] received message [HELLO]
2025-06-16 00:53:32,695 [DEBUG] [server]   sender   : node2
2025-06-16 00:53:32,695 [DEBUG] [server]   full msg :
2025-06-16 00:53:32,695 [DEBUG] [server] sender_id: "node2"
2025-06-16 00:53:32,695 [DEBUG] [server] 
2025-06-16 00:53:32,695 [DEBUG] [node2] [2025-06-16 00:53:32] [INFO] [node2:79] Node node2 started. Connected to server at 127.0.0.1:5000.
2025-06-16 00:53:32,695 [DEBUG] [node2] [2025-06-16 00:53:32] [INFO] [node2:80] Current chain length: 0 (excluding genesis)
2025-06-16 00:53:32,698 [DEBUG] [server] [2025-06-16 00:53:32] [INFO] [server:84] received message [HELLO]
2025-06-16 00:53:32,698 [DEBUG] [server]   sender   : node1
2025-06-16 00:53:32,699 [DEBUG] [server]   full msg :
2025-06-16 00:53:32,699 [DEBUG] [server] sender_id: "node1"
2025-06-16 00:53:32,699 [DEBUG] [server] 
2025-06-16 00:53:32,699 [DEBUG] [node1] [2025-06-16 00:53:32] [INFO] [node1:97] Received HELLO message from node node21.
2025-06-16 00:53:32,699 [DEBUG] [server] [2025-06-16 00:53:32] [INFO] [server:84] received message [SYNC_REQUEST]
2025-06-16 00:53:32,699 [DEBUG] [server]   sender   : node1
2025-06-16 00:53:32,699 [DEBUG] [server]   full msg :
2025-06-16 00:53:32,699 [DEBUG] [server] type: SYNC_REQUEST
2025-06-16 00:53:32,699 [DEBUG] [server] sender_id: "node1"
2025-06-16 00:53:32,699 [DEBUG] [server] 
2025-06-16 00:53:32,699 [DEBUG] [server] [2025-06-16 00:53:32] [INFO] [server:84] received message [SYNC_REQUEST]
2025-06-16 00:53:32,699 [DEBUG] [server]   sender   : node2
2025-06-16 00:53:32,699 [DEBUG] [server]   full msg :
2025-06-16 00:53:32,699 [DEBUG] [server] type: SYNC_REQUEST
2025-06-16 00:53:32,699 [DEBUG] [server] sender_id: "node2"
2025-06-16 00:53:32,699 [DEBUG] [server] 
2025-06-16 00:53:32,699 [DEBUG] [node2] [2025-06-16 00:53:32] [INFO] [node2:97] Received HELLO message from node node11.
2025-06-16 00:53:32,699 [DEBUG] [node2] [2025-06-16 00:53:32] [INFO] [node2:292] Received SYNC_REQUEST from node1, sending SYNC_RESPONSE
2025-06-16 00:53:32,699 [DEBUG] [node1] [2025-06-16 00:53:32] [INFO] [node1:292] Received SYNC_REQUEST from node2, sending SYNC_RESPONSE
2025-06-16 00:53:32,699 [DEBUG] [server] [2025-06-16 00:53:32] [INFO] [server:84] received message [SYNC_RESPONSE]
2025-06-16 00:53:32,699 [DEBUG] [server]   sender   : node2
2025-06-16 00:53:32,700 [DEBUG] [server]   full msg :
2025-06-16 00:53:32,700 [DEBUG] [server] type: SYNC_RESPONSE
2025-06-16 00:53:32,700 [DEBUG] [server] sender_id: "node2"
2025-06-16 00:53:32,700 [DEBUG] [server] sync_response {
2025-06-16 00:53:32,700 [DEBUG] [server]   blocks {
2025-06-16 00:53:32,700 [DEBUG] [server]     prev_hash: "0000000000000000000000000000000000000000000000000000000000000000"
2025-06-16 00:53:32,700 [DEBUG] [server]     hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-16 00:53:32,700 [DEBUG] [server]     validator: "genesis"
2025-06-16 00:53:32,700 [DEBUG] [server]   }
2025-06-16 00:53:32,700 [DEBUG] [server] }
2025-06-16 00:53:32,700 [DEBUG] [server] 
2025-06-16 00:53:32,700 [DEBUG] [server] [2025-06-16 00:53:32] [INFO] [server:84] received message [SYNC_RESPONSE]
2025-06-16 00:53:32,700 [DEBUG] [server]   sender   : node1
2025-06-16 00:53:32,700 [DEBUG] [server]   full msg :
2025-06-16 00:53:32,700 [DEBUG] [server] type: SYNC_RESPONSE
2025-06-16 00:53:32,700 [DEBUG] [server] sender_id: "node1"
2025-06-16 00:53:32,700 [DEBUG] [server] sync_response {
2025-06-16 00:53:32,700 [DEBUG] [server]   blocks {
2025-06-16 00:53:32,700 [DEBUG] [server]     prev_hash: "0000000000000000000000000000000000000000000000000000000000000000"
2025-06-16 00:53:32,700 [DEBUG] [server]     hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-16 00:53:32,700 [DEBUG] [server]     validator: "genesis"
2025-06-16 00:53:32,700 [DEBUG] [server]   }
2025-06-16 00:53:32,700 [DEBUG] [server] }
2025-06-16 00:53:32,700 [DEBUG] [server] 
2025-06-16 00:53:32,701 [DEBUG] [node1] [2025-06-16 00:53:32] [INFO] [node1:315] Received SYNC_RESPONSE from node2, storing response
2025-06-16 00:53:32,701 [DEBUG] [node2] [2025-06-16 00:53:32] [INFO] [node2:315] Received SYNC_RESPONSE from node1, storing response
2025-06-16 00:53:34,701 [DEBUG] [node1] [2025-06-16 00:53:34] [INFO] [node1:387] SYNC_RESPONSE collection finished. Processing responses.
2025-06-16 00:53:34,702 [DEBUG] [node2] [2025-06-16 00:53:34] [INFO] [node2:387] SYNC_RESPONSE collection finished. Processing responses.
2025-06-16 00:53:34,702 [DEBUG] [node2] [2025-06-16 00:53:34] [INFO] [node2:377] SYNC_RESPONSE from node1: chain length=1     head=97045df0
2025-06-16 00:53:34,702 [DEBUG] [node1] [2025-06-16 00:53:34] [INFO] [node1:377] SYNC_RESPONSE from node2: chain length=1     head=97045df0
2025-06-16 00:53:34,703 [DEBUG] [node1] [2025-06-16 00:53:34] [INFO] [node1:406] no need to sync chain, best chain same with local chain
2025-06-16 00:53:34,703 [DEBUG] [node2] [2025-06-16 00:53:34] [INFO] [node2:406] no need to sync chain, best chain same with local chain
2025-06-16 00:55:09,032 [WARNING] 捕获终止信号，正在优雅收尾…
2025-06-16 00:55:09,061 [WARNING] Loop <_UnixSelectorEventLoop running=False closed=True debug=False> that handles pid 47356 is closed
2025-06-16 00:55:09,061 [WARNING] Loop <_UnixSelectorEventLoop running=False closed=True debug=False> that handles pid 47357 is closed
2025-06-16 00:55:09,065 [WARNING] Loop <_UnixSelectorEventLoop running=False closed=True debug=False> that handles pid 47349 is closed
2025-06-16 00:55:44,024 [DEBUG] Using selector: KqueueSelector
2025-06-16 00:55:44,026 [INFO] 启动 server (pid=47792)
2025-06-16 00:55:44,027 [INFO] 等待服务器 127.0.0.1:5000 …
2025-06-16 00:55:44,102 [DEBUG] [server] [2025-06-16 00:55:44] [INFO] [server:44] Async server started on 127.0.0.1:5000
2025-06-16 00:55:44,329 [INFO] 服务器端口就绪
2025-06-16 00:55:44,334 [DEBUG] [server] [2025-06-16 00:55:44] [INFO] [server:62] New connection from ('127.0.0.1', 52457)
2025-06-16 00:55:44,335 [INFO] 启动 node1 (pid=47793)
2025-06-16 00:55:44,340 [INFO] 启动 node2 (pid=47794)
2025-06-16 00:55:44,340 [INFO] DEBUG 模式：按 Enter 推进 1 秒，输入 q 退出
2025-06-16 00:55:44,340 [INFO] >>> (server) stop
2025-06-16 00:55:44,343 [DEBUG] [server] [2025-06-16 00:55:44] [INFO] [server:252] Stopped sending STEP messages
2025-06-16 00:55:44,430 [DEBUG] [server] [2025-06-16 00:55:44] [INFO] [server:62] New connection from ('127.0.0.1', 52458)
2025-06-16 00:55:44,430 [DEBUG] [server] [2025-06-16 00:55:44] [INFO] [server:62] New connection from ('127.0.0.1', 52459)
2025-06-16 00:55:44,433 [DEBUG] [server] [2025-06-16 00:55:44] [INFO] [server:84] received message [HELLO]
2025-06-16 00:55:44,433 [DEBUG] [server]   sender   : node2
2025-06-16 00:55:44,433 [DEBUG] [server]   full msg :
2025-06-16 00:55:44,433 [DEBUG] [server] sender_id: "node2"
2025-06-16 00:55:44,433 [DEBUG] [server] 
2025-06-16 00:55:44,434 [DEBUG] [node2] [2025-06-16 00:55:44] [INFO] [node2:421] Sent SYNC_REQUEST to network
2025-06-16 00:55:44,434 [DEBUG] [node2] [2025-06-16 00:55:44] [INFO] [node2:79] Node node2 started. Connected to server at 127.0.0.1:5000.
2025-06-16 00:55:44,435 [DEBUG] [node1] [2025-06-16 00:55:44] [INFO] [node1:421] Sent SYNC_REQUEST to network
2025-06-16 00:55:44,435 [DEBUG] [node1] [2025-06-16 00:55:44] [INFO] [node1:79] Node node1 started. Connected to server at 127.0.0.1:5000.
2025-06-16 00:55:44,435 [DEBUG] [node1] [2025-06-16 00:55:44] [INFO] [node1:80] Current chain length: 0 (excluding genesis)
2025-06-16 00:55:44,435 [DEBUG] [node2] [2025-06-16 00:55:44] [INFO] [node2:80] Current chain length: 0 (excluding genesis)
2025-06-16 00:55:44,436 [DEBUG] [server] [2025-06-16 00:55:44] [INFO] [server:84] received message [SYNC_REQUEST]
2025-06-16 00:55:44,437 [DEBUG] [server]   sender   : node2
2025-06-16 00:55:44,437 [DEBUG] [server]   full msg :
2025-06-16 00:55:44,437 [DEBUG] [server] type: SYNC_REQUEST
2025-06-16 00:55:44,437 [DEBUG] [server] sender_id: "node2"
2025-06-16 00:55:44,437 [DEBUG] [server] 
2025-06-16 00:55:44,437 [DEBUG] [node1] [2025-06-16 00:55:44] [INFO] [node1:98] Received HELLO message from node node22.
2025-06-16 00:55:44,437 [DEBUG] [node1] [2025-06-16 00:55:44] [INFO] [node1:293] Received SYNC_REQUEST from node2, sending SYNC_RESPONSE
2025-06-16 00:55:44,437 [DEBUG] [server] [2025-06-16 00:55:44] [INFO] [server:84] received message [HELLO]
2025-06-16 00:55:44,437 [DEBUG] [server]   sender   : node1
2025-06-16 00:55:44,437 [DEBUG] [server]   full msg :
2025-06-16 00:55:44,437 [DEBUG] [server] sender_id: "node1"
2025-06-16 00:55:44,437 [DEBUG] [server] 
2025-06-16 00:55:44,437 [DEBUG] [server] [2025-06-16 00:55:44] [INFO] [server:84] received message [SYNC_REQUEST]
2025-06-16 00:55:44,437 [DEBUG] [server]   sender   : node1
2025-06-16 00:55:44,437 [DEBUG] [server]   full msg :
2025-06-16 00:55:44,437 [DEBUG] [server] type: SYNC_REQUEST
2025-06-16 00:55:44,437 [DEBUG] [server] sender_id: "node1"
2025-06-16 00:55:44,437 [DEBUG] [server] 
2025-06-16 00:55:44,437 [DEBUG] [node2] [2025-06-16 00:55:44] [INFO] [node2:98] Received HELLO message from node node12.
2025-06-16 00:55:44,438 [DEBUG] [node2] [2025-06-16 00:55:44] [INFO] [node2:293] Received SYNC_REQUEST from node1, sending SYNC_RESPONSE
2025-06-16 00:55:44,438 [DEBUG] [server] [2025-06-16 00:55:44] [INFO] [server:84] received message [SYNC_RESPONSE]
2025-06-16 00:55:44,438 [DEBUG] [server]   sender   : node1
2025-06-16 00:55:44,438 [DEBUG] [server]   full msg :
2025-06-16 00:55:44,438 [DEBUG] [server] type: SYNC_RESPONSE
2025-06-16 00:55:44,438 [DEBUG] [server] sender_id: "node1"
2025-06-16 00:55:44,438 [DEBUG] [server] sync_response {
2025-06-16 00:55:44,438 [DEBUG] [server]   blocks {
2025-06-16 00:55:44,438 [DEBUG] [server]     prev_hash: "0000000000000000000000000000000000000000000000000000000000000000"
2025-06-16 00:55:44,438 [DEBUG] [server]     hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-16 00:55:44,438 [DEBUG] [server]     validator: "genesis"
2025-06-16 00:55:44,438 [DEBUG] [server]   }
2025-06-16 00:55:44,438 [DEBUG] [server] }
2025-06-16 00:55:44,438 [DEBUG] [server] 
2025-06-16 00:55:44,438 [DEBUG] [server] [2025-06-16 00:55:44] [INFO] [server:84] received message [SYNC_RESPONSE]
2025-06-16 00:55:44,438 [DEBUG] [server]   sender   : node2
2025-06-16 00:55:44,438 [DEBUG] [server]   full msg :
2025-06-16 00:55:44,438 [DEBUG] [server] type: SYNC_RESPONSE
2025-06-16 00:55:44,438 [DEBUG] [server] sender_id: "node2"
2025-06-16 00:55:44,438 [DEBUG] [server] sync_response {
2025-06-16 00:55:44,438 [DEBUG] [server]   blocks {
2025-06-16 00:55:44,438 [DEBUG] [server]     prev_hash: "0000000000000000000000000000000000000000000000000000000000000000"
2025-06-16 00:55:44,438 [DEBUG] [server]     hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-16 00:55:44,439 [DEBUG] [server]     validator: "genesis"
2025-06-16 00:55:44,439 [DEBUG] [server]   }
2025-06-16 00:55:44,439 [DEBUG] [server] }
2025-06-16 00:55:44,439 [DEBUG] [server] 
2025-06-16 00:55:44,439 [DEBUG] [node2] [2025-06-16 00:55:44] [INFO] [node2:316] Received SYNC_RESPONSE from node1, storing response
2025-06-16 00:55:44,439 [DEBUG] [node1] [2025-06-16 00:55:44] [INFO] [node1:316] Received SYNC_RESPONSE from node2, storing response
2025-06-16 00:55:46,440 [DEBUG] [node1] [2025-06-16 00:55:46] [INFO] [node1:388] SYNC_RESPONSE collection finished. Processing responses.
2025-06-16 00:55:46,440 [DEBUG] [node1] [2025-06-16 00:55:46] [INFO] [node1:378] SYNC_RESPONSE from node2: chain length=1     head=97045df0
2025-06-16 00:55:46,441 [DEBUG] [node1] [2025-06-16 00:55:46] [INFO] [node1:407] no need to sync chain, best chain same with local chain
2025-06-16 00:55:46,442 [DEBUG] [node2] [2025-06-16 00:55:46] [INFO] [node2:388] SYNC_RESPONSE collection finished. Processing responses.
2025-06-16 00:55:46,442 [DEBUG] [node2] [2025-06-16 00:55:46] [INFO] [node2:378] SYNC_RESPONSE from node1: chain length=1     head=97045df0
2025-06-16 00:55:46,442 [DEBUG] [node2] [2025-06-16 00:55:46] [INFO] [node2:407] no need to sync chain, best chain same with local chain
2025-06-16 01:01:19,527 [WARNING] 捕获终止信号，正在优雅收尾…
2025-06-16 01:01:19,564 [WARNING] Loop <_UnixSelectorEventLoop running=False closed=True debug=False> that handles pid 47793 is closed
2025-06-16 01:01:19,564 [WARNING] Loop <_UnixSelectorEventLoop running=False closed=True debug=False> that handles pid 47794 is closed
2025-06-16 01:01:19,569 [WARNING] Loop <_UnixSelectorEventLoop running=False closed=True debug=False> that handles pid 47792 is closed
2025-06-16 01:01:23,272 [DEBUG] Using selector: KqueueSelector
2025-06-16 01:01:23,275 [INFO] 启动 server (pid=48722)
2025-06-16 01:01:23,275 [INFO] 等待服务器 127.0.0.1:5000 …
2025-06-16 01:01:23,351 [DEBUG] [server] [2025-06-16 01:01:23] [INFO] [server:44] Async server started on 127.0.0.1:5000
2025-06-16 01:01:23,578 [INFO] 服务器端口就绪
2025-06-16 01:01:23,583 [DEBUG] [server] [2025-06-16 01:01:23] [INFO] [server:62] New connection from ('127.0.0.1', 52654)
2025-06-16 01:01:23,584 [INFO] 启动 node1 (pid=48723)
2025-06-16 01:01:23,588 [INFO] 启动 node2 (pid=48724)
2025-06-16 01:01:23,588 [INFO] DEBUG 模式：按 Enter 推进 1 秒，输入 q 退出
2025-06-16 01:01:23,588 [INFO] >>> (server) stop
2025-06-16 01:01:23,592 [DEBUG] [server] [2025-06-16 01:01:23] [INFO] [server:252] Stopped sending STEP messages
2025-06-16 01:01:23,675 [DEBUG] [server] [2025-06-16 01:01:23] [INFO] [server:62] New connection from ('127.0.0.1', 52655)
2025-06-16 01:01:23,675 [DEBUG] [server] [2025-06-16 01:01:23] [INFO] [server:62] New connection from ('127.0.0.1', 52656)
2025-06-16 01:01:23,678 [DEBUG] [node1] [2025-06-16 01:01:23] [INFO] [node1:423] Sent SYNC_REQUEST to network
2025-06-16 01:01:23,678 [DEBUG] [node2] [2025-06-16 01:01:23] [INFO] [node2:423] Sent SYNC_REQUEST to network
2025-06-16 01:01:23,678 [DEBUG] [server] [2025-06-16 01:01:23] [INFO] [server:84] received message [HELLO]
2025-06-16 01:01:23,678 [DEBUG] [server]   sender   : node1
2025-06-16 01:01:23,678 [DEBUG] [server]   full msg :
2025-06-16 01:01:23,679 [DEBUG] [server] sender_id: "node1"
2025-06-16 01:01:23,679 [DEBUG] [server] 
2025-06-16 01:01:23,679 [DEBUG] [node1] [2025-06-16 01:01:23] [INFO] [node1:79] Node node1 started. Connected to server at 127.0.0.1:5000.
2025-06-16 01:01:23,679 [DEBUG] [node1] [2025-06-16 01:01:23] [INFO] [node1:80] Current chain length: 0 (excluding genesis)
2025-06-16 01:01:23,679 [DEBUG] [node2] [2025-06-16 01:01:23] [INFO] [node2:79] Node node2 started. Connected to server at 127.0.0.1:5000.
2025-06-16 01:01:23,679 [DEBUG] [node2] [2025-06-16 01:01:23] [INFO] [node2:80] Current chain length: 0 (excluding genesis)
2025-06-16 01:01:23,682 [DEBUG] [server] [2025-06-16 01:01:23] [INFO] [server:84] received message [SYNC_REQUEST]
2025-06-16 01:01:23,682 [DEBUG] [server]   sender   : node1
2025-06-16 01:01:23,682 [DEBUG] [server]   full msg :
2025-06-16 01:01:23,682 [DEBUG] [server] type: SYNC_REQUEST
2025-06-16 01:01:23,682 [DEBUG] [server] sender_id: "node1"
2025-06-16 01:01:23,682 [DEBUG] [server] 
2025-06-16 01:01:23,682 [DEBUG] [node2] [2025-06-16 01:01:23] [INFO] [node2:98] Received HELLO message from node node12.
2025-06-16 01:01:23,682 [DEBUG] [server] [2025-06-16 01:01:23] [INFO] [server:84] received message [HELLO]
2025-06-16 01:01:23,682 [DEBUG] [server]   sender   : node2
2025-06-16 01:01:23,682 [DEBUG] [server]   full msg :
2025-06-16 01:01:23,682 [DEBUG] [server] sender_id: "node2"
2025-06-16 01:01:23,682 [DEBUG] [server] 
2025-06-16 01:01:23,682 [DEBUG] [server] [2025-06-16 01:01:23] [INFO] [server:84] received message [SYNC_REQUEST]
2025-06-16 01:01:23,683 [DEBUG] [server]   sender   : node2
2025-06-16 01:01:23,683 [DEBUG] [server]   full msg :
2025-06-16 01:01:23,683 [DEBUG] [server] type: SYNC_REQUEST
2025-06-16 01:01:23,683 [DEBUG] [server] sender_id: "node2"
2025-06-16 01:01:23,683 [DEBUG] [server] 
2025-06-16 01:01:23,683 [DEBUG] [server] [2025-06-16 01:01:23] [INFO] [server:84] received message [SYNC_RESPONSE]
2025-06-16 01:01:23,683 [DEBUG] [server]   sender   : node2
2025-06-16 01:01:23,683 [DEBUG] [server]   full msg :
2025-06-16 01:01:23,683 [DEBUG] [server] type: SYNC_RESPONSE
2025-06-16 01:01:23,683 [DEBUG] [server] sender_id: "node2"
2025-06-16 01:01:23,683 [DEBUG] [server] sync_response {
2025-06-16 01:01:23,683 [DEBUG] [server]   blocks {
2025-06-16 01:01:23,683 [DEBUG] [server]     prev_hash: "0000000000000000000000000000000000000000000000000000000000000000"
2025-06-16 01:01:23,683 [DEBUG] [server]     hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-16 01:01:23,683 [DEBUG] [server]     validator: "genesis"
2025-06-16 01:01:23,683 [DEBUG] [server]   }
2025-06-16 01:01:23,683 [DEBUG] [server] }
2025-06-16 01:01:23,683 [DEBUG] [server] 
2025-06-16 01:01:23,683 [DEBUG] [node2] [2025-06-16 01:01:23] [INFO] [node2:295] Received SYNC_REQUEST from node1, sending SYNC_RESPONSE
2025-06-16 01:01:23,683 [DEBUG] [node1] [2025-06-16 01:01:23] [INFO] [node1:98] Received HELLO message from node node22.
2025-06-16 01:01:23,683 [DEBUG] [node1] [2025-06-16 01:01:23] [INFO] [node1:295] Received SYNC_REQUEST from node2, sending SYNC_RESPONSE
2025-06-16 01:01:23,683 [DEBUG] [node1] [2025-06-16 01:01:23] [INFO] [node1:318] Received SYNC_RESPONSE from node2, storing response
2025-06-16 01:01:23,684 [DEBUG] [server] [2025-06-16 01:01:23] [INFO] [server:84] received message [SYNC_RESPONSE]
2025-06-16 01:01:23,684 [DEBUG] [server]   sender   : node1
2025-06-16 01:01:23,684 [DEBUG] [server]   full msg :
2025-06-16 01:01:23,684 [DEBUG] [server] type: SYNC_RESPONSE
2025-06-16 01:01:23,684 [DEBUG] [server] sender_id: "node1"
2025-06-16 01:01:23,684 [DEBUG] [server] sync_response {
2025-06-16 01:01:23,684 [DEBUG] [server]   blocks {
2025-06-16 01:01:23,684 [DEBUG] [server]     prev_hash: "0000000000000000000000000000000000000000000000000000000000000000"
2025-06-16 01:01:23,684 [DEBUG] [server]     hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-16 01:01:23,684 [DEBUG] [server]     validator: "genesis"
2025-06-16 01:01:23,684 [DEBUG] [server]   }
2025-06-16 01:01:23,684 [DEBUG] [server] }
2025-06-16 01:01:23,684 [DEBUG] [server] 
2025-06-16 01:01:23,684 [DEBUG] [node2] [2025-06-16 01:01:23] [INFO] [node2:318] Received SYNC_RESPONSE from node1, storing response
2025-06-16 01:01:25,370 [DEBUG] [DEBUG] 1s 无命令
2025-06-16 01:01:25,592 [DEBUG] [DEBUG] 2s 无命令
2025-06-16 01:01:25,685 [DEBUG] [node2] [2025-06-16 01:01:25] [INFO] [node2:390] SYNC_RESPONSE collection finished. Processing responses.
2025-06-16 01:01:25,685 [DEBUG] [node2] [2025-06-16 01:01:25] [INFO] [node2:380] SYNC_RESPONSE from node1: chain length=1     head=97045df0
2025-06-16 01:01:25,686 [DEBUG] [node1] [2025-06-16 01:01:25] [INFO] [node1:390] SYNC_RESPONSE collection finished. Processing responses.
2025-06-16 01:01:25,686 [DEBUG] [node1] [2025-06-16 01:01:25] [INFO] [node1:380] SYNC_RESPONSE from node2: chain length=1     head=97045df0
2025-06-16 01:01:25,686 [DEBUG] [node1] [2025-06-16 01:01:25] [INFO] [node1:409] no need to sync chain, best chain same with local chain
2025-06-16 01:01:25,686 [DEBUG] [node2] [2025-06-16 01:01:25] [INFO] [node2:409] no need to sync chain, best chain same with local chain
2025-06-16 01:01:25,736 [DEBUG] [DEBUG] 3s 无命令
2025-06-16 01:01:25,894 [DEBUG] [DEBUG] 4s 无命令
2025-06-16 01:01:26,372 [INFO] >>> (node1) stake 10
2025-06-16 01:01:26,372 [INFO] >>> (node1) tx node2 10
2025-06-16 01:01:26,374 [DEBUG] [node1] [2025-06-16 01:01:26] [INFO] [node1:453] sent STAKE transaction: node1 -> node1 10.0
2025-06-16 01:01:26,374 [DEBUG] [node1] [2025-06-16 01:01:26] [INFO] [node1:595] Want to stake 10.0 tokens.
2025-06-16 01:01:26,374 [DEBUG] [node1] [2025-06-16 01:01:26] [INFO] [node1:453] sent TRANSFER transaction: node1 -> node2 10.0
2025-06-16 01:01:26,375 [DEBUG] [server] [2025-06-16 01:01:26] [INFO] [server:84] received message [TRANSACTION]
2025-06-16 01:01:26,375 [DEBUG] [server]   sender   : node1
2025-06-16 01:01:26,375 [DEBUG] [server]   full msg :
2025-06-16 01:01:26,375 [DEBUG] [server] type: TRANSACTION
2025-06-16 01:01:26,376 [DEBUG] [server] sender_id: "node1"
2025-06-16 01:01:26,376 [DEBUG] [server] tx {
2025-06-16 01:01:26,376 [DEBUG] [server]   sender: "node1"
2025-06-16 01:01:26,376 [DEBUG] [server]   receiver: "node1"
2025-06-16 01:01:26,377 [DEBUG] [server]   amount: 10.0
2025-06-16 01:01:26,377 [DEBUG] [server]   timestamp: 1750006886.3728058
2025-06-16 01:01:26,377 [DEBUG] [server]   type: STAKE
2025-06-16 01:01:26,377 [DEBUG] [server] }
2025-06-16 01:01:26,377 [DEBUG] [server] 
2025-06-16 01:01:26,378 [DEBUG] [server] [2025-06-16 01:01:26] [INFO] [server:84] received message [TRANSACTION]
2025-06-16 01:01:26,378 [DEBUG] [server]   sender   : node1
2025-06-16 01:01:26,378 [DEBUG] [server]   full msg :
2025-06-16 01:01:26,378 [DEBUG] [server] type: TRANSACTION
2025-06-16 01:01:26,378 [DEBUG] [server] sender_id: "node1"
2025-06-16 01:01:26,378 [DEBUG] [server] tx {
2025-06-16 01:01:26,378 [DEBUG] [server]   sender: "node1"
2025-06-16 01:01:26,378 [DEBUG] [server]   receiver: "node2"
2025-06-16 01:01:26,379 [DEBUG] [server]   amount: 10.0
2025-06-16 01:01:26,379 [DEBUG] [server]   timestamp: 1750006886.373796
2025-06-16 01:01:26,379 [DEBUG] [server] }
2025-06-16 01:01:26,379 [DEBUG] [server] 
2025-06-16 01:01:26,379 [DEBUG] [node2] [2025-06-16 01:01:26] [INFO] [node2:276] received STAKE: node1 stakes 10.0
2025-06-16 01:01:26,379 [DEBUG] [node2] [2025-06-16 01:01:26] [INFO] [node2:270] received TRANSFER: node1 → node2, amount 10.0
2025-06-16 01:01:26,548 [DEBUG] [DEBUG] 6s 无命令
2025-06-16 01:01:26,852 [INFO] >>> (node1) forge --force
2025-06-16 01:01:26,852 [INFO] >>> (node2) stake 10
2025-06-16 01:01:26,853 [DEBUG] [node1] [2025-06-16 01:01:26] [WARNING] [node1:503] FORCING block forge -- skipping validator check!
2025-06-16 01:01:26,853 [DEBUG] [node2] [2025-06-16 01:01:26] [INFO] [node2:453] sent STAKE transaction: node2 -> node2 10.0
2025-06-16 01:01:26,854 [DEBUG] [node2] [2025-06-16 01:01:26] [INFO] [node2:595] Want to stake 10.0 tokens.
2025-06-16 01:01:26,854 [DEBUG] [node1] [2025-06-16 01:01:26] [INFO] [node1:521] Want to forge block 1 with hash 929f7269
2025-06-16 01:01:26,854 [DEBUG] [server] [2025-06-16 01:01:26] [INFO] [server:84] received message [TRANSACTION]
2025-06-16 01:01:26,854 [DEBUG] [server]   sender   : node2
2025-06-16 01:01:26,855 [DEBUG] [server]   full msg :
2025-06-16 01:01:26,855 [DEBUG] [server] type: TRANSACTION
2025-06-16 01:01:26,855 [DEBUG] [server] sender_id: "node2"
2025-06-16 01:01:26,855 [DEBUG] [server] tx {
2025-06-16 01:01:26,855 [DEBUG] [server]   sender: "node2"
2025-06-16 01:01:26,855 [DEBUG] [server]   receiver: "node2"
2025-06-16 01:01:26,855 [DEBUG] [server]   amount: 10.0
2025-06-16 01:01:26,855 [DEBUG] [server]   timestamp: 1750006886.853167
2025-06-16 01:01:26,856 [DEBUG] [server]   type: STAKE
2025-06-16 01:01:26,856 [DEBUG] [server] }
2025-06-16 01:01:26,856 [DEBUG] [server] 
2025-06-16 01:01:26,856 [DEBUG] [node1] [2025-06-16 01:01:26] [INFO] [node1:128] Voted to accept Block 1, hash=929f7269
2025-06-16 01:01:26,856 [DEBUG] [node1] [2025-06-16 01:01:26] [INFO] [node1:276] received STAKE: node2 stakes 10.0
2025-06-16 01:01:26,857 [DEBUG] [node1] [2025-06-16 01:01:26] [INFO] [node1:216] Received BLOCK_VOTE from node2 on block 929f7269
2025-06-16 01:01:26,857 [DEBUG] [node1] [2025-06-16 01:01:26] [INFO] [node1:236] Block 929f7269 vote ratio: 0.50(1/2)
2025-06-16 01:01:26,857 [DEBUG] [server] [2025-06-16 01:01:26] [INFO] [server:84] received message [BLOCK]
2025-06-16 01:01:26,857 [DEBUG] [server]   sender   : node1
2025-06-16 01:01:26,857 [DEBUG] [server]   full msg :
2025-06-16 01:01:26,857 [DEBUG] [server] type: BLOCK
2025-06-16 01:01:26,857 [DEBUG] [server] sender_id: "node1"
2025-06-16 01:01:26,858 [DEBUG] [server] block {
2025-06-16 01:01:26,858 [DEBUG] [server]   index: 1
2025-06-16 01:01:26,858 [DEBUG] [server]   prev_hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-16 01:01:26,858 [DEBUG] [server]   hash: "929f72696180ec8a20b2a806accae5af238a4a753ed2d80945b42b15705a2adb"
2025-06-16 01:01:26,858 [DEBUG] [server]   validator: "node1"
2025-06-16 01:01:26,858 [DEBUG] [server]   transactions {
2025-06-16 01:01:26,858 [DEBUG] [server]     sender: "node1"
2025-06-16 01:01:26,858 [DEBUG] [server]     receiver: "node1"
2025-06-16 01:01:26,859 [DEBUG] [server]     amount: 10.0
2025-06-16 01:01:26,859 [DEBUG] [server]     timestamp: 1750006886.3728058
2025-06-16 01:01:26,859 [DEBUG] [server]     type: STAKE
2025-06-16 01:01:26,859 [DEBUG] [server]   }
2025-06-16 01:01:26,859 [DEBUG] [server]   transactions {
2025-06-16 01:01:26,859 [DEBUG] [server]     sender: "node1"
2025-06-16 01:01:26,859 [DEBUG] [server]     receiver: "node2"
2025-06-16 01:01:26,859 [DEBUG] [server]     amount: 10.0
2025-06-16 01:01:26,859 [DEBUG] [server]     timestamp: 1750006886.373796
2025-06-16 01:01:26,860 [DEBUG] [server]   }
2025-06-16 01:01:26,860 [DEBUG] [server]   timestamp: 1750006886.853277
2025-06-16 01:01:26,860 [DEBUG] [server] }
2025-06-16 01:01:26,860 [DEBUG] [server] 
2025-06-16 01:01:26,860 [DEBUG] [server] [2025-06-16 01:01:26] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-16 01:01:26,860 [DEBUG] [server]   sender   : node1
2025-06-16 01:01:26,860 [DEBUG] [server]   full msg :
2025-06-16 01:01:26,860 [DEBUG] [server] type: BLOCK_VOTE
2025-06-16 01:01:26,861 [DEBUG] [server] sender_id: "node1"
2025-06-16 01:01:26,861 [DEBUG] [server] block_vote {
2025-06-16 01:01:26,861 [DEBUG] [server]   voter_id: "node1"
2025-06-16 01:01:26,861 [DEBUG] [server]   block_hash: "929f72696180ec8a20b2a806accae5af238a4a753ed2d80945b42b15705a2adb"
2025-06-16 01:01:26,861 [DEBUG] [server] }
2025-06-16 01:01:26,861 [DEBUG] [server] 
2025-06-16 01:01:26,861 [DEBUG] [server] [2025-06-16 01:01:26] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-16 01:01:26,861 [DEBUG] [server]   sender   : node2
2025-06-16 01:01:26,861 [DEBUG] [server]   full msg :
2025-06-16 01:01:26,862 [DEBUG] [server] type: BLOCK_VOTE
2025-06-16 01:01:26,862 [DEBUG] [server] sender_id: "node2"
2025-06-16 01:01:26,862 [DEBUG] [server] block_vote {
2025-06-16 01:01:26,862 [DEBUG] [server]   voter_id: "node2"
2025-06-16 01:01:26,862 [DEBUG] [server]   block_hash: "929f72696180ec8a20b2a806accae5af238a4a753ed2d80945b42b15705a2adb"
2025-06-16 01:01:26,862 [DEBUG] [server] }
2025-06-16 01:01:26,862 [DEBUG] [server] 
2025-06-16 01:01:26,863 [DEBUG] [node2] [2025-06-16 01:01:26] [INFO] [node2:128] Voted to accept Block 1, hash=929f7269
2025-06-16 01:01:26,863 [DEBUG] [node2] [2025-06-16 01:01:26] [INFO] [node2:216] Received BLOCK_VOTE from node1 on block 929f7269
2025-06-16 01:01:26,863 [DEBUG] [node2] [2025-06-16 01:01:26] [INFO] [node2:236] Block 929f7269 vote ratio: 0.50(1/2)
2025-06-16 01:01:27,030 [INFO] >>> (node2) forge --force
2025-06-16 01:01:27,032 [DEBUG] [node2] [2025-06-16 01:01:27] [WARNING] [node2:503] FORCING block forge -- skipping validator check!
2025-06-16 01:01:27,033 [DEBUG] [node2] [2025-06-16 01:01:27] [INFO] [node2:521] Want to forge block 1 with hash 203077dc
2025-06-16 01:01:27,033 [DEBUG] [node2] [2025-06-16 01:01:27] [INFO] [node2:128] Voted to accept Block 1, hash=203077dc
2025-06-16 01:01:27,034 [DEBUG] [server] [2025-06-16 01:01:27] [INFO] [server:84] received message [BLOCK]
2025-06-16 01:01:27,035 [DEBUG] [server]   sender   : node2
2025-06-16 01:01:27,035 [DEBUG] [server]   full msg :
2025-06-16 01:01:27,035 [DEBUG] [server] type: BLOCK
2025-06-16 01:01:27,035 [DEBUG] [server] sender_id: "node2"
2025-06-16 01:01:27,035 [DEBUG] [server] block {
2025-06-16 01:01:27,036 [DEBUG] [server]   index: 1
2025-06-16 01:01:27,036 [DEBUG] [server]   prev_hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-16 01:01:27,036 [DEBUG] [server]   hash: "203077dc26d21e6b000b2d9eba236ccce41e66253e9a53e20765934bd09f4962"
2025-06-16 01:01:27,036 [DEBUG] [server]   validator: "node2"
2025-06-16 01:01:27,036 [DEBUG] [server]   transactions {
2025-06-16 01:01:27,036 [DEBUG] [server]     sender: "node1"
2025-06-16 01:01:27,037 [DEBUG] [server]     receiver: "node1"
2025-06-16 01:01:27,037 [DEBUG] [server]     amount: 10.0
2025-06-16 01:01:27,037 [DEBUG] [server]     timestamp: 1750006886.3728058
2025-06-16 01:01:27,037 [DEBUG] [server]     type: STAKE
2025-06-16 01:01:27,037 [DEBUG] [server]   }
2025-06-16 01:01:27,037 [DEBUG] [server]   transactions {
2025-06-16 01:01:27,037 [DEBUG] [server]     sender: "node1"
2025-06-16 01:01:27,037 [DEBUG] [server]     receiver: "node2"
2025-06-16 01:01:27,038 [DEBUG] [server]     amount: 10.0
2025-06-16 01:01:27,038 [DEBUG] [server]     timestamp: 1750006886.373796
2025-06-16 01:01:27,038 [DEBUG] [server]   }
2025-06-16 01:01:27,038 [DEBUG] [server]   transactions {
2025-06-16 01:01:27,038 [DEBUG] [server]     sender: "node2"
2025-06-16 01:01:27,038 [DEBUG] [server]     receiver: "node2"
2025-06-16 01:01:27,038 [DEBUG] [server]     amount: 10.0
2025-06-16 01:01:27,038 [DEBUG] [server]     timestamp: 1750006886.853167
2025-06-16 01:01:27,038 [DEBUG] [server]     type: STAKE
2025-06-16 01:01:27,039 [DEBUG] [server]   }
2025-06-16 01:01:27,039 [DEBUG] [server]   timestamp: 1750006887.0321238
2025-06-16 01:01:27,039 [DEBUG] [server] }
2025-06-16 01:01:27,039 [DEBUG] [server] 
2025-06-16 01:01:27,039 [DEBUG] [server] [2025-06-16 01:01:27] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-16 01:01:27,040 [DEBUG] [server]   sender   : node2
2025-06-16 01:01:27,040 [DEBUG] [server]   full msg :
2025-06-16 01:01:27,040 [DEBUG] [server] type: BLOCK_VOTE
2025-06-16 01:01:27,041 [DEBUG] [server] sender_id: "node2"
2025-06-16 01:01:27,041 [DEBUG] [server] block_vote {
2025-06-16 01:01:27,041 [DEBUG] [server]   voter_id: "node2"
2025-06-16 01:01:27,041 [DEBUG] [server]   block_hash: "203077dc26d21e6b000b2d9eba236ccce41e66253e9a53e20765934bd09f4962"
2025-06-16 01:01:27,041 [DEBUG] [server] }
2025-06-16 01:01:27,041 [DEBUG] [server] 
2025-06-16 01:01:27,041 [DEBUG] [server] [2025-06-16 01:01:27] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-16 01:01:27,042 [DEBUG] [server]   sender   : node1
2025-06-16 01:01:27,042 [DEBUG] [server]   full msg :
2025-06-16 01:01:27,042 [DEBUG] [server] type: BLOCK_VOTE
2025-06-16 01:01:27,042 [DEBUG] [server] sender_id: "node1"
2025-06-16 01:01:27,042 [DEBUG] [server] block_vote {
2025-06-16 01:01:27,042 [DEBUG] [server]   voter_id: "node1"
2025-06-16 01:01:27,042 [DEBUG] [server]   block_hash: "203077dc26d21e6b000b2d9eba236ccce41e66253e9a53e20765934bd09f4962"
2025-06-16 01:01:27,042 [DEBUG] [server] }
2025-06-16 01:01:27,043 [DEBUG] [server] 
2025-06-16 01:01:27,043 [DEBUG] [node1] [2025-06-16 01:01:27] [INFO] [node1:128] Voted to accept Block 1, hash=203077dc
2025-06-16 01:01:27,043 [DEBUG] [node1] [2025-06-16 01:01:27] [INFO] [node1:216] Received BLOCK_VOTE from node2 on block 203077dc
2025-06-16 01:01:27,043 [DEBUG] [node1] [2025-06-16 01:01:27] [INFO] [node1:236] Block 203077dc vote ratio: 0.50(1/2)
2025-06-16 01:01:27,043 [DEBUG] [node2] [2025-06-16 01:01:27] [INFO] [node2:216] Received BLOCK_VOTE from node1 on block 203077dc
2025-06-16 01:01:27,043 [DEBUG] [node2] [2025-06-16 01:01:27] [INFO] [node2:236] Block 203077dc vote ratio: 0.50(1/2)
2025-06-16 01:01:27,300 [DEBUG] [DEBUG] 9s 无命令
2025-06-16 01:01:27,531 [INFO] >>> (node2) tx node1 10
2025-06-16 01:01:27,532 [INFO] >>> (node2) forge --force
2025-06-16 01:01:27,532 [DEBUG] [node2] [2025-06-16 01:01:27] [INFO] [node2:453] sent TRANSFER transaction: node2 -> node1 10.0
2025-06-16 01:01:27,533 [DEBUG] [node2] [2025-06-16 01:01:27] [WARNING] [node2:503] FORCING block forge -- skipping validator check!
2025-06-16 01:01:27,533 [DEBUG] [server] [2025-06-16 01:01:27] [INFO] [server:84] received message [TRANSACTION]
2025-06-16 01:01:27,533 [DEBUG] [server]   sender   : node2
2025-06-16 01:01:27,533 [DEBUG] [server]   full msg :
2025-06-16 01:01:27,533 [DEBUG] [server] type: TRANSACTION
2025-06-16 01:01:27,533 [DEBUG] [server] sender_id: "node2"
2025-06-16 01:01:27,534 [DEBUG] [server] tx {
2025-06-16 01:01:27,534 [DEBUG] [server]   sender: "node2"
2025-06-16 01:01:27,534 [DEBUG] [server]   receiver: "node1"
2025-06-16 01:01:27,534 [DEBUG] [server]   amount: 10.0
2025-06-16 01:01:27,534 [DEBUG] [server]   timestamp: 1750006887.532345
2025-06-16 01:01:27,534 [DEBUG] [server] }
2025-06-16 01:01:27,534 [DEBUG] [server] 
2025-06-16 01:01:27,534 [DEBUG] [node2] [2025-06-16 01:01:27] [INFO] [node2:521] Want to forge block 1 with hash b26dbc93
2025-06-16 01:01:27,534 [DEBUG] [node2] [2025-06-16 01:01:27] [INFO] [node2:128] Voted to accept Block 1, hash=b26dbc93
2025-06-16 01:01:27,535 [DEBUG] [node1] [2025-06-16 01:01:27] [INFO] [node1:270] received TRANSFER: node2 → node1, amount 10.0
2025-06-16 01:01:27,535 [DEBUG] [server] [2025-06-16 01:01:27] [INFO] [server:84] received message [BLOCK]
2025-06-16 01:01:27,535 [DEBUG] [server]   sender   : node2
2025-06-16 01:01:27,535 [DEBUG] [server]   full msg :
2025-06-16 01:01:27,535 [DEBUG] [server] type: BLOCK
2025-06-16 01:01:27,535 [DEBUG] [server] sender_id: "node2"
2025-06-16 01:01:27,535 [DEBUG] [server] block {
2025-06-16 01:01:27,535 [DEBUG] [server]   index: 1
2025-06-16 01:01:27,535 [DEBUG] [server]   prev_hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-16 01:01:27,536 [DEBUG] [server]   hash: "b26dbc933777d26cc5fd83784c0fd25ab89d8b9c844634932302948ca313a586"
2025-06-16 01:01:27,536 [DEBUG] [server]   validator: "node2"
2025-06-16 01:01:27,536 [DEBUG] [server]   transactions {
2025-06-16 01:01:27,536 [DEBUG] [server]     sender: "node1"
2025-06-16 01:01:27,536 [DEBUG] [server]     receiver: "node1"
2025-06-16 01:01:27,536 [DEBUG] [server]     amount: 10.0
2025-06-16 01:01:27,536 [DEBUG] [server]     timestamp: 1750006886.3728058
2025-06-16 01:01:27,536 [DEBUG] [server]     type: STAKE
2025-06-16 01:01:27,536 [DEBUG] [server]   }
2025-06-16 01:01:27,537 [DEBUG] [server]   transactions {
2025-06-16 01:01:27,537 [DEBUG] [server]     sender: "node1"
2025-06-16 01:01:27,537 [DEBUG] [server]     receiver: "node2"
2025-06-16 01:01:27,537 [DEBUG] [server]     amount: 10.0
2025-06-16 01:01:27,537 [DEBUG] [server]     timestamp: 1750006886.373796
2025-06-16 01:01:27,537 [DEBUG] [server]   }
2025-06-16 01:01:27,537 [DEBUG] [server]   transactions {
2025-06-16 01:01:27,537 [DEBUG] [server]     sender: "node2"
2025-06-16 01:01:27,537 [DEBUG] [server]     receiver: "node2"
2025-06-16 01:01:27,537 [DEBUG] [server]     amount: 10.0
2025-06-16 01:01:27,537 [DEBUG] [server]     timestamp: 1750006886.853167
2025-06-16 01:01:27,538 [DEBUG] [server]     type: STAKE
2025-06-16 01:01:27,538 [DEBUG] [server]   }
2025-06-16 01:01:27,538 [DEBUG] [server]   transactions {
2025-06-16 01:01:27,538 [DEBUG] [server]     sender: "node2"
2025-06-16 01:01:27,538 [DEBUG] [server]     receiver: "node1"
2025-06-16 01:01:27,538 [DEBUG] [server]     amount: 10.0
2025-06-16 01:01:27,538 [DEBUG] [server]     timestamp: 1750006887.532345
2025-06-16 01:01:27,538 [DEBUG] [server]   }
2025-06-16 01:01:27,538 [DEBUG] [server]   timestamp: 1750006887.5328698
2025-06-16 01:01:27,538 [DEBUG] [server] }
2025-06-16 01:01:27,538 [DEBUG] [server] 
2025-06-16 01:01:27,538 [DEBUG] [server] [2025-06-16 01:01:27] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-16 01:01:27,539 [DEBUG] [server]   sender   : node2
2025-06-16 01:01:27,539 [DEBUG] [server]   full msg :
2025-06-16 01:01:27,539 [DEBUG] [server] type: BLOCK_VOTE
2025-06-16 01:01:27,539 [DEBUG] [server] sender_id: "node2"
2025-06-16 01:01:27,539 [DEBUG] [server] block_vote {
2025-06-16 01:01:27,539 [DEBUG] [server]   voter_id: "node2"
2025-06-16 01:01:27,539 [DEBUG] [server]   block_hash: "b26dbc933777d26cc5fd83784c0fd25ab89d8b9c844634932302948ca313a586"
2025-06-16 01:01:27,539 [DEBUG] [server] }
2025-06-16 01:01:27,539 [DEBUG] [server] 
2025-06-16 01:01:27,539 [DEBUG] [node1] [2025-06-16 01:01:27] [INFO] [node1:128] Voted to accept Block 1, hash=b26dbc93
2025-06-16 01:01:27,539 [DEBUG] [node1] [2025-06-16 01:01:27] [INFO] [node1:216] Received BLOCK_VOTE from node2 on block b26dbc93
2025-06-16 01:01:27,540 [DEBUG] [node1] [2025-06-16 01:01:27] [INFO] [node1:236] Block b26dbc93 vote ratio: 0.50(1/2)
2025-06-16 01:01:27,540 [DEBUG] [server] [2025-06-16 01:01:27] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-16 01:01:27,540 [DEBUG] [server]   sender   : node1
2025-06-16 01:01:27,540 [DEBUG] [server]   full msg :
2025-06-16 01:01:27,540 [DEBUG] [server] type: BLOCK_VOTE
2025-06-16 01:01:27,540 [DEBUG] [server] sender_id: "node1"
2025-06-16 01:01:27,540 [DEBUG] [server] block_vote {
2025-06-16 01:01:27,540 [DEBUG] [server]   voter_id: "node1"
2025-06-16 01:01:27,540 [DEBUG] [server]   block_hash: "b26dbc933777d26cc5fd83784c0fd25ab89d8b9c844634932302948ca313a586"
2025-06-16 01:01:27,540 [DEBUG] [server] }
2025-06-16 01:01:27,540 [DEBUG] [server] 
2025-06-16 01:01:27,541 [DEBUG] [node2] [2025-06-16 01:01:27] [INFO] [node2:216] Received BLOCK_VOTE from node1 on block b26dbc93
2025-06-16 01:01:27,541 [DEBUG] [node2] [2025-06-16 01:01:27] [INFO] [node2:236] Block b26dbc93 vote ratio: 0.50(1/2)
2025-06-16 01:01:31,861 [DEBUG] [node1] [2025-06-16 01:01:31] [WARNING] [node1:364] Vote timeout for block 929f7269, discarding pending         state.
2025-06-16 01:01:31,862 [DEBUG] [node2] [2025-06-16 01:01:31] [WARNING] [node2:364] Vote timeout for block 929f7269, discarding pending         state.
2025-06-16 01:01:32,040 [DEBUG] [node2] [2025-06-16 01:01:32] [WARNING] [node2:364] Vote timeout for block 203077dc, discarding pending         state.
2025-06-16 01:01:32,042 [DEBUG] [node1] [2025-06-16 01:01:32] [WARNING] [node1:364] Vote timeout for block 203077dc, discarding pending         state.
2025-06-16 01:01:32,540 [DEBUG] [node2] [2025-06-16 01:01:32] [WARNING] [node2:364] Vote timeout for block b26dbc93, discarding pending         state.
2025-06-16 01:01:32,541 [DEBUG] [node1] [2025-06-16 01:01:32] [WARNING] [node1:364] Vote timeout for block b26dbc93, discarding pending         state.
2025-06-16 01:01:35,091 [DEBUG] [DEBUG] 11s 无命令
2025-06-16 01:15:04,384 [WARNING] 捕获终止信号，正在优雅收尾…
2025-06-16 01:15:04,432 [WARNING] Loop <_UnixSelectorEventLoop running=False closed=True debug=False> that handles pid 48723 is closed
2025-06-16 01:15:04,434 [WARNING] Loop <_UnixSelectorEventLoop running=False closed=True debug=False> that handles pid 48724 is closed
2025-06-16 01:15:04,437 [WARNING] Loop <_UnixSelectorEventLoop running=False closed=True debug=False> that handles pid 48722 is closed
2025-06-16 01:15:06,564 [DEBUG] Using selector: KqueueSelector
2025-06-16 01:15:06,566 [INFO] 启动 server (pid=50659)
2025-06-16 01:15:06,566 [INFO] 等待服务器 127.0.0.1:5000 …
2025-06-16 01:15:06,646 [DEBUG] [server] [2025-06-16 01:15:06] [INFO] [server:44] Async server started on 127.0.0.1:5000
2025-06-16 01:15:06,869 [INFO] 服务器端口就绪
2025-06-16 01:15:06,874 [DEBUG] [server] [2025-06-16 01:15:06] [INFO] [server:62] New connection from ('127.0.0.1', 53071)
2025-06-16 01:15:06,875 [INFO] 启动 node1 (pid=50660)
2025-06-16 01:15:06,877 [INFO] 启动 node2 (pid=50661)
2025-06-16 01:15:06,878 [INFO] DEBUG 模式：按 Enter 推进 1 秒，输入 q 退出
2025-06-16 01:15:06,878 [INFO] >>> (server) stop
2025-06-16 01:15:06,880 [DEBUG] [server] [2025-06-16 01:15:06] [INFO] [server:252] Stopped sending STEP messages
2025-06-16 01:15:06,967 [DEBUG] [server] [2025-06-16 01:15:06] [INFO] [server:62] New connection from ('127.0.0.1', 53072)
2025-06-16 01:15:06,967 [DEBUG] [server] [2025-06-16 01:15:06] [INFO] [server:62] New connection from ('127.0.0.1', 53073)
2025-06-16 01:15:06,970 [DEBUG] [node1] [2025-06-16 01:15:06] [INFO] [node1:423] Sent SYNC_REQUEST to network
2025-06-16 01:15:06,971 [DEBUG] [node2] [2025-06-16 01:15:06] [INFO] [node2:423] Sent SYNC_REQUEST to network
2025-06-16 01:15:06,971 [DEBUG] [node2] [2025-06-16 01:15:06] [INFO] [node2:79] Node node2 started. Connected to server at 127.0.0.1:5000.
2025-06-16 01:15:06,971 [DEBUG] [server] [2025-06-16 01:15:06] [INFO] [server:84] received message [HELLO]
2025-06-16 01:15:06,971 [DEBUG] [server]   sender   : node1
2025-06-16 01:15:06,971 [DEBUG] [server]   full msg :
2025-06-16 01:15:06,971 [DEBUG] [server] sender_id: "node1"
2025-06-16 01:15:06,971 [DEBUG] [server] 
2025-06-16 01:15:06,971 [DEBUG] [node1] [2025-06-16 01:15:06] [INFO] [node1:79] Node node1 started. Connected to server at 127.0.0.1:5000.
2025-06-16 01:15:06,971 [DEBUG] [node1] [2025-06-16 01:15:06] [INFO] [node1:80] Current chain length: 0 (excluding genesis)
2025-06-16 01:15:06,971 [DEBUG] [node2] [2025-06-16 01:15:06] [INFO] [node2:80] Current chain length: 0 (excluding genesis)
2025-06-16 01:15:06,976 [DEBUG] [server] [2025-06-16 01:15:06] [INFO] [server:84] received message [HELLO]
2025-06-16 01:15:06,976 [DEBUG] [server]   sender   : node2
2025-06-16 01:15:06,976 [DEBUG] [server]   full msg :
2025-06-16 01:15:06,976 [DEBUG] [server] sender_id: "node2"
2025-06-16 01:15:06,976 [DEBUG] [server] 
2025-06-16 01:15:06,976 [DEBUG] [node2] [2025-06-16 01:15:06] [INFO] [node2:98] Received HELLO message from node node12.
2025-06-16 01:15:06,976 [DEBUG] [server] [2025-06-16 01:15:06] [INFO] [server:84] received message [SYNC_REQUEST]
2025-06-16 01:15:06,977 [DEBUG] [server]   sender   : node1
2025-06-16 01:15:06,977 [DEBUG] [server]   full msg :
2025-06-16 01:15:06,977 [DEBUG] [server] type: SYNC_REQUEST
2025-06-16 01:15:06,977 [DEBUG] [server] sender_id: "node1"
2025-06-16 01:15:06,977 [DEBUG] [server] 
2025-06-16 01:15:06,977 [DEBUG] [server] [2025-06-16 01:15:06] [INFO] [server:84] received message [SYNC_REQUEST]
2025-06-16 01:15:06,977 [DEBUG] [server]   sender   : node2
2025-06-16 01:15:06,977 [DEBUG] [server]   full msg :
2025-06-16 01:15:06,977 [DEBUG] [server] type: SYNC_REQUEST
2025-06-16 01:15:06,977 [DEBUG] [server] sender_id: "node2"
2025-06-16 01:15:06,977 [DEBUG] [server] 
2025-06-16 01:15:06,977 [DEBUG] [server] [2025-06-16 01:15:06] [INFO] [server:84] received message [SYNC_RESPONSE]
2025-06-16 01:15:06,977 [DEBUG] [server]   sender   : node2
2025-06-16 01:15:06,978 [DEBUG] [server]   full msg :
2025-06-16 01:15:06,978 [DEBUG] [server] type: SYNC_RESPONSE
2025-06-16 01:15:06,978 [DEBUG] [server] sender_id: "node2"
2025-06-16 01:15:06,978 [DEBUG] [server] sync_response {
2025-06-16 01:15:06,978 [DEBUG] [server]   blocks {
2025-06-16 01:15:06,978 [DEBUG] [server]     prev_hash: "0000000000000000000000000000000000000000000000000000000000000000"
2025-06-16 01:15:06,978 [DEBUG] [server]     hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-16 01:15:06,978 [DEBUG] [server]     validator: "genesis"
2025-06-16 01:15:06,978 [DEBUG] [server]   }
2025-06-16 01:15:06,978 [DEBUG] [server] }
2025-06-16 01:15:06,978 [DEBUG] [server] 
2025-06-16 01:15:06,978 [DEBUG] [node1] [2025-06-16 01:15:06] [INFO] [node1:98] Received HELLO message from node node22.
2025-06-16 01:15:06,978 [DEBUG] [node1] [2025-06-16 01:15:06] [INFO] [node1:295] Received SYNC_REQUEST from node2, sending SYNC_RESPONSE
2025-06-16 01:15:06,978 [DEBUG] [node2] [2025-06-16 01:15:06] [INFO] [node2:295] Received SYNC_REQUEST from node1, sending SYNC_RESPONSE
2025-06-16 01:15:06,978 [DEBUG] [node1] [2025-06-16 01:15:06] [INFO] [node1:318] Received SYNC_RESPONSE from node2, storing response
2025-06-16 01:15:06,978 [DEBUG] [server] [2025-06-16 01:15:06] [INFO] [server:84] received message [SYNC_RESPONSE]
2025-06-16 01:15:06,978 [DEBUG] [server]   sender   : node1
2025-06-16 01:15:06,978 [DEBUG] [server]   full msg :
2025-06-16 01:15:06,979 [DEBUG] [server] type: SYNC_RESPONSE
2025-06-16 01:15:06,979 [DEBUG] [server] sender_id: "node1"
2025-06-16 01:15:06,979 [DEBUG] [server] sync_response {
2025-06-16 01:15:06,979 [DEBUG] [server]   blocks {
2025-06-16 01:15:06,979 [DEBUG] [server]     prev_hash: "0000000000000000000000000000000000000000000000000000000000000000"
2025-06-16 01:15:06,979 [DEBUG] [server]     hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-16 01:15:06,979 [DEBUG] [server]     validator: "genesis"
2025-06-16 01:15:06,979 [DEBUG] [server]   }
2025-06-16 01:15:06,979 [DEBUG] [server] }
2025-06-16 01:15:06,979 [DEBUG] [server] 
2025-06-16 01:15:06,979 [DEBUG] [node2] [2025-06-16 01:15:06] [INFO] [node2:318] Received SYNC_RESPONSE from node1, storing response
2025-06-16 01:15:08,532 [DEBUG] [DEBUG] 1s 无命令
2025-06-16 01:15:08,696 [DEBUG] [DEBUG] 2s 无命令
2025-06-16 01:15:08,837 [DEBUG] [DEBUG] 3s 无命令
2025-06-16 01:15:08,978 [DEBUG] [node1] [2025-06-16 01:15:08] [INFO] [node1:390] SYNC_RESPONSE collection finished. Processing responses.
2025-06-16 01:15:08,978 [DEBUG] [node1] [2025-06-16 01:15:08] [INFO] [node1:380] SYNC_RESPONSE from node2: chain length=1     head=97045df0
2025-06-16 01:15:08,980 [DEBUG] [node1] [2025-06-16 01:15:08] [INFO] [node1:409] no need to sync chain, best chain same with local chain
2025-06-16 01:15:08,980 [DEBUG] [node2] [2025-06-16 01:15:08] [INFO] [node2:390] SYNC_RESPONSE collection finished. Processing responses.
2025-06-16 01:15:08,980 [DEBUG] [node2] [2025-06-16 01:15:08] [INFO] [node2:380] SYNC_RESPONSE from node1: chain length=1     head=97045df0
2025-06-16 01:15:08,981 [DEBUG] [node2] [2025-06-16 01:15:08] [INFO] [node2:409] no need to sync chain, best chain same with local chain
2025-06-16 01:15:09,186 [DEBUG] [DEBUG] 4s 无命令
2025-06-16 01:15:09,329 [INFO] >>> (node1) stake 10
2025-06-16 01:15:09,329 [INFO] >>> (node1) tx node2 10
2025-06-16 01:15:09,330 [DEBUG] [node1] [2025-06-16 01:15:09] [INFO] [node1:453] sent STAKE transaction: node1 -> node1 10.0
2025-06-16 01:15:09,331 [DEBUG] [node1] [2025-06-16 01:15:09] [INFO] [node1:595] Want to stake 10.0 tokens.
2025-06-16 01:15:09,335 [DEBUG] [server] [2025-06-16 01:15:09] [INFO] [server:84] received message [TRANSACTION]
2025-06-16 01:15:09,335 [DEBUG] [server]   sender   : node1
2025-06-16 01:15:09,335 [DEBUG] [server]   full msg :
2025-06-16 01:15:09,336 [DEBUG] [server] type: TRANSACTION
2025-06-16 01:15:09,336 [DEBUG] [server] sender_id: "node1"
2025-06-16 01:15:09,336 [DEBUG] [server] tx {
2025-06-16 01:15:09,336 [DEBUG] [server]   sender: "node1"
2025-06-16 01:15:09,336 [DEBUG] [server]   receiver: "node1"
2025-06-16 01:15:09,336 [DEBUG] [server]   amount: 10.0
2025-06-16 01:15:09,336 [DEBUG] [server]   timestamp: 1750007709.330045
2025-06-16 01:15:09,336 [DEBUG] [server]   type: STAKE
2025-06-16 01:15:09,336 [DEBUG] [server] }
2025-06-16 01:15:09,336 [DEBUG] [server] 
2025-06-16 01:15:09,336 [DEBUG] [node2] [2025-06-16 01:15:09] [INFO] [node2:276] received STAKE: node1 stakes 10.0
2025-06-16 01:15:09,761 [DEBUG] [DEBUG] 6s 无命令
2025-06-16 01:15:10,092 [INFO] >>> (node1) forge --force
2025-06-16 01:15:10,093 [DEBUG] [node1] [2025-06-16 01:15:10] [INFO] [node1:453] sent TRANSFER transaction: node1 -> node2 10.0
2025-06-16 01:15:10,093 [DEBUG] [node1] [2025-06-16 01:15:10] [WARNING] [node1:503] FORCING block forge -- skipping validator check!
2025-06-16 01:15:10,093 [DEBUG] [server] [2025-06-16 01:15:10] [INFO] [server:84] received message [TRANSACTION]
2025-06-16 01:15:10,094 [DEBUG] [server]   sender   : node1
2025-06-16 01:15:10,094 [DEBUG] [server]   full msg :
2025-06-16 01:15:10,094 [DEBUG] [server] type: TRANSACTION
2025-06-16 01:15:10,094 [DEBUG] [server] sender_id: "node1"
2025-06-16 01:15:10,094 [DEBUG] [server] tx {
2025-06-16 01:15:10,094 [DEBUG] [server]   sender: "node1"
2025-06-16 01:15:10,094 [DEBUG] [server]   receiver: "node2"
2025-06-16 01:15:10,094 [DEBUG] [server]   amount: 10.0
2025-06-16 01:15:10,095 [DEBUG] [server]   timestamp: 1750007710.092741
2025-06-16 01:15:10,095 [DEBUG] [server] }
2025-06-16 01:15:10,095 [DEBUG] [server] 
2025-06-16 01:15:10,095 [DEBUG] [node1] [2025-06-16 01:15:10] [INFO] [node1:521] Want to forge block 1 with hash 9a4b0ffc
2025-06-16 01:15:10,095 [DEBUG] [node1] [2025-06-16 01:15:10] [INFO] [node1:128] Voted to accept Block 1, hash=9a4b0ffc
2025-06-16 01:15:10,095 [DEBUG] [node2] [2025-06-16 01:15:10] [INFO] [node2:270] received TRANSFER: node1 → node2, amount 10.0
2025-06-16 01:15:10,096 [DEBUG] [server] [2025-06-16 01:15:10] [INFO] [server:84] received message [BLOCK]
2025-06-16 01:15:10,096 [DEBUG] [server]   sender   : node1
2025-06-16 01:15:10,096 [DEBUG] [server]   full msg :
2025-06-16 01:15:10,096 [DEBUG] [server] type: BLOCK
2025-06-16 01:15:10,096 [DEBUG] [server] sender_id: "node1"
2025-06-16 01:15:10,096 [DEBUG] [server] block {
2025-06-16 01:15:10,097 [DEBUG] [server]   index: 1
2025-06-16 01:15:10,097 [DEBUG] [server]   prev_hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-16 01:15:10,097 [DEBUG] [server]   hash: "9a4b0ffcdb2d9328da6a199d41f1555e41772f1148b7e8b831cd5ab8b401f9db"
2025-06-16 01:15:10,097 [DEBUG] [server]   validator: "node1"
2025-06-16 01:15:10,097 [DEBUG] [server]   transactions {
2025-06-16 01:15:10,097 [DEBUG] [server]     sender: "node1"
2025-06-16 01:15:10,098 [DEBUG] [server]     receiver: "node1"
2025-06-16 01:15:10,098 [DEBUG] [server]     amount: 10.0
2025-06-16 01:15:10,098 [DEBUG] [server]     timestamp: 1750007709.330045
2025-06-16 01:15:10,098 [DEBUG] [server]     type: STAKE
2025-06-16 01:15:10,098 [DEBUG] [server]   }
2025-06-16 01:15:10,098 [DEBUG] [server]   transactions {
2025-06-16 01:15:10,098 [DEBUG] [server]     sender: "node1"
2025-06-16 01:15:10,098 [DEBUG] [server]     receiver: "node2"
2025-06-16 01:15:10,098 [DEBUG] [server]     amount: 10.0
2025-06-16 01:15:10,098 [DEBUG] [server]     timestamp: 1750007710.092741
2025-06-16 01:15:10,098 [DEBUG] [server]   }
2025-06-16 01:15:10,098 [DEBUG] [server]   timestamp: 1750007710.093408
2025-06-16 01:15:10,098 [DEBUG] [server] }
2025-06-16 01:15:10,099 [DEBUG] [server] 
2025-06-16 01:15:10,099 [DEBUG] [server] [2025-06-16 01:15:10] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-16 01:15:10,099 [DEBUG] [server]   sender   : node1
2025-06-16 01:15:10,099 [DEBUG] [server]   full msg :
2025-06-16 01:15:10,100 [DEBUG] [server] type: BLOCK_VOTE
2025-06-16 01:15:10,100 [DEBUG] [server] sender_id: "node1"
2025-06-16 01:15:10,100 [DEBUG] [server] block_vote {
2025-06-16 01:15:10,100 [DEBUG] [server]   voter_id: "node1"
2025-06-16 01:15:10,100 [DEBUG] [server]   block_hash: "9a4b0ffcdb2d9328da6a199d41f1555e41772f1148b7e8b831cd5ab8b401f9db"
2025-06-16 01:15:10,100 [DEBUG] [server] }
2025-06-16 01:15:10,100 [DEBUG] [server] 
2025-06-16 01:15:10,101 [DEBUG] [node2] [2025-06-16 01:15:10] [INFO] [node2:128] Voted to accept Block 1, hash=9a4b0ffc
2025-06-16 01:15:10,101 [DEBUG] [node2] [2025-06-16 01:15:10] [INFO] [node2:216] Received BLOCK_VOTE from node1 on block 9a4b0ffc
2025-06-16 01:15:10,101 [DEBUG] [node2] [2025-06-16 01:15:10] [INFO] [node2:236] Block 9a4b0ffc vote ratio: 0.50(1/2)
2025-06-16 01:15:10,101 [DEBUG] [server] [2025-06-16 01:15:10] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-16 01:15:10,102 [DEBUG] [server]   sender   : node2
2025-06-16 01:15:10,104 [DEBUG] [server]   full msg :
2025-06-16 01:15:10,104 [DEBUG] [server] type: BLOCK_VOTE
2025-06-16 01:15:10,104 [DEBUG] [server] sender_id: "node2"
2025-06-16 01:15:10,104 [DEBUG] [server] block_vote {
2025-06-16 01:15:10,104 [DEBUG] [server]   voter_id: "node2"
2025-06-16 01:15:10,105 [DEBUG] [server]   block_hash: "9a4b0ffcdb2d9328da6a199d41f1555e41772f1148b7e8b831cd5ab8b401f9db"
2025-06-16 01:15:10,105 [DEBUG] [server] }
2025-06-16 01:15:10,105 [DEBUG] [server] 
2025-06-16 01:15:10,105 [DEBUG] [node1] [2025-06-16 01:15:10] [INFO] [node1:216] Received BLOCK_VOTE from node2 on block 9a4b0ffc
2025-06-16 01:15:10,105 [DEBUG] [node1] [2025-06-16 01:15:10] [INFO] [node1:236] Block 9a4b0ffc vote ratio: 0.50(1/2)
2025-06-16 01:15:10,412 [INFO] >>> (node2) stake 10
2025-06-16 01:15:10,412 [INFO] >>> (node2) forge --force
2025-06-16 01:15:10,414 [DEBUG] [node2] [2025-06-16 01:15:10] [INFO] [node2:453] sent STAKE transaction: node2 -> node2 10.0
2025-06-16 01:15:10,414 [DEBUG] [node2] [2025-06-16 01:15:10] [INFO] [node2:595] Want to stake 10.0 tokens.
2025-06-16 01:15:10,414 [DEBUG] [node2] [2025-06-16 01:15:10] [WARNING] [node2:503] FORCING block forge -- skipping validator check!
2025-06-16 01:15:10,415 [DEBUG] [server] [2025-06-16 01:15:10] [INFO] [server:84] received message [TRANSACTION]
2025-06-16 01:15:10,415 [DEBUG] [server]   sender   : node2
2025-06-16 01:15:10,415 [DEBUG] [server]   full msg :
2025-06-16 01:15:10,415 [DEBUG] [server] type: TRANSACTION
2025-06-16 01:15:10,415 [DEBUG] [server] sender_id: "node2"
2025-06-16 01:15:10,415 [DEBUG] [server] tx {
2025-06-16 01:15:10,416 [DEBUG] [server]   sender: "node2"
2025-06-16 01:15:10,416 [DEBUG] [server]   receiver: "node2"
2025-06-16 01:15:10,416 [DEBUG] [server]   amount: 10.0
2025-06-16 01:15:10,416 [DEBUG] [server]   timestamp: 1750007710.413107
2025-06-16 01:15:10,416 [DEBUG] [server]   type: STAKE
2025-06-16 01:15:10,416 [DEBUG] [server] }
2025-06-16 01:15:10,417 [DEBUG] [server] 
2025-06-16 01:15:10,417 [DEBUG] [node1] [2025-06-16 01:15:10] [INFO] [node1:276] received STAKE: node2 stakes 10.0
2025-06-16 01:15:10,418 [DEBUG] [node2] [2025-06-16 01:15:10] [INFO] [node2:521] Want to forge block 1 with hash b7050bf0
2025-06-16 01:15:10,418 [DEBUG] [node2] [2025-06-16 01:15:10] [INFO] [node2:128] Voted to accept Block 1, hash=b7050bf0
2025-06-16 01:15:10,418 [DEBUG] [server] [2025-06-16 01:15:10] [INFO] [server:84] received message [BLOCK]
2025-06-16 01:15:10,418 [DEBUG] [server]   sender   : node2
2025-06-16 01:15:10,418 [DEBUG] [server]   full msg :
2025-06-16 01:15:10,418 [DEBUG] [server] type: BLOCK
2025-06-16 01:15:10,419 [DEBUG] [server] sender_id: "node2"
2025-06-16 01:15:10,419 [DEBUG] [server] block {
2025-06-16 01:15:10,419 [DEBUG] [server]   index: 1
2025-06-16 01:15:10,419 [DEBUG] [server]   prev_hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-16 01:15:10,419 [DEBUG] [server]   hash: "b7050bf0d10da298b76f1955da1049f5929e1c05c5c2ce14fb6f5844f00f5150"
2025-06-16 01:15:10,420 [DEBUG] [server]   validator: "node2"
2025-06-16 01:15:10,420 [DEBUG] [server]   transactions {
2025-06-16 01:15:10,420 [DEBUG] [server]     sender: "node1"
2025-06-16 01:15:10,420 [DEBUG] [server]     receiver: "node1"
2025-06-16 01:15:10,420 [DEBUG] [server]     amount: 10.0
2025-06-16 01:15:10,420 [DEBUG] [server]     timestamp: 1750007709.330045
2025-06-16 01:15:10,420 [DEBUG] [server]     type: STAKE
2025-06-16 01:15:10,421 [DEBUG] [server]   }
2025-06-16 01:15:10,421 [DEBUG] [server]   transactions {
2025-06-16 01:15:10,421 [DEBUG] [server]     sender: "node1"
2025-06-16 01:15:10,421 [DEBUG] [server]     receiver: "node2"
2025-06-16 01:15:10,421 [DEBUG] [server]     amount: 10.0
2025-06-16 01:15:10,421 [DEBUG] [server]     timestamp: 1750007710.092741
2025-06-16 01:15:10,421 [DEBUG] [server]   }
2025-06-16 01:15:10,421 [DEBUG] [server]   transactions {
2025-06-16 01:15:10,422 [DEBUG] [server]     sender: "node2"
2025-06-16 01:15:10,422 [DEBUG] [server]     receiver: "node2"
2025-06-16 01:15:10,422 [DEBUG] [server]     amount: 10.0
2025-06-16 01:15:10,422 [DEBUG] [server]     timestamp: 1750007710.413107
2025-06-16 01:15:10,423 [DEBUG] [server]     type: STAKE
2025-06-16 01:15:10,423 [DEBUG] [server]   }
2025-06-16 01:15:10,423 [DEBUG] [server]   timestamp: 1750007710.414171
2025-06-16 01:15:10,423 [DEBUG] [server] }
2025-06-16 01:15:10,423 [DEBUG] [server] 
2025-06-16 01:15:10,423 [DEBUG] [server] [2025-06-16 01:15:10] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-16 01:15:10,423 [DEBUG] [server]   sender   : node2
2025-06-16 01:15:10,423 [DEBUG] [server]   full msg :
2025-06-16 01:15:10,424 [DEBUG] [server] type: BLOCK_VOTE
2025-06-16 01:15:10,424 [DEBUG] [server] sender_id: "node2"
2025-06-16 01:15:10,424 [DEBUG] [server] block_vote {
2025-06-16 01:15:10,424 [DEBUG] [server]   voter_id: "node2"
2025-06-16 01:15:10,424 [DEBUG] [server]   block_hash: "b7050bf0d10da298b76f1955da1049f5929e1c05c5c2ce14fb6f5844f00f5150"
2025-06-16 01:15:10,424 [DEBUG] [server] }
2025-06-16 01:15:10,424 [DEBUG] [server] 
2025-06-16 01:15:10,424 [DEBUG] [node1] [2025-06-16 01:15:10] [INFO] [node1:128] Voted to accept Block 1, hash=b7050bf0
2025-06-16 01:15:10,424 [DEBUG] [node1] [2025-06-16 01:15:10] [INFO] [node1:216] Received BLOCK_VOTE from node2 on block b7050bf0
2025-06-16 01:15:10,424 [DEBUG] [node1] [2025-06-16 01:15:10] [INFO] [node1:236] Block b7050bf0 vote ratio: 0.50(1/2)
2025-06-16 01:15:10,424 [DEBUG] [server] [2025-06-16 01:15:10] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-16 01:15:10,425 [DEBUG] [server]   sender   : node1
2025-06-16 01:15:10,425 [DEBUG] [server]   full msg :
2025-06-16 01:15:10,425 [DEBUG] [server] type: BLOCK_VOTE
2025-06-16 01:15:10,425 [DEBUG] [server] sender_id: "node1"
2025-06-16 01:15:10,425 [DEBUG] [server] block_vote {
2025-06-16 01:15:10,425 [DEBUG] [server]   voter_id: "node1"
2025-06-16 01:15:10,425 [DEBUG] [server]   block_hash: "b7050bf0d10da298b76f1955da1049f5929e1c05c5c2ce14fb6f5844f00f5150"
2025-06-16 01:15:10,425 [DEBUG] [server] }
2025-06-16 01:15:10,425 [DEBUG] [server] 
2025-06-16 01:15:10,425 [DEBUG] [node2] [2025-06-16 01:15:10] [INFO] [node2:216] Received BLOCK_VOTE from node1 on block b7050bf0
2025-06-16 01:15:10,425 [DEBUG] [node2] [2025-06-16 01:15:10] [INFO] [node2:236] Block b7050bf0 vote ratio: 0.50(1/2)
2025-06-16 01:15:15,135 [DEBUG] [node1] [2025-06-16 01:15:15] [WARNING] [node1:364] Vote timeout for block 9a4b0ffc, discarding pending         state.
2025-06-16 01:15:15,136 [DEBUG] [node2] [2025-06-16 01:15:15] [WARNING] [node2:364] Vote timeout for block 9a4b0ffc, discarding pending         state.
2025-06-16 01:15:15,420 [DEBUG] [node2] [2025-06-16 01:15:15] [WARNING] [node2:364] Vote timeout for block b7050bf0, discarding pending         state.
2025-06-16 01:15:15,423 [DEBUG] [node1] [2025-06-16 01:15:15] [WARNING] [node1:364] Vote timeout for block b7050bf0, discarding pending         state.
2025-06-16 01:15:18,200 [DEBUG] [DEBUG] 9s 无命令
2025-06-16 01:15:19,905 [INFO] >>> (node2) tx node1 10
2025-06-16 01:15:19,906 [INFO] >>> (node2) forge --force
2025-06-16 01:15:19,909 [DEBUG] [node2] [2025-06-16 01:15:19] [INFO] [node2:453] sent TRANSFER transaction: node2 -> node1 10.0
2025-06-16 01:15:19,914 [DEBUG] [server] [2025-06-16 01:15:19] [INFO] [server:84] received message [TRANSACTION]
2025-06-16 01:15:19,914 [DEBUG] [server]   sender   : node2
2025-06-16 01:15:19,914 [DEBUG] [server]   full msg :
2025-06-16 01:15:19,914 [DEBUG] [server] type: TRANSACTION
2025-06-16 01:15:19,914 [DEBUG] [server] sender_id: "node2"
2025-06-16 01:15:19,915 [DEBUG] [server] tx {
2025-06-16 01:15:19,915 [DEBUG] [server]   sender: "node2"
2025-06-16 01:15:19,915 [DEBUG] [server]   receiver: "node1"
2025-06-16 01:15:19,915 [DEBUG] [server]   amount: 10.0
2025-06-16 01:15:19,915 [DEBUG] [server]   timestamp: 1750007719.907491
2025-06-16 01:15:19,915 [DEBUG] [server] }
2025-06-16 01:15:19,915 [DEBUG] [server] 
2025-06-16 01:15:19,916 [DEBUG] [node1] [2025-06-16 01:15:19] [INFO] [node1:270] received TRANSFER: node2 → node1, amount 10.0
2025-06-16 01:15:20,662 [DEBUG] [DEBUG] 11s 无命令
2025-06-16 01:15:21,018 [INFO] >>> (node1) info
2025-06-16 01:15:21,019 [INFO] >>> (node2) info
2025-06-16 01:15:21,020 [DEBUG] [node2] [2025-06-16 01:15:21] [WARNING] [node2:503] FORCING block forge -- skipping validator check!
2025-06-16 01:15:21,021 [DEBUG] [node2] [2025-06-16 01:15:21] [INFO] [node2:521] Want to forge block 1 with hash 527ec375
2025-06-16 01:15:21,022 [DEBUG] [node2] [2025-06-16 01:15:21] [INFO] [node2:128] Voted to accept Block 1, hash=527ec375
2025-06-16 01:15:21,022 [DEBUG] [server] [2025-06-16 01:15:21] [INFO] [server:84] received message [BLOCK]
2025-06-16 01:15:21,022 [DEBUG] [server]   sender   : node2
2025-06-16 01:15:21,023 [DEBUG] [server]   full msg :
2025-06-16 01:15:21,023 [DEBUG] [server] type: BLOCK
2025-06-16 01:15:21,023 [DEBUG] [server] sender_id: "node2"
2025-06-16 01:15:21,024 [DEBUG] [server] block {
2025-06-16 01:15:21,024 [DEBUG] [server]   index: 1
2025-06-16 01:15:21,024 [DEBUG] [server]   prev_hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-16 01:15:21,024 [DEBUG] [server]   hash: "527ec3752312f321f57a16bdf3306bf36516a0b32b84a7c973e02aa4c146d495"
2025-06-16 01:15:21,025 [DEBUG] [server]   validator: "node2"
2025-06-16 01:15:21,025 [DEBUG] [server]   transactions {
2025-06-16 01:15:21,025 [DEBUG] [server]     sender: "node1"
2025-06-16 01:15:21,025 [DEBUG] [server]     receiver: "node1"
2025-06-16 01:15:21,025 [DEBUG] [server]     amount: 10.0
2025-06-16 01:15:21,026 [DEBUG] [server]     timestamp: 1750007709.330045
2025-06-16 01:15:21,026 [DEBUG] [server]     type: STAKE
2025-06-16 01:15:21,026 [DEBUG] [server]   }
2025-06-16 01:15:21,026 [DEBUG] [server]   transactions {
2025-06-16 01:15:21,026 [DEBUG] [server]     sender: "node1"
2025-06-16 01:15:21,027 [DEBUG] [server]     receiver: "node2"
2025-06-16 01:15:21,027 [DEBUG] [server]     amount: 10.0
2025-06-16 01:15:21,027 [DEBUG] [server]     timestamp: 1750007710.092741
2025-06-16 01:15:21,027 [DEBUG] [server]   }
2025-06-16 01:15:21,027 [DEBUG] [server]   transactions {
2025-06-16 01:15:21,027 [DEBUG] [server]     sender: "node2"
2025-06-16 01:15:21,027 [DEBUG] [server]     receiver: "node2"
2025-06-16 01:15:21,027 [DEBUG] [server]     amount: 10.0
2025-06-16 01:15:21,027 [DEBUG] [server]     timestamp: 1750007710.413107
2025-06-16 01:15:21,028 [DEBUG] [server]     type: STAKE
2025-06-16 01:15:21,028 [DEBUG] [server]   }
2025-06-16 01:15:21,028 [DEBUG] [server]   transactions {
2025-06-16 01:15:21,028 [DEBUG] [server]     sender: "node2"
2025-06-16 01:15:21,028 [DEBUG] [server]     receiver: "node1"
2025-06-16 01:15:21,028 [DEBUG] [server]     amount: 10.0
2025-06-16 01:15:21,029 [DEBUG] [server]     timestamp: 1750007719.907491
2025-06-16 01:15:21,029 [DEBUG] [server]   }
2025-06-16 01:15:21,029 [DEBUG] [server]   timestamp: 1750007721.02002
2025-06-16 01:15:21,029 [DEBUG] [server] }
2025-06-16 01:15:21,029 [DEBUG] [server] 
2025-06-16 01:15:21,029 [DEBUG] [server] [2025-06-16 01:15:21] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-16 01:15:21,030 [DEBUG] [server]   sender   : node2
2025-06-16 01:15:21,030 [DEBUG] [server]   full msg :
2025-06-16 01:15:21,030 [DEBUG] [server] type: BLOCK_VOTE
2025-06-16 01:15:21,030 [DEBUG] [server] sender_id: "node2"
2025-06-16 01:15:21,030 [DEBUG] [server] block_vote {
2025-06-16 01:15:21,030 [DEBUG] [server]   voter_id: "node2"
2025-06-16 01:15:21,030 [DEBUG] [server]   block_hash: "527ec3752312f321f57a16bdf3306bf36516a0b32b84a7c973e02aa4c146d495"
2025-06-16 01:15:21,030 [DEBUG] [server] }
2025-06-16 01:15:21,031 [DEBUG] [server] 
2025-06-16 01:15:21,031 [DEBUG] [server] [2025-06-16 01:15:21] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-16 01:15:21,031 [DEBUG] [server]   sender   : node1
2025-06-16 01:15:21,031 [DEBUG] [server]   full msg :
2025-06-16 01:15:21,031 [DEBUG] [server] type: BLOCK_VOTE
2025-06-16 01:15:21,031 [DEBUG] [server] sender_id: "node1"
2025-06-16 01:15:21,032 [DEBUG] [server] block_vote {
2025-06-16 01:15:21,032 [DEBUG] [server]   voter_id: "node1"
2025-06-16 01:15:21,032 [DEBUG] [server]   block_hash: "527ec3752312f321f57a16bdf3306bf36516a0b32b84a7c973e02aa4c146d495"
2025-06-16 01:15:21,032 [DEBUG] [server] }
2025-06-16 01:15:21,032 [DEBUG] [server] 
2025-06-16 01:15:21,032 [DEBUG] [node1] [2025-06-16 01:15:21] [INFO] [node1:128] Voted to accept Block 1, hash=527ec375
2025-06-16 01:15:21,032 [DEBUG] [node1] [2025-06-16 01:15:21] [INFO] [node1:216] Received BLOCK_VOTE from node2 on block 527ec375
2025-06-16 01:15:21,032 [DEBUG] [node1] [2025-06-16 01:15:21] [INFO] [node1:236] Block 527ec375 vote ratio: 0.50(1/2)
2025-06-16 01:15:21,033 [DEBUG] [node2] [2025-06-16 01:15:21] [INFO] [node2:216] Received BLOCK_VOTE from node1 on block 527ec375
2025-06-16 01:15:21,033 [DEBUG] [node2] [2025-06-16 01:15:21] [INFO] [node2:236] Block 527ec375 vote ratio: 0.50(1/2)
2025-06-16 01:15:22,988 [INFO] 结束等待 5.0s…
2025-06-16 01:15:26,029 [DEBUG] [node2] [2025-06-16 01:15:26] [WARNING] [node2:364] Vote timeout for block 527ec375, discarding pending         state.
2025-06-16 01:15:26,030 [DEBUG] [node1] [2025-06-16 01:15:26] [WARNING] [node1:364] Vote timeout for block 527ec375, discarding pending         state.
2025-06-16 01:15:27,990 [INFO] >>> (server) exit
2025-06-16 01:15:27,994 [DEBUG] [server] [2025-06-16 01:15:27] [INFO] [server:268] Shutting down server...
2025-06-16 01:15:27,995 [DEBUG] [server] [2025-06-16 01:15:27] [INFO] [server:287] Closing all client connections...
2025-06-16 01:15:27,995 [DEBUG] [server] [2025-06-16 01:15:27] [INFO] [server:156] Node node2 disconnected.
2025-06-16 01:15:27,996 [DEBUG] [node2] [2025-06-16 01:15:27] [INFO] [node2:104] Received BYE message from node server.
2025-06-16 01:15:27,996 [DEBUG] [node2] [2025-06-16 01:15:27] [INFO] [node2:106] Server is shutting down, exiting.
2025-06-16 01:15:27,996 [DEBUG] [node2] [2025-06-16 01:15:27] [INFO] [node2:577] Exiting.
2025-06-16 01:15:27,996 [DEBUG] [node1] [2025-06-16 01:15:27] [INFO] [node1:104] Received BYE message from node server.
2025-06-16 01:15:27,996 [DEBUG] [node1] [2025-06-16 01:15:27] [INFO] [node1:106] Server is shutting down, exiting.
2025-06-16 01:15:27,997 [DEBUG] [server] [2025-06-16 01:15:27] [INFO] [server:156] Node node1 disconnected.
2025-06-16 01:15:27,997 [DEBUG] [server] [2025-06-16 01:15:27] [INFO] [server:294] Closing server socket...
2025-06-16 01:15:27,999 [DEBUG] [server] [2025-06-16 01:15:27] [INFO] [server:299] Server shutdown complete. Bye!
2025-06-16 01:15:28,000 [DEBUG] [node1] [2025-06-16 01:15:27] [INFO] [node1:577] Exiting.
2025-06-16 01:15:28,000 [DEBUG] [node2] [2025-06-16 01:15:27] [INFO] [blockchain:264] Blockchain saved to data_node_node2
2025-06-16 01:15:28,001 [DEBUG] [node1] [2025-06-16 01:15:27] [INFO] [blockchain:264] Blockchain saved to data_node_node1
2025-06-16 01:15:28,001 [DEBUG] [node1] Node ID: node1
2025-06-16 01:15:28,002 [DEBUG] [node1] Known nodes: {'node2', 'node1'}
2025-06-16 01:15:28,002 [DEBUG] [node1] ========== Blockchain Structure ==========
2025-06-16 01:15:28,002 [DEBUG] [node1] Block 0 | hash=97045df0... | validator=genesis | tx_count=0 (main)
2025-06-16 01:15:28,002 [DEBUG] [node1] ===================================
2025-06-16 01:15:28,003 [DEBUG] [node1] ========== Account State ==========
2025-06-16 01:15:28,003 [DEBUG] [node1]  Account node1 | Balance=100.00 | Stake=0.00
2025-06-16 01:15:28,003 [DEBUG] [node1]  Account node2 | Balance=100.00 | Stake=0.00
2025-06-16 01:15:28,004 [DEBUG] [node1]  Account node3 | Balance=100.00 | Stake=0.00
2025-06-16 01:15:28,004 [DEBUG] [node1] ===================================
2025-06-16 01:15:28,005 [DEBUG] [node1] ========== Pending Transactions ==========
2025-06-16 01:15:28,005 [DEBUG] [node1]   Transaction(node1 -> node1, 10.0, type=STAKE)
2025-06-16 01:15:28,005 [DEBUG] [node1]   Transaction(node1 -> node2, 10.0, type=TRANSFER)
2025-06-16 01:15:28,006 [DEBUG] [node1]   Transaction(node2 -> node2, 10.0, type=STAKE)
2025-06-16 01:15:28,006 [DEBUG] [node1]   Transaction(node2 -> node1, 10.0, type=TRANSFER)
2025-06-16 01:15:28,006 [DEBUG] [node1] ==========================================
2025-06-16 01:15:28,007 [DEBUG] [node2] Node ID: node2
2025-06-16 01:15:28,007 [DEBUG] [node2] Known nodes: {'node1', 'node2'}
2025-06-16 01:15:28,007 [DEBUG] [node2] ========== Blockchain Structure ==========
2025-06-16 01:15:28,007 [DEBUG] [node2] Block 0 | hash=97045df0... | validator=genesis | tx_count=0 (main)
2025-06-16 01:15:28,007 [DEBUG] [node2] ===================================
2025-06-16 01:15:28,008 [DEBUG] [node2] ========== Account State ==========
2025-06-16 01:15:28,008 [DEBUG] [node2]  Account node1 | Balance=100.00 | Stake=0.00
2025-06-16 01:15:28,008 [DEBUG] [node2]  Account node2 | Balance=100.00 | Stake=0.00
2025-06-16 01:15:28,008 [DEBUG] [node2]  Account node3 | Balance=100.00 | Stake=0.00
2025-06-16 01:15:28,008 [DEBUG] [node2] ===================================
2025-06-16 01:15:28,008 [DEBUG] [node2] ========== Pending Transactions ==========
2025-06-16 01:15:28,009 [DEBUG] [node2]   Transaction(node1 -> node1, 10.0, type=STAKE)
2025-06-16 01:15:28,010 [DEBUG] [node2]   Transaction(node1 -> node2, 10.0, type=TRANSFER)
2025-06-16 01:15:28,010 [DEBUG] [node2]   Transaction(node2 -> node2, 10.0, type=STAKE)
2025-06-16 01:15:28,010 [DEBUG] [node2]   Transaction(node2 -> node1, 10.0, type=TRANSFER)
2025-06-16 01:15:28,010 [DEBUG] [node2] ==========================================
2025-06-16 01:15:28,029 [INFO] server 已优雅退出
2025-06-16 01:15:28,029 [INFO] 等待节点自动下线 5.0s…
2025-06-16 01:23:42,121 [DEBUG] Using selector: KqueueSelector
2025-06-16 01:23:42,124 [INFO] 启动 server (pid=52074)
2025-06-16 01:23:42,124 [INFO] 等待服务器 127.0.0.1:5000 …
2025-06-16 01:23:42,199 [DEBUG] [server] [2025-06-16 01:23:42] [INFO] [server:44] Async server started on 127.0.0.1:5000
2025-06-16 01:23:42,427 [INFO] 服务器端口就绪
2025-06-16 01:23:42,431 [DEBUG] [server] [2025-06-16 01:23:42] [INFO] [server:62] New connection from ('127.0.0.1', 53317)
2025-06-16 01:23:42,432 [INFO] 启动 node1 (pid=52075)
2025-06-16 01:23:42,436 [INFO] 启动 node2 (pid=52076)
2025-06-16 01:23:42,436 [INFO] DEBUG 模式：按 Enter 推进 1 秒，输入 q 退出
2025-06-16 01:23:42,436 [INFO] >>> (server) stop
2025-06-16 01:23:42,439 [DEBUG] [server] [2025-06-16 01:23:42] [INFO] [server:252] Stopped sending STEP messages
2025-06-16 01:23:42,528 [DEBUG] [node1] [2025-06-16 01:23:42] [INFO] [blockchain:288] Blockchain loaded successfully from data_node_node1. Chain length=0
2025-06-16 01:23:42,528 [DEBUG] [node2] [2025-06-16 01:23:42] [INFO] [blockchain:288] Blockchain loaded successfully from data_node_node2. Chain length=0
2025-06-16 01:23:42,529 [DEBUG] [server] [2025-06-16 01:23:42] [INFO] [server:62] New connection from ('127.0.0.1', 53319)
2025-06-16 01:23:42,529 [DEBUG] [server] [2025-06-16 01:23:42] [INFO] [server:62] New connection from ('127.0.0.1', 53318)
2025-06-16 01:23:42,533 [DEBUG] [node2] [2025-06-16 01:23:42] [INFO] [node2:423] Sent SYNC_REQUEST to network
2025-06-16 01:23:42,533 [DEBUG] [node1] [2025-06-16 01:23:42] [INFO] [node1:423] Sent SYNC_REQUEST to network
2025-06-16 01:23:42,533 [DEBUG] [server] [2025-06-16 01:23:42] [INFO] [server:84] received message [HELLO]
2025-06-16 01:23:42,533 [DEBUG] [server]   sender   : node2
2025-06-16 01:23:42,533 [DEBUG] [server]   full msg :
2025-06-16 01:23:42,533 [DEBUG] [server] sender_id: "node2"
2025-06-16 01:23:42,533 [DEBUG] [server] 
2025-06-16 01:23:42,533 [DEBUG] [node2] [2025-06-16 01:23:42] [INFO] [node2:79] Node node2 started. Connected to server at 127.0.0.1:5000.
2025-06-16 01:23:42,533 [DEBUG] [node2] [2025-06-16 01:23:42] [INFO] [node2:80] Current chain length: 0 (excluding genesis)
2025-06-16 01:23:42,533 [DEBUG] [node1] [2025-06-16 01:23:42] [INFO] [node1:79] Node node1 started. Connected to server at 127.0.0.1:5000.
2025-06-16 01:23:42,533 [DEBUG] [node1] [2025-06-16 01:23:42] [INFO] [node1:80] Current chain length: 0 (excluding genesis)
2025-06-16 01:23:42,536 [DEBUG] [server] [2025-06-16 01:23:42] [INFO] [server:84] received message [SYNC_REQUEST]
2025-06-16 01:23:42,536 [DEBUG] [server]   sender   : node2
2025-06-16 01:23:42,536 [DEBUG] [server]   full msg :
2025-06-16 01:23:42,536 [DEBUG] [server] type: SYNC_REQUEST
2025-06-16 01:23:42,536 [DEBUG] [server] sender_id: "node2"
2025-06-16 01:23:42,536 [DEBUG] [server] 
2025-06-16 01:23:42,536 [DEBUG] [node1] [2025-06-16 01:23:42] [INFO] [node1:98] Received HELLO message from node node22.
2025-06-16 01:23:42,536 [DEBUG] [node1] [2025-06-16 01:23:42] [INFO] [node1:295] Received SYNC_REQUEST from node2, sending SYNC_RESPONSE
2025-06-16 01:23:42,537 [DEBUG] [server] [2025-06-16 01:23:42] [INFO] [server:84] received message [HELLO]
2025-06-16 01:23:42,537 [DEBUG] [server]   sender   : node1
2025-06-16 01:23:42,537 [DEBUG] [server]   full msg :
2025-06-16 01:23:42,537 [DEBUG] [server] sender_id: "node1"
2025-06-16 01:23:42,537 [DEBUG] [server] 
2025-06-16 01:23:42,537 [DEBUG] [server] [2025-06-16 01:23:42] [INFO] [server:84] received message [SYNC_REQUEST]
2025-06-16 01:23:42,537 [DEBUG] [server]   sender   : node1
2025-06-16 01:23:42,537 [DEBUG] [server]   full msg :
2025-06-16 01:23:42,537 [DEBUG] [server] type: SYNC_REQUEST
2025-06-16 01:23:42,537 [DEBUG] [server] sender_id: "node1"
2025-06-16 01:23:42,537 [DEBUG] [server] 
2025-06-16 01:23:42,537 [DEBUG] [node2] [2025-06-16 01:23:42] [INFO] [node2:98] Received HELLO message from node node12.
2025-06-16 01:23:42,537 [DEBUG] [node2] [2025-06-16 01:23:42] [INFO] [node2:295] Received SYNC_REQUEST from node1, sending SYNC_RESPONSE
2025-06-16 01:23:42,537 [DEBUG] [server] [2025-06-16 01:23:42] [INFO] [server:84] received message [SYNC_RESPONSE]
2025-06-16 01:23:42,537 [DEBUG] [server]   sender   : node1
2025-06-16 01:23:42,537 [DEBUG] [server]   full msg :
2025-06-16 01:23:42,537 [DEBUG] [server] type: SYNC_RESPONSE
2025-06-16 01:23:42,537 [DEBUG] [server] sender_id: "node1"
2025-06-16 01:23:42,537 [DEBUG] [server] sync_response {
2025-06-16 01:23:42,537 [DEBUG] [server]   blocks {
2025-06-16 01:23:42,537 [DEBUG] [server]     prev_hash: "0000000000000000000000000000000000000000000000000000000000000000"
2025-06-16 01:23:42,538 [DEBUG] [server]     hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-16 01:23:42,538 [DEBUG] [server]     validator: "genesis"
2025-06-16 01:23:42,538 [DEBUG] [server]   }
2025-06-16 01:23:42,538 [DEBUG] [server] }
2025-06-16 01:23:42,538 [DEBUG] [server] 
2025-06-16 01:23:42,538 [DEBUG] [server] [2025-06-16 01:23:42] [INFO] [server:84] received message [SYNC_RESPONSE]
2025-06-16 01:23:42,538 [DEBUG] [server]   sender   : node2
2025-06-16 01:23:42,538 [DEBUG] [server]   full msg :
2025-06-16 01:23:42,538 [DEBUG] [server] type: SYNC_RESPONSE
2025-06-16 01:23:42,538 [DEBUG] [server] sender_id: "node2"
2025-06-16 01:23:42,538 [DEBUG] [server] sync_response {
2025-06-16 01:23:42,538 [DEBUG] [server]   blocks {
2025-06-16 01:23:42,538 [DEBUG] [server]     prev_hash: "0000000000000000000000000000000000000000000000000000000000000000"
2025-06-16 01:23:42,538 [DEBUG] [server]     hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-16 01:23:42,538 [DEBUG] [server]     validator: "genesis"
2025-06-16 01:23:42,538 [DEBUG] [server]   }
2025-06-16 01:23:42,538 [DEBUG] [server] }
2025-06-16 01:23:42,538 [DEBUG] [server] 
2025-06-16 01:23:42,538 [DEBUG] [node2] [2025-06-16 01:23:42] [INFO] [node2:318] Received SYNC_RESPONSE from node1, storing response
2025-06-16 01:23:42,538 [DEBUG] [node1] [2025-06-16 01:23:42] [INFO] [node1:318] Received SYNC_RESPONSE from node2, storing response
2025-06-16 01:23:43,046 [DEBUG] [DEBUG] 1s 无命令
2025-06-16 01:23:43,312 [DEBUG] [DEBUG] 2s 无命令
2025-06-16 01:23:43,511 [DEBUG] [DEBUG] 3s 无命令
2025-06-16 01:23:43,685 [DEBUG] [DEBUG] 4s 无命令
2025-06-16 01:23:43,847 [INFO] >>> (node1) stake 10
2025-06-16 01:23:43,847 [INFO] >>> (node1) tx node2 10
2025-06-16 01:23:43,849 [DEBUG] [node1] [2025-06-16 01:23:43] [INFO] [node1:453] sent STAKE transaction: node1 -> node1 10.0
2025-06-16 01:23:43,849 [DEBUG] [node1] [2025-06-16 01:23:43] [INFO] [node1:595] Want to stake 10.0 tokens.
2025-06-16 01:23:43,849 [DEBUG] [node1] [2025-06-16 01:23:43] [INFO] [node1:453] sent TRANSFER transaction: node1 -> node2 10.0
2025-06-16 01:23:43,850 [DEBUG] [server] [2025-06-16 01:23:43] [INFO] [server:84] received message [TRANSACTION]
2025-06-16 01:23:43,850 [DEBUG] [server]   sender   : node1
2025-06-16 01:23:43,850 [DEBUG] [server]   full msg :
2025-06-16 01:23:43,850 [DEBUG] [server] type: TRANSACTION
2025-06-16 01:23:43,850 [DEBUG] [server] sender_id: "node1"
2025-06-16 01:23:43,850 [DEBUG] [server] tx {
2025-06-16 01:23:43,851 [DEBUG] [server]   sender: "node1"
2025-06-16 01:23:43,851 [DEBUG] [server]   receiver: "node1"
2025-06-16 01:23:43,851 [DEBUG] [server]   amount: 10.0
2025-06-16 01:23:43,851 [DEBUG] [server]   timestamp: 1750008223.848002
2025-06-16 01:23:43,851 [DEBUG] [server]   type: STAKE
2025-06-16 01:23:43,851 [DEBUG] [server] }
2025-06-16 01:23:43,851 [DEBUG] [server] 
2025-06-16 01:23:43,852 [DEBUG] [server] [2025-06-16 01:23:43] [INFO] [server:84] received message [TRANSACTION]
2025-06-16 01:23:43,852 [DEBUG] [server]   sender   : node1
2025-06-16 01:23:43,852 [DEBUG] [server]   full msg :
2025-06-16 01:23:43,852 [DEBUG] [server] type: TRANSACTION
2025-06-16 01:23:43,852 [DEBUG] [server] sender_id: "node1"
2025-06-16 01:23:43,852 [DEBUG] [server] tx {
2025-06-16 01:23:43,853 [DEBUG] [server]   sender: "node1"
2025-06-16 01:23:43,853 [DEBUG] [server]   receiver: "node2"
2025-06-16 01:23:43,853 [DEBUG] [server]   amount: 10.0
2025-06-16 01:23:43,853 [DEBUG] [server]   timestamp: 1750008223.848898
2025-06-16 01:23:43,853 [DEBUG] [server] }
2025-06-16 01:23:43,853 [DEBUG] [server] 
2025-06-16 01:23:43,854 [DEBUG] [node2] [2025-06-16 01:23:43] [INFO] [node2:276] received STAKE: node1 stakes 10.0
2025-06-16 01:23:43,854 [DEBUG] [node2] [2025-06-16 01:23:43] [INFO] [node2:270] received TRANSFER: node1 → node2, amount 10.0
2025-06-16 01:23:44,008 [DEBUG] [DEBUG] 6s 无命令
2025-06-16 01:23:44,171 [INFO] >>> (node1) forge --force
2025-06-16 01:23:44,172 [DEBUG] [node1] [2025-06-16 01:23:44] [WARNING] [node1:503] FORCING block forge -- skipping validator check!
2025-06-16 01:23:44,172 [DEBUG] [node1] [2025-06-16 01:23:44] [INFO] [node1:521] Want to forge block 1 with hash 7e1a6bdb
2025-06-16 01:23:44,173 [DEBUG] [node1] [2025-06-16 01:23:44] [INFO] [node1:128] Voted to accept Block 1, hash=7e1a6bdb
2025-06-16 01:23:44,173 [DEBUG] [server] [2025-06-16 01:23:44] [INFO] [server:84] received message [BLOCK]
2025-06-16 01:23:44,174 [DEBUG] [server]   sender   : node1
2025-06-16 01:23:44,174 [DEBUG] [server]   full msg :
2025-06-16 01:23:44,174 [DEBUG] [server] type: BLOCK
2025-06-16 01:23:44,174 [DEBUG] [server] sender_id: "node1"
2025-06-16 01:23:44,174 [DEBUG] [server] block {
2025-06-16 01:23:44,175 [DEBUG] [server]   index: 1
2025-06-16 01:23:44,175 [DEBUG] [server]   prev_hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-16 01:23:44,175 [DEBUG] [server]   hash: "7e1a6bdba84c009871aa882e1fdcb03193b959dcde2122c98bf39f4aab5a4de0"
2025-06-16 01:23:44,175 [DEBUG] [server]   validator: "node1"
2025-06-16 01:23:44,175 [DEBUG] [server]   transactions {
2025-06-16 01:23:44,176 [DEBUG] [server]     sender: "node1"
2025-06-16 01:23:44,176 [DEBUG] [server]     receiver: "node1"
2025-06-16 01:23:44,176 [DEBUG] [server]     amount: 10.0
2025-06-16 01:23:44,176 [DEBUG] [server]     timestamp: 1750008223.848002
2025-06-16 01:23:44,176 [DEBUG] [server]     type: STAKE
2025-06-16 01:23:44,176 [DEBUG] [server]   }
2025-06-16 01:23:44,177 [DEBUG] [server]   transactions {
2025-06-16 01:23:44,177 [DEBUG] [server]     sender: "node1"
2025-06-16 01:23:44,177 [DEBUG] [server]     receiver: "node2"
2025-06-16 01:23:44,177 [DEBUG] [server]     amount: 10.0
2025-06-16 01:23:44,177 [DEBUG] [server]     timestamp: 1750008223.848898
2025-06-16 01:23:44,177 [DEBUG] [server]   }
2025-06-16 01:23:44,178 [DEBUG] [server]   timestamp: 1750008224.171953
2025-06-16 01:23:44,178 [DEBUG] [server] }
2025-06-16 01:23:44,178 [DEBUG] [server] 
2025-06-16 01:23:44,178 [DEBUG] [server] [2025-06-16 01:23:44] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-16 01:23:44,178 [DEBUG] [server]   sender   : node1
2025-06-16 01:23:44,178 [DEBUG] [server]   full msg :
2025-06-16 01:23:44,179 [DEBUG] [server] type: BLOCK_VOTE
2025-06-16 01:23:44,179 [DEBUG] [server] sender_id: "node1"
2025-06-16 01:23:44,179 [DEBUG] [server] block_vote {
2025-06-16 01:23:44,179 [DEBUG] [server]   voter_id: "node1"
2025-06-16 01:23:44,179 [DEBUG] [server]   block_hash: "7e1a6bdba84c009871aa882e1fdcb03193b959dcde2122c98bf39f4aab5a4de0"
2025-06-16 01:23:44,179 [DEBUG] [server] }
2025-06-16 01:23:44,179 [DEBUG] [server] 
2025-06-16 01:23:44,179 [DEBUG] [server] [2025-06-16 01:23:44] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-16 01:23:44,180 [DEBUG] [server]   sender   : node2
2025-06-16 01:23:44,180 [DEBUG] [server]   full msg :
2025-06-16 01:23:44,180 [DEBUG] [server] type: BLOCK_VOTE
2025-06-16 01:23:44,180 [DEBUG] [server] sender_id: "node2"
2025-06-16 01:23:44,180 [DEBUG] [server] block_vote {
2025-06-16 01:23:44,180 [DEBUG] [server]   voter_id: "node2"
2025-06-16 01:23:44,180 [DEBUG] [server]   block_hash: "7e1a6bdba84c009871aa882e1fdcb03193b959dcde2122c98bf39f4aab5a4de0"
2025-06-16 01:23:44,180 [DEBUG] [server] }
2025-06-16 01:23:44,180 [DEBUG] [server] 
2025-06-16 01:23:44,181 [DEBUG] [node2] [2025-06-16 01:23:44] [INFO] [node2:128] Voted to accept Block 1, hash=7e1a6bdb
2025-06-16 01:23:44,181 [DEBUG] [node2] [2025-06-16 01:23:44] [INFO] [node2:216] Received BLOCK_VOTE from node1 on block 7e1a6bdb
2025-06-16 01:23:44,181 [DEBUG] [node2] [2025-06-16 01:23:44] [INFO] [node2:236] Block 7e1a6bdb vote ratio: 1.00(2/2)
2025-06-16 01:23:44,181 [DEBUG] [node2] [2025-06-16 01:23:44] [INFO] [node2:242] Validated Block 1 from node1, processing...
2025-06-16 01:23:44,181 [DEBUG] [node2] [2025-06-16 01:23:44] [INFO] [blockchain:150] Adding block 1 to main chain
2025-06-16 01:23:44,181 [DEBUG] [node2] [2025-06-16 01:23:44] [INFO] [node2:144] Added new block 1 with hash 7e1a6bdb. Chain length is now 1(excluding genesis).
2025-06-16 01:23:44,181 [DEBUG] [node2] [2025-06-16 01:23:44] [INFO] [node2:244] added new block. Chain length is now 1(excluding genesis).
2025-06-16 01:23:44,182 [DEBUG] [node1] [2025-06-16 01:23:44] [INFO] [node1:216] Received BLOCK_VOTE from node2 on block 7e1a6bdb
2025-06-16 01:23:44,182 [DEBUG] [node1] [2025-06-16 01:23:44] [INFO] [node1:236] Block 7e1a6bdb vote ratio: 1.00(2/2)
2025-06-16 01:23:44,182 [DEBUG] [node1] [2025-06-16 01:23:44] [INFO] [node1:242] Validated Block 1 from node1, processing...
2025-06-16 01:23:44,182 [DEBUG] [node1] [2025-06-16 01:23:44] [INFO] [blockchain:150] Adding block 1 to main chain
2025-06-16 01:23:44,182 [DEBUG] [node1] [2025-06-16 01:23:44] [INFO] [node1:144] Added new block 1 with hash 7e1a6bdb. Chain length is now 1(excluding genesis).
2025-06-16 01:23:44,182 [DEBUG] [node1] [2025-06-16 01:23:44] [INFO] [node1:244] added new block. Chain length is now 1(excluding genesis).
2025-06-16 01:23:44,539 [DEBUG] [node2] [2025-06-16 01:23:44] [INFO] [node2:390] SYNC_RESPONSE collection finished. Processing responses.
2025-06-16 01:23:44,539 [DEBUG] [node1] [2025-06-16 01:23:44] [INFO] [node1:390] SYNC_RESPONSE collection finished. Processing responses.
2025-06-16 01:23:44,540 [DEBUG] [node1] [2025-06-16 01:23:44] [INFO] [node1:380] SYNC_RESPONSE from node2: chain length=1     head=97045df0
2025-06-16 01:23:44,540 [DEBUG] [node2] [2025-06-16 01:23:44] [INFO] [node2:380] SYNC_RESPONSE from node1: chain length=1     head=97045df0
2025-06-16 01:23:44,541 [DEBUG] [node1] [2025-06-16 01:23:44] [INFO] [blockchain:211] Reorganized chain: new head 97045df0 height 0
2025-06-16 01:23:44,541 [DEBUG] [node1] [2025-06-16 01:23:44] [INFO] [node1:341] Recovered TX: Transaction(node1 -> node1, 10.0, type=STAKE)
2025-06-16 01:23:44,541 [DEBUG] [node1] [2025-06-16 01:23:44] [INFO] [node1:341] Recovered TX: Transaction(node1 -> node2, 10.0, type=TRANSFER)
2025-06-16 01:23:44,541 [DEBUG] [node2] [2025-06-16 01:23:44] [INFO] [blockchain:211] Reorganized chain: new head 97045df0 height 0
2025-06-16 01:23:44,542 [DEBUG] [node2] [2025-06-16 01:23:44] [INFO] [node2:341] Recovered TX: Transaction(node1 -> node1, 10.0, type=STAKE)
2025-06-16 01:23:44,542 [DEBUG] [node2] [2025-06-16 01:23:44] [INFO] [node2:341] Recovered TX: Transaction(node1 -> node2, 10.0, type=TRANSFER)
2025-06-16 01:23:45,492 [INFO] >>> (node2) stake 10
2025-06-16 01:23:45,492 [INFO] >>> (node2) forge --force
2025-06-16 01:23:45,493 [DEBUG] [node2] [2025-06-16 01:23:45] [INFO] [node2:453] sent STAKE transaction: node2 -> node2 10.0
2025-06-16 01:23:45,494 [DEBUG] [node2] [2025-06-16 01:23:45] [INFO] [node2:595] Want to stake 10.0 tokens.
2025-06-16 01:23:45,494 [DEBUG] [node2] [2025-06-16 01:23:45] [WARNING] [node2:503] FORCING block forge -- skipping validator check!
2025-06-16 01:23:45,494 [DEBUG] [server] [2025-06-16 01:23:45] [INFO] [server:84] received message [TRANSACTION]
2025-06-16 01:23:45,495 [DEBUG] [server]   sender   : node2
2025-06-16 01:23:45,495 [DEBUG] [server]   full msg :
2025-06-16 01:23:45,495 [DEBUG] [server] type: TRANSACTION
2025-06-16 01:23:45,496 [DEBUG] [server] sender_id: "node2"
2025-06-16 01:23:45,496 [DEBUG] [server] tx {
2025-06-16 01:23:45,496 [DEBUG] [server]   sender: "node2"
2025-06-16 01:23:45,496 [DEBUG] [server]   receiver: "node2"
2025-06-16 01:23:45,496 [DEBUG] [server]   amount: 10.0
2025-06-16 01:23:45,497 [DEBUG] [server]   timestamp: 1750008225.4928188
2025-06-16 01:23:45,497 [DEBUG] [server]   type: STAKE
2025-06-16 01:23:45,497 [DEBUG] [server] }
2025-06-16 01:23:45,497 [DEBUG] [server] 
2025-06-16 01:23:45,498 [DEBUG] [node2] [2025-06-16 01:23:45] [INFO] [node2:521] Want to forge block 1 with hash 905722d5
2025-06-16 01:23:45,498 [DEBUG] [node1] [2025-06-16 01:23:45] [INFO] [node1:276] received STAKE: node2 stakes 10.0
2025-06-16 01:23:45,498 [DEBUG] [node1] [2025-06-16 01:23:45] [INFO] [node1:128] Voted to accept Block 1, hash=905722d5
2025-06-16 01:23:45,498 [DEBUG] [node1] [2025-06-16 01:23:45] [INFO] [node1:216] Received BLOCK_VOTE from node2 on block 905722d5
2025-06-16 01:23:45,499 [DEBUG] [node1] [2025-06-16 01:23:45] [INFO] [node1:236] Block 905722d5 vote ratio: 1.00(2/2)
2025-06-16 01:23:45,499 [DEBUG] [node1] [2025-06-16 01:23:45] [INFO] [node1:242] Validated Block 1 from node2, processing...
2025-06-16 01:23:45,499 [DEBUG] [node1] [2025-06-16 01:23:45] [INFO] [blockchain:150] Adding block 1 to main chain
2025-06-16 01:23:45,500 [DEBUG] [node1] [2025-06-16 01:23:45] [INFO] [node1:144] Added new block 1 with hash 905722d5. Chain length is now 1(excluding genesis).
2025-06-16 01:23:45,500 [DEBUG] [server] [2025-06-16 01:23:45] [INFO] [server:84] received message [BLOCK]
2025-06-16 01:23:45,500 [DEBUG] [server]   sender   : node2
2025-06-16 01:23:45,500 [DEBUG] [server]   full msg :
2025-06-16 01:23:45,500 [DEBUG] [server] type: BLOCK
2025-06-16 01:23:45,500 [DEBUG] [server] sender_id: "node2"
2025-06-16 01:23:45,501 [DEBUG] [server] block {
2025-06-16 01:23:45,501 [DEBUG] [server]   index: 1
2025-06-16 01:23:45,501 [DEBUG] [server]   prev_hash: "97045df0a09b7b396d0a62dc5cc1b013bd06c479df40b4333c83490755ef9661"
2025-06-16 01:23:45,501 [DEBUG] [server]   hash: "905722d5d937370be9f925c92f8259a30634b74b86f8e45d57f15912dd865336"
2025-06-16 01:23:45,501 [DEBUG] [server]   validator: "node2"
2025-06-16 01:23:45,501 [DEBUG] [server]   transactions {
2025-06-16 01:23:45,501 [DEBUG] [server]     sender: "node1"
2025-06-16 01:23:45,501 [DEBUG] [server]     receiver: "node1"
2025-06-16 01:23:45,502 [DEBUG] [server]     amount: 10.0
2025-06-16 01:23:45,502 [DEBUG] [server]     timestamp: 1750008223.848002
2025-06-16 01:23:45,502 [DEBUG] [server]     type: STAKE
2025-06-16 01:23:45,502 [DEBUG] [server]   }
2025-06-16 01:23:45,502 [DEBUG] [server]   transactions {
2025-06-16 01:23:45,502 [DEBUG] [server]     sender: "node1"
2025-06-16 01:23:45,502 [DEBUG] [server]     receiver: "node2"
2025-06-16 01:23:45,502 [DEBUG] [server]     amount: 10.0
2025-06-16 01:23:45,503 [DEBUG] [server]     timestamp: 1750008223.848898
2025-06-16 01:23:45,503 [DEBUG] [server]   }
2025-06-16 01:23:45,503 [DEBUG] [server]   transactions {
2025-06-16 01:23:45,503 [DEBUG] [server]     sender: "node2"
2025-06-16 01:23:45,503 [DEBUG] [server]     receiver: "node2"
2025-06-16 01:23:45,503 [DEBUG] [server]     amount: 10.0
2025-06-16 01:23:45,503 [DEBUG] [server]     timestamp: 1750008225.4928188
2025-06-16 01:23:45,503 [DEBUG] [server]     type: STAKE
2025-06-16 01:23:45,504 [DEBUG] [server]   }
2025-06-16 01:23:45,504 [DEBUG] [server]   timestamp: 1750008225.493742
2025-06-16 01:23:45,504 [DEBUG] [server] }
2025-06-16 01:23:45,504 [DEBUG] [server] 
2025-06-16 01:23:45,504 [DEBUG] [server] [2025-06-16 01:23:45] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-16 01:23:45,504 [DEBUG] [server]   sender   : node2
2025-06-16 01:23:45,504 [DEBUG] [server]   full msg :
2025-06-16 01:23:45,504 [DEBUG] [server] type: BLOCK_VOTE
2025-06-16 01:23:45,505 [DEBUG] [server] sender_id: "node2"
2025-06-16 01:23:45,505 [DEBUG] [server] block_vote {
2025-06-16 01:23:45,505 [DEBUG] [server]   voter_id: "node2"
2025-06-16 01:23:45,505 [DEBUG] [server]   block_hash: "905722d5d937370be9f925c92f8259a30634b74b86f8e45d57f15912dd865336"
2025-06-16 01:23:45,505 [DEBUG] [server] }
2025-06-16 01:23:45,505 [DEBUG] [server] 
2025-06-16 01:23:45,505 [DEBUG] [server] [2025-06-16 01:23:45] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-16 01:23:45,505 [DEBUG] [server]   sender   : node1
2025-06-16 01:23:45,505 [DEBUG] [server]   full msg :
2025-06-16 01:23:45,506 [DEBUG] [server] type: BLOCK_VOTE
2025-06-16 01:23:45,506 [DEBUG] [server] sender_id: "node1"
2025-06-16 01:23:45,506 [DEBUG] [server] block_vote {
2025-06-16 01:23:45,506 [DEBUG] [server]   voter_id: "node1"
2025-06-16 01:23:45,506 [DEBUG] [server]   block_hash: "905722d5d937370be9f925c92f8259a30634b74b86f8e45d57f15912dd865336"
2025-06-16 01:23:45,506 [DEBUG] [server] }
2025-06-16 01:23:45,506 [DEBUG] [server] 
2025-06-16 01:23:45,506 [DEBUG] [node2] [2025-06-16 01:23:45] [INFO] [node2:128] Voted to accept Block 1, hash=905722d5
2025-06-16 01:23:45,506 [DEBUG] [node2] [2025-06-16 01:23:45] [INFO] [node2:216] Received BLOCK_VOTE from node1 on block 905722d5
2025-06-16 01:23:45,506 [DEBUG] [node2] [2025-06-16 01:23:45] [INFO] [node2:236] Block 905722d5 vote ratio: 1.00(2/2)
2025-06-16 01:23:45,507 [DEBUG] [node2] [2025-06-16 01:23:45] [INFO] [node2:242] Validated Block 1 from node2, processing...
2025-06-16 01:23:45,507 [DEBUG] [node1] [2025-06-16 01:23:45] [INFO] [node1:244] added new block. Chain length is now 1(excluding genesis).
2025-06-16 01:23:45,507 [DEBUG] [node2] [2025-06-16 01:23:45] [INFO] [blockchain:150] Adding block 1 to main chain
2025-06-16 01:23:45,507 [DEBUG] [node2] [2025-06-16 01:23:45] [INFO] [node2:144] Added new block 1 with hash 905722d5. Chain length is now 1(excluding genesis).
2025-06-16 01:23:45,507 [DEBUG] [node2] [2025-06-16 01:23:45] [INFO] [node2:244] added new block. Chain length is now 1(excluding genesis).
2025-06-16 01:23:48,848 [DEBUG] [DEBUG] 9s 无命令
2025-06-16 01:23:49,644 [INFO] >>> (node2) tx node1 10
2025-06-16 01:23:49,644 [INFO] >>> (node2) forge --force
2025-06-16 01:23:49,645 [DEBUG] [node2] [2025-06-16 01:23:49] [INFO] [node2:453] sent TRANSFER transaction: node2 -> node1 10.0
2025-06-16 01:23:49,646 [DEBUG] [node2] [2025-06-16 01:23:49] [WARNING] [node2:503] FORCING block forge -- skipping validator check!
2025-06-16 01:23:49,647 [DEBUG] [node2] [2025-06-16 01:23:49] [INFO] [node2:521] Want to forge block 2 with hash c696eef0
2025-06-16 01:23:49,647 [DEBUG] [node2] [2025-06-16 01:23:49] [INFO] [node2:128] Voted to accept Block 2, hash=c696eef0
2025-06-16 01:23:49,647 [DEBUG] [server] [2025-06-16 01:23:49] [INFO] [server:84] received message [TRANSACTION]
2025-06-16 01:23:49,647 [DEBUG] [server]   sender   : node2
2025-06-16 01:23:49,648 [DEBUG] [server]   full msg :
2025-06-16 01:23:49,648 [DEBUG] [server] type: TRANSACTION
2025-06-16 01:23:49,648 [DEBUG] [server] sender_id: "node2"
2025-06-16 01:23:49,648 [DEBUG] [server] tx {
2025-06-16 01:23:49,648 [DEBUG] [server]   sender: "node2"
2025-06-16 01:23:49,648 [DEBUG] [server]   receiver: "node1"
2025-06-16 01:23:49,648 [DEBUG] [server]   amount: 10.0
2025-06-16 01:23:49,648 [DEBUG] [server]   timestamp: 1750008229.644994
2025-06-16 01:23:49,648 [DEBUG] [server] }
2025-06-16 01:23:49,649 [DEBUG] [server] 
2025-06-16 01:23:49,649 [DEBUG] [node1] [2025-06-16 01:23:49] [INFO] [node1:270] received TRANSFER: node2 → node1, amount 10.0
2025-06-16 01:23:49,650 [DEBUG] [node1] [2025-06-16 01:23:49] [INFO] [node1:128] Voted to accept Block 2, hash=c696eef0
2025-06-16 01:23:49,650 [DEBUG] [node1] [2025-06-16 01:23:49] [INFO] [node1:216] Received BLOCK_VOTE from node2 on block c696eef0
2025-06-16 01:23:49,650 [DEBUG] [node1] [2025-06-16 01:23:49] [INFO] [node1:236] Block c696eef0 vote ratio: 1.00(2/2)
2025-06-16 01:23:49,650 [DEBUG] [node1] [2025-06-16 01:23:49] [INFO] [node1:242] Validated Block 2 from node2, processing...
2025-06-16 01:23:49,650 [DEBUG] [server] [2025-06-16 01:23:49] [INFO] [server:84] received message [BLOCK]
2025-06-16 01:23:49,650 [DEBUG] [server]   sender   : node2
2025-06-16 01:23:49,650 [DEBUG] [server]   full msg :
2025-06-16 01:23:49,651 [DEBUG] [server] type: BLOCK
2025-06-16 01:23:49,651 [DEBUG] [server] sender_id: "node2"
2025-06-16 01:23:49,651 [DEBUG] [server] block {
2025-06-16 01:23:49,651 [DEBUG] [server]   index: 2
2025-06-16 01:23:49,651 [DEBUG] [server]   prev_hash: "905722d5d937370be9f925c92f8259a30634b74b86f8e45d57f15912dd865336"
2025-06-16 01:23:49,651 [DEBUG] [server]   hash: "c696eef0e6bf171c9da7cf5be084fab0e08b6bc161f61bd3c598e8b46d6e9f97"
2025-06-16 01:23:49,651 [DEBUG] [server]   validator: "node2"
2025-06-16 01:23:49,651 [DEBUG] [server]   transactions {
2025-06-16 01:23:49,652 [DEBUG] [server]     sender: "node2"
2025-06-16 01:23:49,652 [DEBUG] [server]     receiver: "node1"
2025-06-16 01:23:49,652 [DEBUG] [server]     amount: 10.0
2025-06-16 01:23:49,652 [DEBUG] [server]     timestamp: 1750008229.644994
2025-06-16 01:23:49,652 [DEBUG] [server]   }
2025-06-16 01:23:49,652 [DEBUG] [server]   timestamp: 1750008229.6456761
2025-06-16 01:23:49,652 [DEBUG] [server] }
2025-06-16 01:23:49,652 [DEBUG] [server] 
2025-06-16 01:23:49,652 [DEBUG] [server] [2025-06-16 01:23:49] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-16 01:23:49,653 [DEBUG] [server]   sender   : node2
2025-06-16 01:23:49,653 [DEBUG] [server]   full msg :
2025-06-16 01:23:49,653 [DEBUG] [server] type: BLOCK_VOTE
2025-06-16 01:23:49,653 [DEBUG] [server] sender_id: "node2"
2025-06-16 01:23:49,653 [DEBUG] [server] block_vote {
2025-06-16 01:23:49,653 [DEBUG] [server]   voter_id: "node2"
2025-06-16 01:23:49,653 [DEBUG] [server]   block_hash: "c696eef0e6bf171c9da7cf5be084fab0e08b6bc161f61bd3c598e8b46d6e9f97"
2025-06-16 01:23:49,653 [DEBUG] [server] }
2025-06-16 01:23:49,654 [DEBUG] [server] 
2025-06-16 01:23:49,654 [DEBUG] [server] [2025-06-16 01:23:49] [INFO] [server:84] received message [BLOCK_VOTE]
2025-06-16 01:23:49,654 [DEBUG] [server]   sender   : node1
2025-06-16 01:23:49,654 [DEBUG] [server]   full msg :
2025-06-16 01:23:49,654 [DEBUG] [server] type: BLOCK_VOTE
2025-06-16 01:23:49,654 [DEBUG] [server] sender_id: "node1"
2025-06-16 01:23:49,654 [DEBUG] [server] block_vote {
2025-06-16 01:23:49,655 [DEBUG] [server]   voter_id: "node1"
2025-06-16 01:23:49,655 [DEBUG] [server]   block_hash: "c696eef0e6bf171c9da7cf5be084fab0e08b6bc161f61bd3c598e8b46d6e9f97"
2025-06-16 01:23:49,655 [DEBUG] [server] }
2025-06-16 01:23:49,655 [DEBUG] [server] 
2025-06-16 01:23:49,655 [DEBUG] [node2] [2025-06-16 01:23:49] [INFO] [node2:216] Received BLOCK_VOTE from node1 on block c696eef0
2025-06-16 01:23:49,655 [DEBUG] [node2] [2025-06-16 01:23:49] [INFO] [node2:236] Block c696eef0 vote ratio: 1.00(2/2)
2025-06-16 01:23:49,656 [DEBUG] [node1] [2025-06-16 01:23:49] [INFO] [blockchain:150] Adding block 2 to main chain
2025-06-16 01:23:49,656 [DEBUG] [node1] [2025-06-16 01:23:49] [INFO] [node1:144] Added new block 2 with hash c696eef0. Chain length is now 2(excluding genesis).
2025-06-16 01:23:49,656 [DEBUG] [node1] [2025-06-16 01:23:49] [INFO] [node1:244] added new block. Chain length is now 2(excluding genesis).
2025-06-16 01:23:49,656 [DEBUG] [node2] [2025-06-16 01:23:49] [INFO] [node2:242] Validated Block 2 from node2, processing...
2025-06-16 01:23:49,656 [DEBUG] [node2] [2025-06-16 01:23:49] [INFO] [blockchain:150] Adding block 2 to main chain
2025-06-16 01:23:49,656 [DEBUG] [node2] [2025-06-16 01:23:49] [INFO] [node2:144] Added new block 2 with hash c696eef0. Chain length is now 2(excluding genesis).
2025-06-16 01:23:49,656 [DEBUG] [node2] [2025-06-16 01:23:49] [INFO] [node2:244] added new block. Chain length is now 2(excluding genesis).
2025-06-16 01:23:50,312 [DEBUG] [DEBUG] 11s 无命令
2025-06-16 01:23:51,885 [INFO] >>> (node1) info
2025-06-16 01:23:51,885 [INFO] >>> (node2) info
2025-06-16 01:23:52,058 [INFO] 结束等待 5.0s…
2025-06-16 01:23:57,063 [INFO] >>> (server) exit
2025-06-16 01:23:57,079 [DEBUG] [server] [2025-06-16 01:23:57] [INFO] [server:268] Shutting down server...
2025-06-16 01:23:57,080 [DEBUG] [server] [2025-06-16 01:23:57] [INFO] [server:287] Closing all client connections...
2025-06-16 01:23:57,081 [DEBUG] [server] [2025-06-16 01:23:57] [INFO] [server:156] Node node2 disconnected.
2025-06-16 01:23:57,081 [DEBUG] [server] [2025-06-16 01:23:57] [INFO] [server:156] Node node1 disconnected.
2025-06-16 01:23:57,082 [DEBUG] [server] [2025-06-16 01:23:57] [INFO] [server:294] Closing server socket...
2025-06-16 01:23:57,082 [DEBUG] [server] [2025-06-16 01:23:57] [INFO] [server:299] Server shutdown complete. Bye!
2025-06-16 01:23:57,084 [DEBUG] [node2] [2025-06-16 01:23:57] [INFO] [node2:104] Received BYE message from node server.
2025-06-16 01:23:57,084 [DEBUG] [node1] [2025-06-16 01:23:57] [INFO] [node1:104] Received BYE message from node server.
2025-06-16 01:23:57,085 [DEBUG] [node1] [2025-06-16 01:23:57] [INFO] [node1:106] Server is shutting down, exiting.
2025-06-16 01:23:57,085 [DEBUG] [node1] [2025-06-16 01:23:57] [INFO] [node1:577] Exiting.
2025-06-16 01:23:57,086 [DEBUG] [node2] [2025-06-16 01:23:57] [INFO] [node2:106] Server is shutting down, exiting.
2025-06-16 01:23:57,086 [DEBUG] [node2] [2025-06-16 01:23:57] [INFO] [node2:577] Exiting.
2025-06-16 01:23:57,086 [DEBUG] [node2] [2025-06-16 01:23:57] [INFO] [blockchain:264] Blockchain saved to data_node_node2
2025-06-16 01:23:57,086 [DEBUG] [node1] [2025-06-16 01:23:57] [INFO] [blockchain:264] Blockchain saved to data_node_node1
2025-06-16 01:23:57,087 [DEBUG] [node1] Node ID: node1
2025-06-16 01:23:57,087 [DEBUG] [node1] Known nodes: {'node2', 'node1'}
2025-06-16 01:23:57,087 [DEBUG] [node1] ========== Blockchain Structure ==========
2025-06-16 01:23:57,087 [DEBUG] [node1] Block 0 | hash=97045df0... | validator=genesis | tx_count=0 (main)
2025-06-16 01:23:57,087 [DEBUG] [node1] └── Block 1 | hash=905722d5... | validator=node2 | tx_count=3 (main)
2025-06-16 01:23:57,088 [DEBUG] [node1] └── └── Block 2 | hash=c696eef0... | validator=node2 | tx_count=1 (main)
2025-06-16 01:23:57,088 [DEBUG] [node1] ===================================
2025-06-16 01:23:57,088 [DEBUG] [node1] ========== Account State ==========
2025-06-16 01:23:57,088 [DEBUG] [node1]  Account node1 | Balance=90.00 | Stake=10.00
2025-06-16 01:23:57,088 [DEBUG] [node1]  Account node2 | Balance=90.00 | Stake=10.00
2025-06-16 01:23:57,088 [DEBUG] [node1]  Account node3 | Balance=100.00 | Stake=0.00
2025-06-16 01:23:57,088 [DEBUG] [node1] ===================================
2025-06-16 01:23:57,088 [DEBUG] [node1] ========== Pending Transactions ==========
2025-06-16 01:23:57,089 [DEBUG] [node1] ==========================================
2025-06-16 01:23:57,089 [DEBUG] [node2] Node ID: node2
2025-06-16 01:23:57,089 [DEBUG] [node2] Known nodes: {'node1', 'node2'}
2025-06-16 01:23:57,089 [DEBUG] [node2] ========== Blockchain Structure ==========
2025-06-16 01:23:57,089 [DEBUG] [node2] Block 0 | hash=97045df0... | validator=genesis | tx_count=0 (main)
2025-06-16 01:23:57,089 [DEBUG] [node2] └── Block 1 | hash=905722d5... | validator=node2 | tx_count=3 (main)
2025-06-16 01:23:57,089 [DEBUG] [node2] └── └── Block 2 | hash=c696eef0... | validator=node2 | tx_count=1 (main)
2025-06-16 01:23:57,089 [DEBUG] [node2] ===================================
2025-06-16 01:23:57,089 [DEBUG] [node2] ========== Account State ==========
2025-06-16 01:23:57,090 [DEBUG] [node2]  Account node1 | Balance=90.00 | Stake=10.00
2025-06-16 01:23:57,090 [DEBUG] [node2]  Account node2 | Balance=90.00 | Stake=10.00
2025-06-16 01:23:57,090 [DEBUG] [node2]  Account node3 | Balance=100.00 | Stake=0.00
2025-06-16 01:23:57,090 [DEBUG] [node2] ===================================
2025-06-16 01:23:57,090 [DEBUG] [node2] ========== Pending Transactions ==========
2025-06-16 01:23:57,091 [DEBUG] [node2] ==========================================
2025-06-16 01:23:57,106 [INFO] server 已优雅退出
2025-06-16 01:23:57,106 [INFO] 等待节点自动下线 5.0s…
